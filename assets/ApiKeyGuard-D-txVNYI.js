import{c as y,r as n,j as e,L as f,v}from"./index-Bh2rpe7Q.js";import{K as b,G as j}from"./key-C_zEcMl8.js";import{C as k}from"./circle-alert-CVHUdgI1.js";import{A as w}from"./arrow-right-BwHSD_YD.js";import{Z as N}from"./zap-DYczpXPW.js";import{S as M}from"./shield-check-BAQFr1a-.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],P=y("cpu",A),I=({settings:a,onUpdate:m})=>{const[t,h]=n.useState(a.activeProvider),[i,p]=n.useState(a.keys),[d,c]=n.useState(!1),[l,r]=n.useState(null),g=async s=>{s.preventDefault();const x=i[t];if(!(!x&&t!=="gemini")){c(!0),r(null);try{await v(t,x);const o=Array.from(new Set([...a.verifiedProviders||[],t]));m({...a,activeProvider:t,keys:i,verifiedProviders:o})}catch(o){r(o.message||"API Key 검증에 실패했습니다.")}finally{c(!1)}}},u=[{id:"gemini",name:"Google Gemini",icon:e.jsx(N,{size:18}),desc:"멀티모달 고성능 분석"},{id:"openai",name:"OpenAI (GPT)",icon:e.jsx(j,{size:18}),desc:"범용성 높은 분석"},{id:"claude",name:"Anthropic Claude",icon:e.jsx(P,{size:18}),desc:"섬세한 서사 묘사"},{id:"openrouter",name:"OpenRouter (DeepSeek)",icon:e.jsx(M,{size:18}),desc:"무료 DeepSeek 엔진"}];return e.jsxs("div",{className:"fixed inset-0 z-[500] flex items-center justify-center p-4 bg-slate-950",children:[e.jsx("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-500 via-transparent to-transparent"}),e.jsxs("div",{className:"relative w-full max-w-2xl glass-panel p-8 md:p-12 rounded-3xl border border-white/10 shadow-2xl animate-fade-in-up",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:"text-4xl font-black mb-3 text-white tracking-tight",children:"HarasPersona"}),e.jsx("p",{className:"text-slate-400",children:"당신의 캐릭터 서사 도우미"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(s=>e.jsxs("button",{type:"button",onClick:()=>{h(s.id),r(null)},className:`p-4 rounded-2xl border text-left transition-all ${t===s.id?"bg-indigo-600/20 border-indigo-500 shadow-[0_0_20px_rgba(99,102,241,0.2)]":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[e.jsx("div",{className:`mb-2 ${t===s.id?"text-indigo-400":"text-slate-400"}`,children:s.icon}),e.jsx("div",{className:"font-bold text-white text-sm",children:s.name}),e.jsx("div",{className:"text-[10px] opacity-50 text-slate-300",children:s.desc})]},s.id))}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"text-xs font-bold text-slate-600 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(b,{size:14})," ",t.toUpperCase()," API Key"]}),e.jsx("input",{type:"password",value:i[t],onChange:s=>{p({...i,[t]:s.target.value}),r(null)},placeholder:t==="gemini"?"Gemini API Key를 입력하세요...":`${t} API Key를 입력하세요...`,className:`w-full px-5 py-4 bg-white/5 border rounded-2xl text-white outline-none focus:ring-2 focus:ring-indigo-500 transition-all font-mono text-sm ${l?"border-rose-500/50 ring-1 ring-rose-500/20":"border-white/10"}`,required:t!=="gemini",disabled:d}),l&&e.jsxs("div",{className:"flex items-center gap-2 text-rose-400 text-xs mt-2 animate-shake",children:[e.jsx(k,{size:14}),e.jsx("span",{children:l})]})]}),e.jsx("div",{className:"flex flex-col gap-4",children:e.jsx("button",{type:"submit",disabled:d||!i[t]&&t!=="gemini",className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-black rounded-2xl shadow-xl transition-all flex items-center justify-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs(e.Fragment,{children:[e.jsx(f,{size:20,className:"animate-spin"}),e.jsx("span",{children:"검증 중..."})]}):e.jsxs(e.Fragment,{children:["시작하기 ",e.jsx(w,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})}),e.jsx("p",{className:"text-[10px] text-slate-700 text-center",children:"입력하신 키는 로컬 저장소에 안전하게 보관되며, 외부로 전송되지 않습니다."})]})]})]})};export{I as default};
