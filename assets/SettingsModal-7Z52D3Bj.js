import{c as M,r as m,j as e,L as $,a as y,v as E}from"./index-C_wzGI65.js";import{M as G,X as D,D as K,U as L,T as _}from"./MessageModal-Bc43eunZ.js";import{K as q,G as F}from"./key-VCUyzfrm.js";import{C as R}from"./check-CnWv8MG4.js";import{C as U,P as Y}from"./palette-Dqo3fuZ-.js";import"./circle-check-PvNHOdUm.js";import"./circle-alert-GAaP9RL_.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],J=M("database",B);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],X=M("sliders-vertical",W),Z=o=>{if(!o||!o.startsWith("#"))return .5;const x=o.substring(1),a=parseInt(x,16),p=a>>16&255,l=a>>8&255,b=a>>0&255,n=[p,l,b].map(r=>(r/=255,r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)));return .2126*n[0]+.7152*n[1]+.0722*n[2]},v=o=>Z(o)>.5?"#0f172a":"#f8fafc",H=Array.from({length:27},(o,x)=>{const a=x-12,p=a>=0?"+":"",l=a===9?"서울, 도쿄 (GMT+9)":a===0?"런던, 그리니치 (GMT+0)":a===-5?"뉴욕 (GMT-5)":`GMT${p}${a}`;return{offset:a,label:l}}),le=({isOpen:o,onClose:x,settings:a,onUpdateSettings:p,currentTheme:l,setTheme:b,presets:n,customColors:r,setCustomColors:g})=>{const[t,O]=m.useState(a.activeProvider),[j,k]=m.useState(!1),[N,P]=m.useState(new Set(a.verifiedProviders||[])),[f,i]=m.useState({isOpen:!1,type:"info",title:"",message:"",onConfirm:()=>{}});m.useEffect(()=>{P(new Set(a.verifiedProviders||[]))},[a.verifiedProviders]);const z=async()=>{const s=a.keys[t];k(!0);try{await E(t,s);const c=Array.from(new Set([...a.verifiedProviders||[],t]));p({...a,activeProvider:t,verifiedProviders:c}),i({isOpen:!0,type:"success",title:"검증 성공",message:`${t.toUpperCase()} 설정이 적용되었습니다.`,onConfirm:()=>i(d=>({...d,isOpen:!1}))})}catch(c){i({isOpen:!0,type:"error",title:"검증 실패",message:c.message,onConfirm:()=>i(d=>({...d,isOpen:!1}))})}finally{k(!1)}},S=s=>{const c=(a.verifiedProviders||[]).filter(d=>d!==t);p({...a,keys:{...a.keys,[t]:s.target.value},verifiedProviders:c})},A=s=>{var w;const c=(w=s.target.files)==null?void 0:w[0];if(!c)return;const d=new FileReader;d.onload=async T=>{var C;try{const h=JSON.parse((C=T.target)==null?void 0:C.result),V=await y.restoreSystemBackup(h);i(V?{isOpen:!0,type:"success",title:"복원 완료",message:"전체 데이터가 성공적으로 복원되었습니다. 시스템을 재시작합니다.",onConfirm:()=>window.location.reload()}:{isOpen:!0,type:"error",title:"복원 실패",message:"유효하지 않은 데이터 형식입니다.",onConfirm:()=>i(I=>({...I,isOpen:!1}))})}catch{i({isOpen:!0,type:"error",title:"로드 오류",message:"파일을 읽는 중 오류가 발생했습니다.",onConfirm:()=>i(h=>({...h,isOpen:!1}))})}},d.readAsText(c)},u=m.useMemo(()=>{const s=n[l]||n.morning;return v(l==="custom"?r.bgTo:s.colors.bgTo)},[l,r,n]);return o?e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(G,{isOpen:f.isOpen,type:f.type,title:f.title,message:f.message,onConfirm:f.onConfirm,onCancel:()=>i(s=>({...s,isOpen:!1}))}),e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:x}),e.jsxs("div",{className:"relative w-full max-w-lg glass-panel rounded-[2.5rem] shadow-2xl flex flex-col h-[85vh] overflow-hidden border",style:{borderColor:"var(--glass-border)",backgroundColor:"var(--glass-bg)",color:u},children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b shrink-0",style:{borderColor:"var(--glass-border)"},children:[e.jsx("h2",{className:"text-xl font-black",children:"시스템 설정"}),e.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-black/10 transition-colors",children:e.jsx(D,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-10 custom-scrollbar",children:[e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 flex items-center gap-2",children:[e.jsx(q,{size:12})," AI 엔진 및 API KEY 설정"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 p-1 bg-black/20 rounded-xl border border-white/5",children:["gemini","openai","claude","openrouter"].map(s=>e.jsx("button",{onClick:()=>O(s),className:`py-2 rounded-lg text-[10px] font-black transition-all flex items-center justify-center gap-1.5 ${t===s?"bg-indigo-600 text-white shadow-lg":"opacity-40 hover:opacity-100 hover:bg-white/5"}`,children:s.toUpperCase()},s))}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:a.keys[t],onChange:S,placeholder:t==="gemini"?"Gemini API KEY를 입력하세요...":`${t.toUpperCase()} API KEY를 입력하세요...`,className:"w-full bg-black/20 border border-white/10 rounded-xl pl-4 pr-20 py-3 text-xs outline-none focus:ring-1 focus:ring-indigo-500",style:{color:u}}),e.jsx("button",{onClick:z,disabled:j,className:`absolute right-1.5 top-1.5 bottom-1.5 px-4 rounded-lg text-white text-[10px] font-black shadow-lg transition-all flex items-center justify-center gap-1 ${N.has(t)?"bg-emerald-500":"bg-indigo-600"}`,children:j?e.jsx($,{size:12,className:"animate-spin"}):N.has(t)?e.jsx(R,{size:14}):"검증"})]}),e.jsx("p",{className:"text-[9px] opacity-40 italic mt-1 leading-relaxed",children:"* API 키는 브라우저 로컬 저장소에 안전하게 보관됩니다."})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 flex items-center gap-2",children:[e.jsx(F,{size:12})," 지역 및 시간대"]}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:a.timezoneOffset,onChange:s=>p({...a,timezoneOffset:parseInt(s.target.value)}),className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-xs outline-none appearance-none font-bold cursor-pointer transition-all hover:bg-black/30",style:{color:u},children:H.map(s=>e.jsx("option",{value:s.offset,className:"bg-slate-900 text-white",children:s.label},s.offset))}),e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none opacity-40",children:e.jsx(U,{size:14})})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 flex items-center gap-2",children:[e.jsx(Y,{size:12})," 테마 프리셋"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.values(n).map(s=>e.jsxs("button",{onClick:()=>b(s.id),className:`p-3 rounded-2xl border flex items-center gap-3 transition-all ${l===s.id?"ring-2 ring-indigo-500":""}`,style:{background:`linear-gradient(135deg, ${s.colors.bgFrom}, ${s.colors.bgTo})`,borderColor:"rgba(255,255,255,0.1)"},children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:s.colors.accentPrimary}}),e.jsx("span",{className:"font-black text-xs",style:{color:v(s.colors.bgTo)},children:s.name})]},s.id))}),l==="custom"&&e.jsxs("div",{className:"p-4 rounded-[2rem] bg-black/5 border border-white/5 space-y-4 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-[10px] font-black uppercase opacity-40",children:"커스텀 색상 지정"}),e.jsx(X,{size:14,className:"opacity-40"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("input",{type:"color",value:r.bgFrom,onChange:s=>g({...r,bgFrom:s.target.value}),className:"w-20 h-12 rounded-xl cursor-pointer bg-transparent border-none p-0"}),e.jsx("span",{className:"text-[8px] font-black opacity-50 uppercase",children:"시작색"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("input",{type:"color",value:r.bgTo,onChange:s=>g({...r,bgTo:s.target.value}),className:"w-20 h-12 rounded-xl cursor-pointer bg-transparent border-none p-0"}),e.jsx("span",{className:"text-[8px] font-black opacity-50 uppercase",children:"종료색"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("input",{type:"color",value:r.accent,onChange:s=>g({...r,accent:s.target.value}),className:"w-20 h-12 rounded-xl cursor-pointer bg-transparent border-none p-0"}),e.jsx("span",{className:"text-[8px] font-black opacity-50 uppercase",children:"강조색"})]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest opacity-40 flex items-center gap-2",children:[e.jsx(J,{size:12})," 데이터 관리"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>y.createSystemBackup(),className:"flex items-center justify-center gap-2 p-4 rounded-xl bg-black/30 border border-white/5 text-[10px] font-black hover:bg-black/50 transition-colors",children:[e.jsx(K,{size:14})," 전체 백업"]}),e.jsxs("label",{className:"flex items-center justify-center gap-2 p-4 rounded-xl bg-black/30 border border-white/5 cursor-pointer text-[10px] font-black hover:bg-black/50 transition-colors",children:[e.jsx(L,{size:14})," 전체 복원",e.jsx("input",{type:"file",className:"hidden",onChange:A,accept:".json"})]})]}),e.jsxs("button",{onClick:()=>i({isOpen:!0,type:"confirm",title:"초기화",message:"정말로 모든 데이터를 삭제하시겠습니까?",onConfirm:()=>y.clearAllData()}),className:"w-full p-3 rounded-xl bg-rose-500/10 border border-rose-500/30 text-rose-500 font-black text-[10px]",children:[e.jsx(_,{size:12,className:"inline mr-1"})," 데이터 초기화"]})]})]})]})]}):null};export{le as default};
