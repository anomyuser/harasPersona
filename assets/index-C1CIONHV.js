const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./AnalysisResultView-CBsFucQu.js","./AnalysisChart-BR6hrnW4.js","./RadarChart-B6gbTz-F.js","./share-2-CgzU6msx.js","./save-BczRCgK0.js","./check-7g-1WjAg.js","./shield-check-W2yNAhBl.js","./SettingsModal-wNwgUlsm.js","./MessageModal-CzT4uia6.js","./x-DoXCJK8m.js","./circle-alert-TR_3eAcO.js","./key-Bjg2cOH0.js","./palette-DoMyXat2.js","./RelationshipResultView-DLzBJRWd.js","./zap-BEpriB8x.js","./NarrativeView-C7vvhQpz.js","./CharacterDetailModal-Bprr1fpG.js","./users-Qpe1gNvS.js","./arrow-right-XU2bi69z.js","./SaveConflictModal-B-aY0fRg.js","./ApiKeyGuard-CSPi5631.js","./CharacterDashboard-hIBB_Mo1.js"])))=>i.map(i=>d[i]);
function R0(i,t){for(var o=0;o<t.length;o++){const a=t[o];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in i)){const f=Object.getOwnPropertyDescriptor(a,r);f&&Object.defineProperty(i,r,f.get?f:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function hg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ku={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function N0(){if(mm)return ql;mm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return ql.Fragment=t,ql.jsx=o,ql.jsxs=o,ql}var hm;function M0(){return hm||(hm=1,Ku.exports=N0()),Ku.exports}var H=M0(),Qu={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function w0(){if(gm)return pe;gm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,b={};function O(N,z,k){this.props=N,this.context=z,this.refs=b,this.updater=k||M}O.prototype.isReactComponent={},O.prototype.setState=function(N,z){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,z,"setState")},O.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function J(){}J.prototype=O.prototype;function F(N,z,k){this.props=N,this.context=z,this.refs=b,this.updater=k||M}var $=F.prototype=new J;$.constructor=F,G($,O.prototype),$.isPureReactComponent=!0;var oe=Array.isArray;function ie(){}var Q={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function W(N,z,k){var j=k.ref;return{$$typeof:i,type:N,key:z,ref:j!==void 0?j:null,props:k}}function me(N,z){return W(N.type,z,N.props)}function he(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function qe(N){var z={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(k){return z[k]})}var Re=/\/+/g;function Ye(N,z){return typeof N=="object"&&N!==null&&N.key!=null?qe(""+N.key):z.toString(36)}function nt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ie,ie):(N.status="pending",N.then(function(z){N.status==="pending"&&(N.status="fulfilled",N.value=z)},function(z){N.status==="pending"&&(N.status="rejected",N.reason=z)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function U(N,z,k,j,fe){var te=typeof N;(te==="undefined"||te==="boolean")&&(N=null);var Ce=!1;if(N===null)Ce=!0;else switch(te){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(N.$$typeof){case i:case t:Ce=!0;break;case v:return Ce=N._init,U(Ce(N._payload),z,k,j,fe)}}if(Ce)return fe=fe(N),Ce=j===""?"."+Ye(N,0):j,oe(fe)?(k="",Ce!=null&&(k=Ce.replace(Re,"$&/")+"/"),U(fe,z,k,"",function(Qe){return Qe})):fe!=null&&(he(fe)&&(fe=me(fe,k+(fe.key==null||N&&N.key===fe.key?"":(""+fe.key).replace(Re,"$&/")+"/")+Ce)),z.push(fe)),1;Ce=0;var it=j===""?".":j+":";if(oe(N))for(var ze=0;ze<N.length;ze++)j=N[ze],te=it+Ye(j,ze),Ce+=U(j,z,k,te,fe);else if(ze=C(N),typeof ze=="function")for(N=ze.call(N),ze=0;!(j=N.next()).done;)j=j.value,te=it+Ye(j,ze++),Ce+=U(j,z,k,te,fe);else if(te==="object"){if(typeof N.then=="function")return U(nt(N),z,k,j,fe);throw z=String(N),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function X(N,z,k){if(N==null)return N;var j=[],fe=0;return U(N,j,"","",function(te){return z.call(k,te,fe++)}),j}function se(N){if(N._status===-1){var z=N._result;z=z(),z.then(function(k){(N._status===0||N._status===-1)&&(N._status=1,N._result=k)},function(k){(N._status===0||N._status===-1)&&(N._status=2,N._result=k)}),N._status===-1&&(N._status=0,N._result=z)}if(N._status===1)return N._result.default;throw N._result}var xe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},De={map:X,forEach:function(N,z,k){X(N,function(){z.apply(this,arguments)},k)},count:function(N){var z=0;return X(N,function(){z++}),z},toArray:function(N){return X(N,function(z){return z})||[]},only:function(N){if(!he(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return pe.Activity=_,pe.Children=De,pe.Component=O,pe.Fragment=o,pe.Profiler=r,pe.PureComponent=F,pe.StrictMode=a,pe.Suspense=y,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,pe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Q.H.useMemoCache(N)}},pe.cache=function(N){return function(){return N.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(N,z,k){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var j=G({},N.props),fe=N.key;if(z!=null)for(te in z.key!==void 0&&(fe=""+z.key),z)!ye.call(z,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&z.ref===void 0||(j[te]=z[te]);var te=arguments.length-2;if(te===1)j.children=k;else if(1<te){for(var Ce=Array(te),it=0;it<te;it++)Ce[it]=arguments[it+2];j.children=Ce}return W(N.type,fe,j)},pe.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},pe.createElement=function(N,z,k){var j,fe={},te=null;if(z!=null)for(j in z.key!==void 0&&(te=""+z.key),z)ye.call(z,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(fe[j]=z[j]);var Ce=arguments.length-2;if(Ce===1)fe.children=k;else if(1<Ce){for(var it=Array(Ce),ze=0;ze<Ce;ze++)it[ze]=arguments[ze+2];fe.children=it}if(N&&N.defaultProps)for(j in Ce=N.defaultProps,Ce)fe[j]===void 0&&(fe[j]=Ce[j]);return W(N,te,fe)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(N){return{$$typeof:g,render:N}},pe.isValidElement=he,pe.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:se}},pe.memo=function(N,z){return{$$typeof:h,type:N,compare:z===void 0?null:z}},pe.startTransition=function(N){var z=Q.T,k={};Q.T=k;try{var j=N(),fe=Q.S;fe!==null&&fe(k,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(ie,xe)}catch(te){xe(te)}finally{z!==null&&k.types!==null&&(z.types=k.types),Q.T=z}},pe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},pe.use=function(N){return Q.H.use(N)},pe.useActionState=function(N,z,k){return Q.H.useActionState(N,z,k)},pe.useCallback=function(N,z){return Q.H.useCallback(N,z)},pe.useContext=function(N){return Q.H.useContext(N)},pe.useDebugValue=function(){},pe.useDeferredValue=function(N,z){return Q.H.useDeferredValue(N,z)},pe.useEffect=function(N,z){return Q.H.useEffect(N,z)},pe.useEffectEvent=function(N){return Q.H.useEffectEvent(N)},pe.useId=function(){return Q.H.useId()},pe.useImperativeHandle=function(N,z,k){return Q.H.useImperativeHandle(N,z,k)},pe.useInsertionEffect=function(N,z){return Q.H.useInsertionEffect(N,z)},pe.useLayoutEffect=function(N,z){return Q.H.useLayoutEffect(N,z)},pe.useMemo=function(N,z){return Q.H.useMemo(N,z)},pe.useOptimistic=function(N,z){return Q.H.useOptimistic(N,z)},pe.useReducer=function(N,z,k){return Q.H.useReducer(N,z,k)},pe.useRef=function(N){return Q.H.useRef(N)},pe.useState=function(N){return Q.H.useState(N)},pe.useSyncExternalStore=function(N,z,k){return Q.H.useSyncExternalStore(N,z,k)},pe.useTransition=function(){return Q.H.useTransition()},pe.version="19.2.3",pe}var ym;function yc(){return ym||(ym=1,Qu.exports=w0()),Qu.exports}var K=yc();const gg=hg(K),$N=R0({__proto__:null,default:gg},[K]);var Zu={exports:{}},zl={},$u={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function I0(){return vm||(vm=1,(function(i){function t(U,X){var se=U.length;U.push(X);e:for(;0<se;){var xe=se-1>>>1,De=U[xe];if(0<r(De,X))U[xe]=X,U[se]=De,se=xe;else break e}}function o(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var X=U[0],se=U.pop();if(se!==X){U[0]=se;e:for(var xe=0,De=U.length,N=De>>>1;xe<N;){var z=2*(xe+1)-1,k=U[z],j=z+1,fe=U[j];if(0>r(k,se))j<De&&0>r(fe,k)?(U[xe]=fe,U[j]=se,xe=j):(U[xe]=k,U[z]=se,xe=z);else if(j<De&&0>r(fe,se))U[xe]=fe,U[j]=se,xe=j;else break e}}return X}function r(U,X){var se=U.sortIndex-X.sortIndex;return se!==0?se:U.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,_=null,T=3,C=!1,M=!1,G=!1,b=!1,O=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function $(U){for(var X=o(h);X!==null;){if(X.callback===null)a(h);else if(X.startTime<=U)a(h),X.sortIndex=X.expirationTime,t(y,X);else break;X=o(h)}}function oe(U){if(G=!1,$(U),!M)if(o(y)!==null)M=!0,ie||(ie=!0,qe());else{var X=o(h);X!==null&&nt(oe,X.startTime-U)}}var ie=!1,Q=-1,ye=5,W=-1;function me(){return b?!0:!(i.unstable_now()-W<ye)}function he(){if(b=!1,ie){var U=i.unstable_now();W=U;var X=!0;try{e:{M=!1,G&&(G=!1,J(Q),Q=-1),C=!0;var se=T;try{t:{for($(U),_=o(y);_!==null&&!(_.expirationTime>U&&me());){var xe=_.callback;if(typeof xe=="function"){_.callback=null,T=_.priorityLevel;var De=xe(_.expirationTime<=U);if(U=i.unstable_now(),typeof De=="function"){_.callback=De,$(U),X=!0;break t}_===o(y)&&a(y),$(U)}else a(y);_=o(y)}if(_!==null)X=!0;else{var N=o(h);N!==null&&nt(oe,N.startTime-U),X=!1}}break e}finally{_=null,T=se,C=!1}X=void 0}}finally{X?qe():ie=!1}}}var qe;if(typeof F=="function")qe=function(){F(he)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Ye=Re.port2;Re.port1.onmessage=he,qe=function(){Ye.postMessage(null)}}else qe=function(){O(he,0)};function nt(U,X){Q=O(function(){U(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(U){switch(T){case 1:case 2:case 3:var X=3;break;default:X=T}var se=T;T=X;try{return U()}finally{T=se}},i.unstable_requestPaint=function(){b=!0},i.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var se=T;T=U;try{return X()}finally{T=se}},i.unstable_scheduleCallback=function(U,X,se){var xe=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?xe+se:xe):se=xe,U){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=se+De,U={id:v++,callback:X,priorityLevel:U,startTime:se,expirationTime:De,sortIndex:-1},se>xe?(U.sortIndex=se,t(h,U),o(y)===null&&U===o(h)&&(G?(J(Q),Q=-1):G=!0,nt(oe,se-xe))):(U.sortIndex=De,t(y,U),M||C||(M=!0,ie||(ie=!0,qe()))),U},i.unstable_shouldYield=me,i.unstable_wrapCallback=function(U){var X=T;return function(){var se=T;T=X;try{return U.apply(this,arguments)}finally{T=se}}}})(Wu)),Wu}var Sm;function b0(){return Sm||(Sm=1,$u.exports=I0()),$u.exports}var ju={exports:{}},vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function x0(){if(_m)return vt;_m=1;var i=yc();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},vt.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},vt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},vt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},vt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,_=g(v,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:_,integrity:T,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},vt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},vt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,_=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},vt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},vt.requestFormReset=function(y){a.d.r(y)},vt.unstable_batchedUpdates=function(y,h){return y(h)},vt.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},vt.useFormStatus=function(){return p.H.useHostTransitionStatus()},vt.version="19.2.3",vt}var Tm;function D0(){if(Tm)return ju.exports;Tm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ju.exports=x0(),ju.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function U0(){if(Em)return zl;Em=1;var i=b0(),t=yc(),o=D0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var S=!1,E=d.child;E;){if(E===l){S=!0,l=d,s=m;break}if(E===s){S=!0,s=d,l=m;break}E=E.sibling}if(!S){for(E=m.child;E;){if(E===l){S=!0,l=m,s=d;break}if(E===s){S=!0,s=m,l=d;break}E=E.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function qe(e){return e===null||typeof e!="object"?null:(e=he&&e[he]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Symbol.for("react.client.reference");function Ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case O:return"Profiler";case b:return"StrictMode";case oe:return"Suspense";case ie:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case F:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:Ye(e.type)||"Memo";case ye:n=e._payload,e=e._init;try{return Ye(e(n))}catch{}}return null}var nt=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},xe=[],De=-1;function N(e){return{current:e}}function z(e){0>De||(e.current=xe[De],xe[De]=null,De--)}function k(e,n){De++,xe[De]=e.current,e.current=n}var j=N(null),fe=N(null),te=N(null),Ce=N(null);function it(e,n){switch(k(te,n),k(fe,e),k(j,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Hp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Hp(n),e=Vp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(j),k(j,e)}function ze(){z(j),z(fe),z(te)}function Qe(e){e.memoizedState!==null&&k(Ce,e);var n=j.current,l=Vp(n,e.type);n!==l&&(k(fe,e),k(j,l))}function Ti(e){fe.current===e&&(z(j),z(fe)),Ce.current===e&&(z(Ce),Gl._currentValue=se)}var ot,Oo;function Ut(e){if(ot===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);ot=n&&n[1]||"",Oo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+e+Oo}var Ji=!1;function Bn(e,n){if(!e||Ji)return"";Ji=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(P){var L=P}Reflect.construct(e,[],B)}else{try{B.call()}catch(P){L=P}e.call(B.prototype)}}else{try{throw Error()}catch(P){L=P}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(P){if(P&&L&&typeof P.stack=="string")return[P.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),S=m[0],E=m[1];if(S&&E){var A=S.split(`
`),D=E.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===D.length)for(s=A.length-1,d=D.length-1;1<=s&&0<=d&&A[s]!==D[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==D[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==D[d]){var V=`
`+A[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=d);break}}}finally{Ji=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ut(l):""}function Ps(e,n){switch(e.tag){case 26:case 27:case 5:return Ut(e.type);case 16:return Ut("Lazy");case 13:return e.child!==n&&n!==null?Ut("Suspense Fallback"):Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return Bn(e.type,!1);case 11:return Bn(e.type.render,!1);case 1:return Bn(e.type,!0);case 31:return Ut("Activity");default:return""}}function Yi(e){try{var n="",l=null;do n+=Ps(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ko=Object.prototype.hasOwnProperty,Fo=i.unstable_scheduleCallback,Jl=i.unstable_cancelCallback,Ot=i.unstable_shouldYield,Yl=i.unstable_requestPaint,gt=i.unstable_now,Hs=i.unstable_getCurrentPriorityLevel,Jo=i.unstable_ImmediatePriority,Xl=i.unstable_UserBlockingPriority,Ei=i.unstable_NormalPriority,Vs=i.unstable_LowPriority,Yo=i.unstable_IdlePriority,qs=i.log,Xi=i.unstable_setDisableYieldValue,gn=null,ct=null;function cn(e){if(typeof qs=="function"&&Xi(e),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(gn,e)}catch{}}var Tt=Math.clz32?Math.clz32:zs,yn=Math.log,Ki=Math.LN2;function zs(e){return e>>>=0,e===0?32:31-(yn(e)/Ki|0)|0}var Qi=256,Rt=262144,On=4194304;function Nt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~m,s!==0?d=Nt(s):(S&=E,S!==0?d=Nt(S):l||(l=E&~e,l!==0&&(d=Nt(l))))):(E=s&~m,E!==0?d=Nt(E):S!==0?d=Nt(S):l||(l=s&~e,l!==0&&(d=Nt(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Kl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ql(){var e=On;return On<<=1,(On&62914560)===0&&(On=4194304),e}function Xo(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Fn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zl(e,n,l,s,d,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,D=e.hiddenUpdates;for(l=S&~l;0<l;){var V=31-Tt(l),B=1<<V;E[V]=0,A[V]=-1;var L=D[V];if(L!==null)for(D[V]=null,V=0;V<L.length;V++){var P=L[V];P!==null&&(P.lane&=-536870913)}l&=~B}s!==0&&Ci(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function Ci(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Tt(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function $l(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Tt(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function Jn(e,n){var l=n&-n;return l=(l&42)!==0?1:Ko(l),(l&(e.suspendedLanes|n))!==0?0:l}function Ko(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wl(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:sm(e.type))}function jl(e,n){var l=X.p;try{return X.p=e,n()}finally{X.p=l}}var fn=Math.random().toString(36).slice(2),lt="__reactFiber$"+fn,ft="__reactProps$"+fn,kt="__reactContainer$"+fn,vn="__reactEvents$"+fn,ea="__reactListeners$"+fn,ta="__reactHandles$"+fn,Zo="__reactResources$"+fn,Yn="__reactMarker$"+fn;function Zi(e){delete e[lt],delete e[ft],delete e[vn],delete e[ea],delete e[ta]}function Sn(e){var n=e[lt];if(n)return n;for(var l=e.parentNode;l;){if(n=l[kt]||l[lt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Jp(e);e!==null;){if(l=e[lt])return l;e=Jp(e)}return n}e=l,l=e.parentNode}return null}function I(e){if(e=e[lt]||e[kt]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ce(e){var n=e[Zo];return n||(n=e[Zo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(e){e[Yn]=!0}var Ne=new Set,at={};function yt(e,n){Lt(e,n),Lt(e+"Capture",n)}function Lt(e,n){for(at[e]=n,e=0;e<n.length;e++)Ne.add(n[e])}var na=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Xn={};function Ai(e){return ko.call(Xn,e)?!0:ko.call($o,e)?!1:na.test(e)?Xn[e]=!0:($o[e]=!0,!1)}function Ri(e,n,l){if(Ai(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function $i(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function _n(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vy(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Bs(e){if(!e._valueTracker){var n=wc(e)?"checked":"value";e._valueTracker=vy(e,n,""+e[n])}}function Ic(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=wc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sy=/[\n"\\]/g;function Jt(e){return e.replace(Sy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Os(e,n,l,s,d,m,S,E){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ft(n)):e.value!==""+Ft(n)&&(e.value=""+Ft(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?ks(e,S,Ft(n)):l!=null?ks(e,S,Ft(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ft(E):e.removeAttribute("name")}function bc(e,n,l,s,d,m,S,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Bs(e);return}l=l!=null?""+Ft(l):"",n=n!=null?""+Ft(n):l,E||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Bs(e)}function ks(e,n,l){n==="number"&&ia(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Wi(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Ft(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function xc(e,n,l){if(n!=null&&(n=""+Ft(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Ft(l):""}function Dc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(nt(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=Ft(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),Bs(e)}function ji(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var _y=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||_y.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Lc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&Uc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&Uc(e,m,n[m])}function Fs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ty=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ey=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return Ey.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tn(){}var Js=null;function Ys(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var eo=null,to=null;function Gc(e){var n=I(e);if(n&&(e=n.stateNode)){var l=e[ft]||null;e:switch(e=n.stateNode,n.type){case"input":if(Os(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Jt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[ft]||null;if(!d)throw Error(a(90));Os(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&Ic(s)}break e;case"textarea":xc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Wi(e,!!l.multiple,n,!1)}}}var Xs=!1;function Pc(e,n,l){if(Xs)return e(n,l);Xs=!0;try{var s=e(n);return s}finally{if(Xs=!1,(eo!==null||to!==null)&&(Ja(),eo&&(n=eo,e=to,to=eo=null,Gc(n),e)))for(n=0;n<e.length;n++)Gc(e[n])}}function Wo(e,n){var l=e.stateNode;if(l===null)return null;var s=l[ft]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=!1;if(En)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{Ks=!1}var Kn=null,Qs=null,la=null;function Hc(){if(la)return la;var e,n=Qs,l=n.length,s,d="value"in Kn?Kn.value:Kn.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var S=l-e;for(s=1;s<=S&&n[l-s]===d[m-s];s++);return la=d.slice(e,1<s?1-s:void 0)}function aa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sa(){return!0}function Vc(){return!1}function Mt(e){function n(l,s,d,m,S){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?sa:Vc,this.isPropagationStopped=Vc,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Mt(Ni),el=_({},Ni,{view:0,detail:0}),Cy=Mt(el),Zs,$s,tl,ua=_({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tl&&(tl&&e.type==="mousemove"?(Zs=e.screenX-tl.screenX,$s=e.screenY-tl.screenY):$s=Zs=0,tl=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),qc=Mt(ua),Ay=_({},ua,{dataTransfer:0}),Ry=Mt(Ay),Ny=_({},el,{relatedTarget:0}),Ws=Mt(Ny),My=_({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),wy=Mt(My),Iy=_({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),by=Mt(Iy),xy=_({},Ni,{data:0}),zc=Mt(xy),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ly[e])?!!n[e]:!1}function js(){return Gy}var Py=_({},el,{key:function(e){if(e.key){var n=Dy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(e){return e.type==="keypress"?aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hy=Mt(Py),Vy=_({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=Mt(Vy),qy=_({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),zy=Mt(qy),By=_({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oy=Mt(By),ky=_({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fy=Mt(ky),Jy=_({},Ni,{newState:0,oldState:0}),Yy=Mt(Jy),Xy=[9,13,27,32],er=En&&"CompositionEvent"in window,nl=null;En&&"documentMode"in document&&(nl=document.documentMode);var Ky=En&&"TextEvent"in window&&!nl,Oc=En&&(!er||nl&&8<nl&&11>=nl),kc=" ",Fc=!1;function Jc(e,n){switch(e){case"keyup":return Xy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var no=!1;function Qy(e,n){switch(e){case"compositionend":return Yc(n);case"keypress":return n.which!==32?null:(Fc=!0,kc);case"textInput":return e=n.data,e===kc&&Fc?null:e;default:return null}}function Zy(e,n){if(no)return e==="compositionend"||!er&&Jc(e,n)?(e=Hc(),la=Qs=Kn=null,no=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oc&&n.locale!=="ko"?null:n.data;default:return null}}var $y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$y[e.type]:n==="textarea"}function Kc(e,n,l,s){eo?to?to.push(s):to=[s]:eo=s,n=Wa(n,"onChange"),0<n.length&&(l=new ra("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var il=null,ol=null;function Wy(e){xp(e,0)}function ca(e){var n=Y(e);if(Ic(n))return e}function Qc(e,n){if(e==="change")return n}var Zc=!1;if(En){var tr;if(En){var nr="oninput"in document;if(!nr){var $c=document.createElement("div");$c.setAttribute("oninput","return;"),nr=typeof $c.oninput=="function"}tr=nr}else tr=!1;Zc=tr&&(!document.documentMode||9<document.documentMode)}function Wc(){il&&(il.detachEvent("onpropertychange",jc),ol=il=null)}function jc(e){if(e.propertyName==="value"&&ca(ol)){var n=[];Kc(n,ol,e,Ys(e)),Pc(Wy,n)}}function jy(e,n,l){e==="focusin"?(Wc(),il=n,ol=l,il.attachEvent("onpropertychange",jc)):e==="focusout"&&Wc()}function ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ca(ol)}function tv(e,n){if(e==="click")return ca(n)}function nv(e,n){if(e==="input"||e==="change")return ca(n)}function iv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Gt=typeof Object.is=="function"?Object.is:iv;function ll(e,n){if(Gt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!ko.call(n,d)||!Gt(e[d],n[d]))return!1}return!0}function ef(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tf(e,n){var l=ef(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ef(l)}}function nf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?nf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function of(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ia(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=ia(e.document)}return n}function ir(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ov=En&&"documentMode"in document&&11>=document.documentMode,io=null,or=null,al=null,lr=!1;function lf(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;lr||io==null||io!==ia(s)||(s=io,"selectionStart"in s&&ir(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),al&&ll(al,s)||(al=s,s=Wa(or,"onSelect"),0<s.length&&(n=new ra("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=io)))}function Mi(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var oo={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},ar={},af={};En&&(af=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function wi(e){if(ar[e])return ar[e];if(!oo[e])return e;var n=oo[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in af)return ar[e]=n[l];return e}var sf=wi("animationend"),rf=wi("animationiteration"),uf=wi("animationstart"),lv=wi("transitionrun"),av=wi("transitionstart"),sv=wi("transitioncancel"),cf=wi("transitionend"),ff=new Map,sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sr.push("scrollEnd");function nn(e,n){ff.set(e,n),yt(n,[e])}var fa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],lo=0,rr=0;function da(){for(var e=lo,n=rr=lo=0;n<e;){var l=Yt[n];Yt[n++]=null;var s=Yt[n];Yt[n++]=null;var d=Yt[n];Yt[n++]=null;var m=Yt[n];if(Yt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}m!==0&&df(l,d,m)}}function pa(e,n,l,s){Yt[lo++]=e,Yt[lo++]=n,Yt[lo++]=l,Yt[lo++]=s,rr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ur(e,n,l,s){return pa(e,n,l,s),ma(e)}function Ii(e,n){return pa(e,null,null,n),ma(e)}function df(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-Tt(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),m):null}function ma(e){if(50<wl)throw wl=0,vu=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ao={};function rv(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,n,l,s){return new rv(e,n,l,s)}function cr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cn(e,n){var l=e.alternate;return l===null?(l=Pt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function pf(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ha(e,n,l,s,d,m){var S=0;if(s=e,typeof e=="function")cr(e)&&(S=1);else if(typeof e=="string")S=p0(e,l,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Pt(31,l,n,d),e.elementType=W,e.lanes=m,e;case G:return bi(l.children,d,m,n);case b:S=8,d|=24;break;case O:return e=Pt(12,l,n,d|2),e.elementType=O,e.lanes=m,e;case oe:return e=Pt(13,l,n,d),e.elementType=oe,e.lanes=m,e;case ie:return e=Pt(19,l,n,d),e.elementType=ie,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:S=10;break e;case J:S=9;break e;case $:S=11;break e;case Q:S=14;break e;case ye:S=16,s=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Pt(S,l,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function bi(e,n,l,s){return e=Pt(7,e,s,n),e.lanes=l,e}function fr(e,n,l){return e=Pt(6,e,null,n),e.lanes=l,e}function mf(e){var n=Pt(18,null,null,0);return n.stateNode=e,n}function dr(e,n,l){return n=Pt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hf=new WeakMap;function Xt(e,n){if(typeof e=="object"&&e!==null){var l=hf.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Yi(n)},hf.set(e,n),n)}return{value:e,source:n,stack:Yi(n)}}var so=[],ro=0,ga=null,sl=0,Kt=[],Qt=0,Qn=null,dn=1,pn="";function An(e,n){so[ro++]=sl,so[ro++]=ga,ga=e,sl=n}function gf(e,n,l){Kt[Qt++]=dn,Kt[Qt++]=pn,Kt[Qt++]=Qn,Qn=e;var s=dn;e=pn;var d=32-Tt(s)-1;s&=~(1<<d),l+=1;var m=32-Tt(n)+d;if(30<m){var S=d-d%5;m=(s&(1<<S)-1).toString(32),s>>=S,d-=S,dn=1<<32-Tt(n)+d|l<<d|s,pn=m+e}else dn=1<<m|l<<d|s,pn=e}function pr(e){e.return!==null&&(An(e,1),gf(e,1,0))}function mr(e){for(;e===ga;)ga=so[--ro],so[ro]=null,sl=so[--ro],so[ro]=null;for(;e===Qn;)Qn=Kt[--Qt],Kt[Qt]=null,pn=Kt[--Qt],Kt[Qt]=null,dn=Kt[--Qt],Kt[Qt]=null}function yf(e,n){Kt[Qt++]=dn,Kt[Qt++]=pn,Kt[Qt++]=Qn,dn=n.id,pn=n.overflow,Qn=e}var dt=null,Be=null,Ae=!1,Zn=null,Zt=!1,hr=Error(a(519));function $n(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Xt(n,e)),hr}function vf(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[lt]=e,n[ft]=s,l){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(l=0;l<bl.length;l++)_e(bl[l],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":_e("invalid",n),bc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",n);break;case"textarea":_e("invalid",n),Dc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||Gp(n.textContent,l)?(s.popover!=null&&(_e("beforetoggle",n),_e("toggle",n)),s.onScroll!=null&&_e("scroll",n),s.onScrollEnd!=null&&_e("scrollend",n),s.onClick!=null&&(n.onclick=Tn),n=!0):n=!1,n||$n(e,!0)}function Sf(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:dt=dt.return}}function uo(e){if(e!==dt)return!1;if(!Ae)return Sf(e),Ae=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Uu(e.type,e.memoizedProps)),l=!l),l&&Be&&$n(e),Sf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Be=Fp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Be=Fp(e)}else n===27?(n=Be,fi(e.type)?(e=Vu,Vu=null,Be=e):Be=n):Be=dt?Wt(e.stateNode.nextSibling):null;return!0}function xi(){Be=dt=null,Ae=!1}function gr(){var e=Zn;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Zn=null),e}function rl(e){Zn===null?Zn=[e]:Zn.push(e)}var yr=N(null),Di=null,Rn=null;function Wn(e,n,l){k(yr,n._currentValue),n._currentValue=l}function Nn(e){e._currentValue=yr.current,z(yr)}function vr(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Sr(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var A=0;A<n.length;A++)if(E.context===n[A]){m.lanes|=l,E=m.alternate,E!==null&&(E.lanes|=l),vr(m.return,l,e),s||(S=null);break e}m=E.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),vr(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function co(e,n,l,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var E=d.type;Gt(d.pendingProps.value,S.value)||(e!==null?e.push(E):e=[E])}}else if(d===Ce.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Gl):e=[Gl])}d=d.return}e!==null&&Sr(n,e,l,s),n.flags|=262144}function ya(e){for(e=e.firstContext;e!==null;){if(!Gt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ui(e){Di=e,Rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return _f(Di,e)}function va(e,n){return Di===null&&Ui(e),_f(e,n)}function _f(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Rn===null){if(e===null)throw Error(a(308));Rn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Rn=Rn.next=n;return l}var uv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},cv=i.unstable_scheduleCallback,fv=i.unstable_NormalPriority,We={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _r(){return{controller:new uv,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&cv(fv,function(){e.controller.abort()})}var cl=null,Tr=0,fo=0,po=null;function dv(e,n){if(cl===null){var l=cl=[];Tr=0,fo=Au(),po={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Tr++,n.then(Tf,Tf),n}function Tf(){if(--Tr===0&&cl!==null){po!==null&&(po.status="fulfilled");var e=cl;cl=null,fo=0,po=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function pv(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var Ef=U.S;U.S=function(e,n){lp=gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&dv(e,n),Ef!==null&&Ef(e,n)};var Li=N(null);function Er(){var e=Li.current;return e!==null?e:Ve.pooledCache}function Sa(e,n){n===null?k(Li,Li.current):k(Li,n.pool)}function Cf(){var e=Er();return e===null?null:{parent:We._currentValue,pool:e}}var mo=Error(a(460)),Cr=Error(a(474)),_a=Error(a(542)),Ta={then:function(){}};function Af(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rf(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Tn,Tn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Mf(e),e;default:if(typeof n.status=="string")n.then(Tn,Tn);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Mf(e),e}throw Pi=n,mo}}function Gi(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pi=l,mo):l}}var Pi=null;function Nf(){if(Pi===null)throw Error(a(459));var e=Pi;return Pi=null,e}function Mf(e){if(e===mo||e===_a)throw Error(a(483))}var ho=null,fl=0;function Ea(e){var n=fl;return fl+=1,ho===null&&(ho=[]),Rf(ho,e,n)}function dl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ca(e,n){throw n.$$typeof===T?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wf(e){function n(w,R){if(e){var x=w.deletions;x===null?(w.deletions=[R],w.flags|=16):x.push(R)}}function l(w,R){if(!e)return null;for(;R!==null;)n(w,R),R=R.sibling;return null}function s(w){for(var R=new Map;w!==null;)w.key!==null?R.set(w.key,w):R.set(w.index,w),w=w.sibling;return R}function d(w,R){return w=Cn(w,R),w.index=0,w.sibling=null,w}function m(w,R,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<R?(w.flags|=67108866,R):x):(w.flags|=67108866,R)):(w.flags|=1048576,R)}function S(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function E(w,R,x,q){return R===null||R.tag!==6?(R=fr(x,w.mode,q),R.return=w,R):(R=d(R,x),R.return=w,R)}function A(w,R,x,q){var ae=x.type;return ae===G?V(w,R,x.props.children,q,x.key):R!==null&&(R.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ye&&Gi(ae)===R.type)?(R=d(R,x.props),dl(R,x),R.return=w,R):(R=ha(x.type,x.key,x.props,null,w.mode,q),dl(R,x),R.return=w,R)}function D(w,R,x,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==x.containerInfo||R.stateNode.implementation!==x.implementation?(R=dr(x,w.mode,q),R.return=w,R):(R=d(R,x.children||[]),R.return=w,R)}function V(w,R,x,q,ae){return R===null||R.tag!==7?(R=bi(x,w.mode,q,ae),R.return=w,R):(R=d(R,x),R.return=w,R)}function B(w,R,x){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=fr(""+R,w.mode,x),R.return=w,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return x=ha(R.type,R.key,R.props,null,w.mode,x),dl(x,R),x.return=w,x;case M:return R=dr(R,w.mode,x),R.return=w,R;case ye:return R=Gi(R),B(w,R,x)}if(nt(R)||qe(R))return R=bi(R,w.mode,x,null),R.return=w,R;if(typeof R.then=="function")return B(w,Ea(R),x);if(R.$$typeof===F)return B(w,va(w,R),x);Ca(w,R)}return null}function L(w,R,x,q){var ae=R!==null?R.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ae!==null?null:E(w,R,""+x,q);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return x.key===ae?A(w,R,x,q):null;case M:return x.key===ae?D(w,R,x,q):null;case ye:return x=Gi(x),L(w,R,x,q)}if(nt(x)||qe(x))return ae!==null?null:V(w,R,x,q,null);if(typeof x.then=="function")return L(w,R,Ea(x),q);if(x.$$typeof===F)return L(w,R,va(w,x),q);Ca(w,x)}return null}function P(w,R,x,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return w=w.get(x)||null,E(R,w,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return w=w.get(q.key===null?x:q.key)||null,A(R,w,q,ae);case M:return w=w.get(q.key===null?x:q.key)||null,D(R,w,q,ae);case ye:return q=Gi(q),P(w,R,x,q,ae)}if(nt(q)||qe(q))return w=w.get(x)||null,V(R,w,q,ae,null);if(typeof q.then=="function")return P(w,R,x,Ea(q),ae);if(q.$$typeof===F)return P(w,R,x,va(R,q),ae);Ca(R,q)}return null}function ee(w,R,x,q){for(var ae=null,Me=null,ne=R,ve=R=0,Ee=null;ne!==null&&ve<x.length;ve++){ne.index>ve?(Ee=ne,ne=null):Ee=ne.sibling;var we=L(w,ne,x[ve],q);if(we===null){ne===null&&(ne=Ee);break}e&&ne&&we.alternate===null&&n(w,ne),R=m(we,R,ve),Me===null?ae=we:Me.sibling=we,Me=we,ne=Ee}if(ve===x.length)return l(w,ne),Ae&&An(w,ve),ae;if(ne===null){for(;ve<x.length;ve++)ne=B(w,x[ve],q),ne!==null&&(R=m(ne,R,ve),Me===null?ae=ne:Me.sibling=ne,Me=ne);return Ae&&An(w,ve),ae}for(ne=s(ne);ve<x.length;ve++)Ee=P(ne,w,ve,x[ve],q),Ee!==null&&(e&&Ee.alternate!==null&&ne.delete(Ee.key===null?ve:Ee.key),R=m(Ee,R,ve),Me===null?ae=Ee:Me.sibling=Ee,Me=Ee);return e&&ne.forEach(function(gi){return n(w,gi)}),Ae&&An(w,ve),ae}function re(w,R,x,q){if(x==null)throw Error(a(151));for(var ae=null,Me=null,ne=R,ve=R=0,Ee=null,we=x.next();ne!==null&&!we.done;ve++,we=x.next()){ne.index>ve?(Ee=ne,ne=null):Ee=ne.sibling;var gi=L(w,ne,we.value,q);if(gi===null){ne===null&&(ne=Ee);break}e&&ne&&gi.alternate===null&&n(w,ne),R=m(gi,R,ve),Me===null?ae=gi:Me.sibling=gi,Me=gi,ne=Ee}if(we.done)return l(w,ne),Ae&&An(w,ve),ae;if(ne===null){for(;!we.done;ve++,we=x.next())we=B(w,we.value,q),we!==null&&(R=m(we,R,ve),Me===null?ae=we:Me.sibling=we,Me=we);return Ae&&An(w,ve),ae}for(ne=s(ne);!we.done;ve++,we=x.next())we=P(ne,w,ve,we.value,q),we!==null&&(e&&we.alternate!==null&&ne.delete(we.key===null?ve:we.key),R=m(we,R,ve),Me===null?ae=we:Me.sibling=we,Me=we);return e&&ne.forEach(function(A0){return n(w,A0)}),Ae&&An(w,ve),ae}function He(w,R,x,q){if(typeof x=="object"&&x!==null&&x.type===G&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case C:e:{for(var ae=x.key;R!==null;){if(R.key===ae){if(ae=x.type,ae===G){if(R.tag===7){l(w,R.sibling),q=d(R,x.props.children),q.return=w,w=q;break e}}else if(R.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ye&&Gi(ae)===R.type){l(w,R.sibling),q=d(R,x.props),dl(q,x),q.return=w,w=q;break e}l(w,R);break}else n(w,R);R=R.sibling}x.type===G?(q=bi(x.props.children,w.mode,q,x.key),q.return=w,w=q):(q=ha(x.type,x.key,x.props,null,w.mode,q),dl(q,x),q.return=w,w=q)}return S(w);case M:e:{for(ae=x.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===x.containerInfo&&R.stateNode.implementation===x.implementation){l(w,R.sibling),q=d(R,x.children||[]),q.return=w,w=q;break e}else{l(w,R);break}else n(w,R);R=R.sibling}q=dr(x,w.mode,q),q.return=w,w=q}return S(w);case ye:return x=Gi(x),He(w,R,x,q)}if(nt(x))return ee(w,R,x,q);if(qe(x)){if(ae=qe(x),typeof ae!="function")throw Error(a(150));return x=ae.call(x),re(w,R,x,q)}if(typeof x.then=="function")return He(w,R,Ea(x),q);if(x.$$typeof===F)return He(w,R,va(w,x),q);Ca(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,R!==null&&R.tag===6?(l(w,R.sibling),q=d(R,x),q.return=w,w=q):(l(w,R),q=fr(x,w.mode,q),q.return=w,w=q),S(w)):l(w,R)}return function(w,R,x,q){try{fl=0;var ae=He(w,R,x,q);return ho=null,ae}catch(ne){if(ne===mo||ne===_a)throw ne;var Me=Pt(29,ne,null,w.mode);return Me.lanes=q,Me.return=w,Me}finally{}}}var Hi=wf(!0),If=wf(!1),jn=!1;function Ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ti(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(be&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=ma(e),df(e,null,l),n}return pa(e,s,n,l),ma(e)}function pl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,$l(e,l)}}function Nr(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Mr=!1;function ml(){if(Mr){var e=po;if(e!==null)throw e}}function hl(e,n,l,s){Mr=!1;var d=e.updateQueue;jn=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,D=A.next;A.next=null,S===null?m=D:S.next=D,S=A;var V=e.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==S&&(E===null?V.firstBaseUpdate=D:E.next=D,V.lastBaseUpdate=A))}if(m!==null){var B=d.baseState;S=0,V=D=A=null,E=m;do{var L=E.lane&-536870913,P=L!==E.lane;if(P?(Te&L)===L:(s&L)===L){L!==0&&L===fo&&(Mr=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ee=e,re=E;L=n;var He=l;switch(re.tag){case 1:if(ee=re.payload,typeof ee=="function"){B=ee.call(He,B,L);break e}B=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,L=typeof ee=="function"?ee.call(He,B,L):ee,L==null)break e;B=_({},B,L);break e;case 2:jn=!0}}L=E.callback,L!==null&&(e.flags|=64,P&&(e.flags|=8192),P=d.callbacks,P===null?d.callbacks=[L]:P.push(L))}else P={lane:L,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(D=V=P,A=B):V=V.next=P,S|=L;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;P=E,E=P.next,P.next=null,d.lastBaseUpdate=P,d.shared.pending=null}}while(!0);V===null&&(A=B),d.baseState=A,d.firstBaseUpdate=D,d.lastBaseUpdate=V,m===null&&(d.shared.lanes=0),ai|=S,e.lanes=S,e.memoizedState=B}}function bf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function xf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)bf(l[e],n)}var go=N(null),Aa=N(0);function Df(e,n){e=Gn,k(Aa,e),k(go,n),Gn=e|n.baseLanes}function wr(){k(Aa,Gn),k(go,go.current)}function Ir(){Gn=Aa.current,z(go),z(Aa)}var Ht=N(null),$t=null;function ni(e){var n=e.alternate;k(Ze,Ze.current&1),k(Ht,e),$t===null&&(n===null||go.current!==null||n.memoizedState!==null)&&($t=e)}function br(e){k(Ze,Ze.current),k(Ht,e),$t===null&&($t=e)}function Uf(e){e.tag===22?(k(Ze,Ze.current),k(Ht,e),$t===null&&($t=e)):ii()}function ii(){k(Ze,Ze.current),k(Ht,Ht.current)}function Vt(e){z(Ht),$t===e&&($t=null),z(Ze)}var Ze=N(0);function Ra(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Pu(l)||Hu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Mn=0,ge=null,Ge=null,je=null,Na=!1,yo=!1,Vi=!1,Ma=0,gl=0,vo=null,mv=0;function Xe(){throw Error(a(321))}function xr(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Gt(e[l],n[l]))return!1;return!0}function Dr(e,n,l,s,d,m){return Mn=m,ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=e===null||e.memoizedState===null?gd:Xr,Vi=!1,m=l(s,d),Vi=!1,yo&&(m=Gf(n,l,s,d)),Lf(e),m}function Lf(e){U.H=Sl;var n=Ge!==null&&Ge.next!==null;if(Mn=0,je=Ge=ge=null,Na=!1,gl=0,vo=null,n)throw Error(a(300));e===null||et||(e=e.dependencies,e!==null&&ya(e)&&(et=!0))}function Gf(e,n,l,s){ge=e;var d=0;do{if(yo&&(vo=null),gl=0,yo=!1,25<=d)throw Error(a(301));if(d+=1,je=Ge=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=yd,m=n(l,s)}while(yo);return m}function hv(){var e=U.H,n=e.useState()[0];return n=typeof n.then=="function"?yl(n):n,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(ge.flags|=1024),n}function Ur(){var e=Ma!==0;return Ma=0,e}function Lr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Gr(e){if(Na){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Na=!1}Mn=0,je=Ge=ge=null,yo=!1,gl=Ma=0,vo=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ge.memoizedState=je=e:je=je.next=e,je}function $e(){if(Ge===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var n=je===null?ge.memoizedState:je.next;if(n!==null)je=n,Ge=e;else{if(e===null)throw ge.alternate===null?Error(a(467)):Error(a(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},je===null?ge.memoizedState=je=e:je=je.next=e}return je}function wa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(e){var n=gl;return gl+=1,vo===null&&(vo=[]),e=Rf(vo,e,n),n=ge,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?gd:Xr),e}function Ia(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yl(e);if(e.$$typeof===F)return pt(e)}throw Error(a(438,String(e)))}function Pr(e){var n=null,l=ge.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=ge.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=wa(),ge.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=me;return n.index++,l}function wn(e,n){return typeof n=="function"?n(e):n}function ba(e){var n=$e();return Hr(n,Ge,e)}function Hr(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var E=S=null,A=null,D=n,V=!1;do{var B=D.lane&-536870913;if(B!==D.lane?(Te&B)===B:(Mn&B)===B){var L=D.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),B===fo&&(V=!0);else if((Mn&L)===L){D=D.next,L===fo&&(V=!0);continue}else B={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(E=A=B,S=m):A=A.next=B,ge.lanes|=L,ai|=L;B=D.action,Vi&&l(m,B),m=D.hasEagerState?D.eagerState:l(m,B)}else L={lane:B,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(E=A=L,S=m):A=A.next=L,ge.lanes|=B,ai|=B;D=D.next}while(D!==null&&D!==n);if(A===null?S=m:A.next=E,!Gt(m,e.memoizedState)&&(et=!0,V&&(l=po,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Vr(e){var n=$e(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do m=e(m,S.action),S=S.next;while(S!==d);Gt(m,n.memoizedState)||(et=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function Pf(e,n,l){var s=ge,d=$e(),m=Ae;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var S=!Gt((Ge||d).memoizedState,l);if(S&&(d.memoizedState=l,et=!0),d=d.queue,Br(qf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||je!==null&&je.memoizedState.tag&1){if(s.flags|=2048,So(9,{destroy:void 0},Vf.bind(null,s,d,l,n),null),Ve===null)throw Error(a(349));m||(Mn&127)!==0||Hf(s,n,l)}return l}function Hf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ge.updateQueue,n===null?(n=wa(),ge.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Vf(e,n,l,s){n.value=l,n.getSnapshot=s,zf(n)&&Bf(e)}function qf(e,n,l){return l(function(){zf(n)&&Bf(e)})}function zf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Gt(e,l)}catch{return!0}}function Bf(e){var n=Ii(e,2);n!==null&&Dt(n,e,2)}function qr(e){var n=Et();if(typeof e=="function"){var l=e;if(e=l(),Vi){cn(!0);try{l()}finally{cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},n}function Of(e,n,l,s){return e.baseState=l,Hr(e,Ge,typeof s=="function"?s:wn)}function gv(e,n,l,s,d){if(Ua(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};U.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,kf(n,m)):(m.next=l.next,n.pending=l.next=m)}}function kf(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=U.T,S={};U.T=S;try{var E=l(d,s),A=U.S;A!==null&&A(S,E),Ff(e,n,E)}catch(D){zr(e,n,D)}finally{m!==null&&S.types!==null&&(m.types=S.types),U.T=m}}else try{m=l(d,s),Ff(e,n,m)}catch(D){zr(e,n,D)}}function Ff(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Jf(e,n,s)},function(s){return zr(e,n,s)}):Jf(e,n,l)}function Jf(e,n,l){n.status="fulfilled",n.value=l,Yf(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,kf(e,l)))}function zr(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,Yf(n),n=n.next;while(n!==s)}e.action=null}function Yf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xf(e,n){return n}function Kf(e,n){if(Ae){var l=Ve.formState;if(l!==null){e:{var s=ge;if(Ae){if(Be){t:{for(var d=Be,m=Zt;d.nodeType!==8;){if(!m){d=null;break t}if(d=Wt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Be=Wt(d.nextSibling),s=d.data==="F!";break e}}$n(s)}s=!1}s&&(n=l[0])}}return l=Et(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xf,lastRenderedState:n},l.queue=s,l=pd.bind(null,ge,s),s.dispatch=l,s=qr(!1),m=Yr.bind(null,ge,!1,s.queue),s=Et(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=gv.bind(null,ge,d,m,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function Qf(e){var n=$e();return Zf(n,Ge,e)}function Zf(e,n,l){if(n=Hr(e,n,Xf)[0],e=ba(wn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=yl(n)}catch(S){throw S===mo?_a:S}else s=n;n=$e();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(ge.flags|=2048,So(9,{destroy:void 0},yv.bind(null,d,l),null)),[s,m,e]}function yv(e,n){e.action=n}function $f(e){var n=$e(),l=Ge;if(l!==null)return Zf(n,l,e);$e(),n=n.memoizedState,l=$e();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function So(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=ge.updateQueue,n===null&&(n=wa(),ge.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Wf(){return $e().memoizedState}function xa(e,n,l,s){var d=Et();ge.flags|=e,d.memoizedState=So(1|n,{destroy:void 0},l,s===void 0?null:s)}function Da(e,n,l,s){var d=$e();s=s===void 0?null:s;var m=d.memoizedState.inst;Ge!==null&&s!==null&&xr(s,Ge.memoizedState.deps)?d.memoizedState=So(n,m,l,s):(ge.flags|=e,d.memoizedState=So(1|n,m,l,s))}function jf(e,n){xa(8390656,8,e,n)}function Br(e,n){Da(2048,8,e,n)}function vv(e){ge.flags|=4;var n=ge.updateQueue;if(n===null)n=wa(),ge.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function ed(e){var n=$e().memoizedState;return vv({ref:n,nextImpl:e}),function(){if((be&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function td(e,n){return Da(4,2,e,n)}function nd(e,n){return Da(4,4,e,n)}function id(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function od(e,n,l){l=l!=null?l.concat([e]):null,Da(4,4,id.bind(null,n,e),l)}function Or(){}function ld(e,n){var l=$e();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&xr(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function ad(e,n){var l=$e();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&xr(n,s[1]))return s[0];if(s=e(),Vi){cn(!0);try{e()}finally{cn(!1)}}return l.memoizedState=[s,n],s}function kr(e,n,l){return l===void 0||(Mn&1073741824)!==0&&(Te&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=sp(),ge.lanes|=e,ai|=e,l)}function sd(e,n,l,s){return Gt(l,n)?l:go.current!==null?(e=kr(e,l,s),Gt(e,n)||(et=!0),e):(Mn&42)===0||(Mn&1073741824)!==0&&(Te&261930)===0?(et=!0,e.memoizedState=l):(e=sp(),ge.lanes|=e,ai|=e,n)}function rd(e,n,l,s,d){var m=X.p;X.p=m!==0&&8>m?m:8;var S=U.T,E={};U.T=E,Yr(e,!1,n,l);try{var A=d(),D=U.S;if(D!==null&&D(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=pv(A,s);vl(e,n,V,Bt(e))}else vl(e,n,s,Bt(e))}catch(B){vl(e,n,{then:function(){},status:"rejected",reason:B},Bt())}finally{X.p=m,S!==null&&E.types!==null&&(S.types=E.types),U.T=S}}function Sv(){}function Fr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=ud(e).queue;rd(e,d,n,se,l===null?Sv:function(){return cd(e),l(s)})}function ud(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:se},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function cd(e){var n=ud(e);n.next===null&&(n=e.alternate.memoizedState),vl(e,n.next.queue,{},Bt())}function Jr(){return pt(Gl)}function fd(){return $e().memoizedState}function dd(){return $e().memoizedState}function _v(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Bt();e=ei(l);var s=ti(n,e,l);s!==null&&(Dt(s,n,l),pl(s,n,l)),n={cache:_r()},e.payload=n;return}n=n.return}}function Tv(e,n,l){var s=Bt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ua(e)?md(n,l):(l=ur(e,n,l,s),l!==null&&(Dt(l,e,s),hd(l,n,s)))}function pd(e,n,l){var s=Bt();vl(e,n,l,s)}function vl(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ua(e))md(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,E=m(S,l);if(d.hasEagerState=!0,d.eagerState=E,Gt(E,S))return pa(e,n,d,0),Ve===null&&da(),!1}catch{}finally{}if(l=ur(e,n,d,s),l!==null)return Dt(l,e,s),hd(l,n,s),!0}return!1}function Yr(e,n,l,s){if(s={lane:2,revertLane:Au(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ua(e)){if(n)throw Error(a(479))}else n=ur(e,l,s,2),n!==null&&Dt(n,e,2)}function Ua(e){var n=e.alternate;return e===ge||n!==null&&n===ge}function md(e,n){yo=Na=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function hd(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,$l(e,l)}}var Sl={readContext:pt,use:Ia,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Sl.useEffectEvent=Xe;var gd={readContext:pt,use:Ia,useCallback:function(e,n){return Et().memoizedState=[e,n===void 0?null:n],e},useContext:pt,useEffect:jf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,xa(4194308,4,id.bind(null,n,e),l)},useLayoutEffect:function(e,n){return xa(4194308,4,e,n)},useInsertionEffect:function(e,n){xa(4,2,e,n)},useMemo:function(e,n){var l=Et();n=n===void 0?null:n;var s=e();if(Vi){cn(!0);try{e()}finally{cn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=Et();if(l!==void 0){var d=l(n);if(Vi){cn(!0);try{l(n)}finally{cn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Tv.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var n=Et();return e={current:e},n.memoizedState=e},useState:function(e){e=qr(e);var n=e.queue,l=pd.bind(null,ge,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:Or,useDeferredValue:function(e,n){var l=Et();return kr(l,e,n)},useTransition:function(){var e=qr(!1);return e=rd.bind(null,ge,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=ge,d=Et();if(Ae){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ve===null)throw Error(a(349));(Te&127)!==0||Hf(s,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,jf(qf.bind(null,s,m,e),[e]),s.flags|=2048,So(9,{destroy:void 0},Vf.bind(null,s,m,l,n),null),l},useId:function(){var e=Et(),n=Ve.identifierPrefix;if(Ae){var l=pn,s=dn;l=(s&~(1<<32-Tt(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Ma++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=mv++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Jr,useFormState:Kf,useActionState:Kf,useOptimistic:function(e){var n=Et();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Yr.bind(null,ge,!0,l),l.dispatch=n,[e,n]},useMemoCache:Pr,useCacheRefresh:function(){return Et().memoizedState=_v.bind(null,ge)},useEffectEvent:function(e){var n=Et(),l={impl:e};return n.memoizedState=l,function(){if((be&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Xr={readContext:pt,use:Ia,useCallback:ld,useContext:pt,useEffect:Br,useImperativeHandle:od,useInsertionEffect:td,useLayoutEffect:nd,useMemo:ad,useReducer:ba,useRef:Wf,useState:function(){return ba(wn)},useDebugValue:Or,useDeferredValue:function(e,n){var l=$e();return sd(l,Ge.memoizedState,e,n)},useTransition:function(){var e=ba(wn)[0],n=$e().memoizedState;return[typeof e=="boolean"?e:yl(e),n]},useSyncExternalStore:Pf,useId:fd,useHostTransitionStatus:Jr,useFormState:Qf,useActionState:Qf,useOptimistic:function(e,n){var l=$e();return Of(l,Ge,e,n)},useMemoCache:Pr,useCacheRefresh:dd};Xr.useEffectEvent=ed;var yd={readContext:pt,use:Ia,useCallback:ld,useContext:pt,useEffect:Br,useImperativeHandle:od,useInsertionEffect:td,useLayoutEffect:nd,useMemo:ad,useReducer:Vr,useRef:Wf,useState:function(){return Vr(wn)},useDebugValue:Or,useDeferredValue:function(e,n){var l=$e();return Ge===null?kr(l,e,n):sd(l,Ge.memoizedState,e,n)},useTransition:function(){var e=Vr(wn)[0],n=$e().memoizedState;return[typeof e=="boolean"?e:yl(e),n]},useSyncExternalStore:Pf,useId:fd,useHostTransitionStatus:Jr,useFormState:$f,useActionState:$f,useOptimistic:function(e,n){var l=$e();return Ge!==null?Of(l,Ge,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Pr,useCacheRefresh:dd};yd.useEffectEvent=ed;function Kr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:_({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Qr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Bt(),d=ei(s);d.payload=n,l!=null&&(d.callback=l),n=ti(e,d,s),n!==null&&(Dt(n,e,s),pl(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Bt(),d=ei(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=ti(e,d,s),n!==null&&(Dt(n,e,s),pl(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Bt(),s=ei(l);s.tag=2,n!=null&&(s.callback=n),n=ti(e,s,l),n!==null&&(Dt(n,e,l),pl(n,e,l))}};function vd(e,n,l,s,d,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,S):n.prototype&&n.prototype.isPureReactComponent?!ll(l,s)||!ll(d,m):!0}function Sd(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&Qr.enqueueReplaceState(n,n.state,null)}function qi(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=_({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function _d(e){fa(e)}function Td(e){console.error(e)}function Ed(e){fa(e)}function La(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Cd(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Zr(e,n,l){return l=ei(l),l.tag=3,l.payload={element:null},l.callback=function(){La(e,n)},l}function Ad(e){return e=ei(e),e.tag=3,e}function Rd(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){Cd(n,l,s)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Cd(n,l,s),typeof d!="function"&&(si===null?si=new Set([this]):si.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function Ev(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&co(n,l,d,!0),l=Ht.current,l!==null){switch(l.tag){case 31:case 13:return $t===null?Ya():l.alternate===null&&Ke===0&&(Ke=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Ta?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Tu(e,s,d)),!1;case 22:return l.flags|=65536,s===Ta?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Tu(e,s,d)),!1}throw Error(a(435,l.tag))}return Tu(e,s,d),Ya(),!1}if(Ae)return n=Ht.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==hr&&(e=Error(a(422),{cause:s}),rl(Xt(e,l)))):(s!==hr&&(n=Error(a(423),{cause:s}),rl(Xt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Xt(s,l),d=Zr(e.stateNode,s,d),Nr(e,d),Ke!==4&&(Ke=2)),!1;var m=Error(a(520),{cause:s});if(m=Xt(m,l),Ml===null?Ml=[m]:Ml.push(m),Ke!==4&&(Ke=2),n===null)return!0;s=Xt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=Zr(l.stateNode,s,e),Nr(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(si===null||!si.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Ad(d),Rd(d,e,l,s),Nr(l,d),!1}l=l.return}while(l!==null);return!1}var $r=Error(a(461)),et=!1;function mt(e,n,l,s){n.child=e===null?If(n,null,l,s):Hi(n,e.child,l,s)}function Nd(e,n,l,s,d){l=l.render;var m=n.ref;if("ref"in s){var S={};for(var E in s)E!=="ref"&&(S[E]=s[E])}else S=s;return Ui(n),s=Dr(e,n,l,S,m,d),E=Ur(),e!==null&&!et?(Lr(e,n,d),In(e,n,d)):(Ae&&E&&pr(n),n.flags|=1,mt(e,n,s,d),n.child)}function Md(e,n,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!cr(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,wd(e,n,m,s,d)):(e=ha(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!lu(e,d)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:ll,l(S,s)&&e.ref===n.ref)return In(e,n,d)}return n.flags|=1,e=Cn(m,s),e.ref=n.ref,e.return=n,n.child=e}function wd(e,n,l,s,d){if(e!==null){var m=e.memoizedProps;if(ll(m,s)&&e.ref===n.ref)if(et=!1,n.pendingProps=s=m,lu(e,d))(e.flags&131072)!==0&&(et=!0);else return n.lanes=e.lanes,In(e,n,d)}return Wr(e,n,l,s,d)}function Id(e,n,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return bd(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sa(n,m!==null?m.cachePool:null),m!==null?Df(n,m):wr(),Uf(n);else return s=n.lanes=536870912,bd(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(Sa(n,m.cachePool),Df(n,m),ii(),n.memoizedState=null):(e!==null&&Sa(n,null),wr(),ii());return mt(e,n,d,l),n.child}function _l(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function bd(e,n,l,s,d){var m=Er();return m=m===null?null:{parent:We._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Sa(n,null),wr(),Uf(n),e!==null&&co(e,n,s,!0),n.childLanes=d,null}function Ga(e,n){return n=Ha({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xd(e,n,l){return Hi(n,e.child,null,l),e=Ga(n,n.pendingProps),e.flags|=2,Vt(n),n.memoizedState=null,e}function Cv(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=Ga(n,s),n.lanes=536870912,_l(null,e);if(br(n),(e=Be)?(e=kp(e,Zt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:dn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},l=mf(e),l.return=n,n.child=l,dt=n,Be=null)):e=null,e===null)throw $n(n);return n.lanes=536870912,null}return Ga(n,s)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(br(n),d)if(n.flags&256)n.flags&=-257,n=xd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(et||co(e,n,l,!1),d=(l&e.childLanes)!==0,et||d){if(s=Ve,s!==null&&(S=Jn(s,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,Ii(e,S),Dt(s,e,S),$r;Ya(),n=xd(e,n,l)}else e=m.treeContext,Be=Wt(S.nextSibling),dt=n,Ae=!0,Zn=null,Zt=!1,e!==null&&yf(n,e),n=Ga(n,s),n.flags|=4096;return n}return e=Cn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Pa(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Wr(e,n,l,s,d){return Ui(n),l=Dr(e,n,l,s,void 0,d),s=Ur(),e!==null&&!et?(Lr(e,n,d),In(e,n,d)):(Ae&&s&&pr(n),n.flags|=1,mt(e,n,l,d),n.child)}function Dd(e,n,l,s,d,m){return Ui(n),n.updateQueue=null,l=Gf(n,s,l,d),Lf(e),s=Ur(),e!==null&&!et?(Lr(e,n,m),In(e,n,m)):(Ae&&s&&pr(n),n.flags|=1,mt(e,n,l,m),n.child)}function Ud(e,n,l,s,d){if(Ui(n),n.stateNode===null){var m=ao,S=l.contextType;typeof S=="object"&&S!==null&&(m=pt(S)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Qr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},Ar(n),S=l.contextType,m.context=typeof S=="object"&&S!==null?pt(S):ao,m.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Kr(n,l,S,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Qr.enqueueReplaceState(m,m.state,null),hl(n,s,m,d),ml(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var E=n.memoizedProps,A=qi(l,E);m.props=A;var D=m.context,V=l.contextType;S=ao,typeof V=="object"&&V!==null&&(S=pt(V));var B=l.getDerivedStateFromProps;V=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||D!==S)&&Sd(n,m,s,S),jn=!1;var L=n.memoizedState;m.state=L,hl(n,s,m,d),ml(),D=n.memoizedState,E||L!==D||jn?(typeof B=="function"&&(Kr(n,l,B,s),D=n.memoizedState),(A=jn||vd(n,l,A,s,L,D,S))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),m.props=s,m.state=D,m.context=S,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Rr(e,n),S=n.memoizedProps,V=qi(l,S),m.props=V,B=n.pendingProps,L=m.context,D=l.contextType,A=ao,typeof D=="object"&&D!==null&&(A=pt(D)),E=l.getDerivedStateFromProps,(D=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==B||L!==A)&&Sd(n,m,s,A),jn=!1,L=n.memoizedState,m.state=L,hl(n,s,m,d),ml();var P=n.memoizedState;S!==B||L!==P||jn||e!==null&&e.dependencies!==null&&ya(e.dependencies)?(typeof E=="function"&&(Kr(n,l,E,s),P=n.memoizedState),(V=jn||vd(n,l,V,s,L,P,A)||e!==null&&e.dependencies!==null&&ya(e.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,P,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,P,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=P),m.props=s,m.state=P,m.context=A,s=V):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Pa(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=Hi(n,e.child,null,d),n.child=Hi(n,null,l,d)):mt(e,n,l,d),n.memoizedState=m.state,e=n.child):e=In(e,n,d),e}function Ld(e,n,l,s){return xi(),n.flags|=256,mt(e,n,l,s),n.child}var jr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eu(e){return{baseLanes:e,cachePool:Cf()}}function tu(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=zt),e}function Gd(e,n,l){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(d?ni(n):ii(),(e=Be)?(e=kp(e,Zt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:dn,overflow:pn}:null,retryLane:536870912,hydrationErrors:null},l=mf(e),l.return=n,n.child=l,dt=n,Be=null)):e=null,e===null)throw $n(n);return Hu(e)?n.lanes=32:n.lanes=536870912,null}var E=s.children;return s=s.fallback,d?(ii(),d=n.mode,E=Ha({mode:"hidden",children:E},d),s=bi(s,d,l,null),E.return=n,s.return=n,E.sibling=s,n.child=E,s=n.child,s.memoizedState=eu(l),s.childLanes=tu(e,S,l),n.memoizedState=jr,_l(null,s)):(ni(n),nu(n,E))}var A=e.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(m)n.flags&256?(ni(n),n.flags&=-257,n=iu(e,n,l)):n.memoizedState!==null?(ii(),n.child=e.child,n.flags|=128,n=null):(ii(),E=s.fallback,d=n.mode,s=Ha({mode:"visible",children:s.children},d),E=bi(E,d,l,null),E.flags|=2,s.return=n,E.return=n,s.sibling=E,n.child=s,Hi(n,e.child,null,l),s=n.child,s.memoizedState=eu(l),s.childLanes=tu(e,S,l),n.memoizedState=jr,n=_l(null,s));else if(ni(n),Hu(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var D=S.dgst;S=D,s=Error(a(419)),s.stack="",s.digest=S,rl({value:s,source:null,stack:null}),n=iu(e,n,l)}else if(et||co(e,n,l,!1),S=(l&e.childLanes)!==0,et||S){if(S=Ve,S!==null&&(s=Jn(S,l),s!==0&&s!==A.retryLane))throw A.retryLane=s,Ii(e,s),Dt(S,e,s),$r;Pu(E)||Ya(),n=iu(e,n,l)}else Pu(E)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Be=Wt(E.nextSibling),dt=n,Ae=!0,Zn=null,Zt=!1,e!==null&&yf(n,e),n=nu(n,s.children),n.flags|=4096);return n}return d?(ii(),E=s.fallback,d=n.mode,A=e.child,D=A.sibling,s=Cn(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,D!==null?E=Cn(D,E):(E=bi(E,d,l,null),E.flags|=2),E.return=n,s.return=n,s.sibling=E,n.child=s,_l(null,s),s=n.child,E=e.child.memoizedState,E===null?E=eu(l):(d=E.cachePool,d!==null?(A=We._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=Cf(),E={baseLanes:E.baseLanes|l,cachePool:d}),s.memoizedState=E,s.childLanes=tu(e,S,l),n.memoizedState=jr,_l(e.child,s)):(ni(n),l=e.child,e=l.sibling,l=Cn(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function nu(e,n){return n=Ha({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ha(e,n){return e=Pt(22,e,null,n),e.lanes=0,e}function iu(e,n,l){return Hi(n,e.child,null,l),e=nu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Pd(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),vr(e.return,n,l)}function ou(e,n,l,s,d,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=l,S.tailMode=d,S.treeForkCount=m)}function Hd(e,n,l){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var S=Ze.current,E=(S&2)!==0;if(E?(S=S&1|2,n.flags|=128):S&=1,k(Ze,S),mt(e,n,s,l),s=Ae?sl:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pd(e,l,n);else if(e.tag===19)Pd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&Ra(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),ou(n,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Ra(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}ou(n,!0,l,null,m,s);break;case"together":ou(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function In(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),ai|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(co(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=Cn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Cn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function lu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ya(e)))}function Av(e,n,l){switch(n.tag){case 3:it(n,n.stateNode.containerInfo),Wn(n,We,e.memoizedState.cache),xi();break;case 27:case 5:Qe(n);break;case 4:it(n,n.stateNode.containerInfo);break;case 10:Wn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,br(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(ni(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Gd(e,n,l):(ni(n),e=In(e,n,l),e!==null?e.sibling:null);ni(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(co(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return Hd(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),k(Ze,Ze.current),s)break;return null;case 22:return n.lanes=0,Id(e,n,l,n.pendingProps);case 24:Wn(n,We,e.memoizedState.cache)}return In(e,n,l)}function Vd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)et=!0;else{if(!lu(e,l)&&(n.flags&128)===0)return et=!1,Av(e,n,l);et=(e.flags&131072)!==0}else et=!1,Ae&&(n.flags&1048576)!==0&&gf(n,sl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Gi(n.elementType),n.type=e,typeof e=="function")cr(e)?(s=qi(e,s),n.tag=1,n=Ud(null,n,e,s,l)):(n.tag=0,n=Wr(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===$){n.tag=11,n=Nd(null,n,e,s,l);break e}else if(d===Q){n.tag=14,n=Md(null,n,e,s,l);break e}}throw n=Ye(e)||e,Error(a(306,n,""))}}return n;case 0:return Wr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=qi(s,n.pendingProps),Ud(e,n,s,d,l);case 3:e:{if(it(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Rr(e,n),hl(n,s,null,l);var S=n.memoizedState;if(s=S.cache,Wn(n,We,s),s!==m.cache&&Sr(n,[We],l,!0),ml(),s=S.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Ld(e,n,s,l);break e}else if(s!==d){d=Xt(Error(a(424)),n),rl(d),n=Ld(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Wt(e.firstChild),dt=n,Ae=!0,Zn=null,Zt=!0,l=If(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(xi(),s===d){n=In(e,n,l);break e}mt(e,n,s,l)}n=n.child}return n;case 26:return Pa(e,n),e===null?(l=Qp(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ae||(l=n.type,e=n.pendingProps,s=ja(te.current).createElement(l),s[lt]=n,s[ft]=e,ht(s,l,e),ue(s),n.stateNode=s):n.memoizedState=Qp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qe(n),e===null&&Ae&&(s=n.stateNode=Yp(n.type,n.pendingProps,te.current),dt=n,Zt=!0,d=Be,fi(n.type)?(Vu=d,Be=Wt(s.firstChild)):Be=d),mt(e,n,n.pendingProps.children,l),Pa(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((d=s=Be)&&(s=e0(s,n.type,n.pendingProps,Zt),s!==null?(n.stateNode=s,dt=n,Be=Wt(s.firstChild),Zt=!1,d=!0):d=!1),d||$n(n)),Qe(n),d=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,s=m.children,Uu(d,m)?s=null:S!==null&&Uu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Dr(e,n,hv,null,null,l),Gl._currentValue=d),Pa(e,n),mt(e,n,s,l),n.child;case 6:return e===null&&Ae&&((e=l=Be)&&(l=t0(l,n.pendingProps,Zt),l!==null?(n.stateNode=l,dt=n,Be=null,e=!0):e=!1),e||$n(n)),null;case 13:return Gd(e,n,l);case 4:return it(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Hi(n,null,s,l):mt(e,n,s,l),n.child;case 11:return Nd(e,n,n.type,n.pendingProps,l);case 7:return mt(e,n,n.pendingProps,l),n.child;case 8:return mt(e,n,n.pendingProps.children,l),n.child;case 12:return mt(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,Wn(n,n.type,s.value),mt(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,Ui(n),d=pt(d),s=s(d),n.flags|=1,mt(e,n,s,l),n.child;case 14:return Md(e,n,n.type,n.pendingProps,l);case 15:return wd(e,n,n.type,n.pendingProps,l);case 19:return Hd(e,n,l);case 31:return Cv(e,n,l);case 22:return Id(e,n,l,n.pendingProps);case 24:return Ui(n),s=pt(We),e===null?(d=Er(),d===null&&(d=Ve,m=_r(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:s,cache:d},Ar(n),Wn(n,We,d)):((e.lanes&l)!==0&&(Rr(e,n),hl(n,null,null,l),ml()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Wn(n,We,s)):(s=m.cache,Wn(n,We,s),s!==d.cache&&Sr(n,[We],l,!0))),mt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function bn(e){e.flags|=4}function au(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(fp())e.flags|=8192;else throw Pi=Ta,Cr}else e.flags&=-16777217}function qd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!em(n))if(fp())e.flags|=8192;else throw Pi=Ta,Cr}function Va(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ql():536870912,e.lanes|=n,Co|=n)}function Tl(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function Rv(e,n,l){var s=n.pendingProps;switch(mr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(n),null;case 1:return Oe(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Nn(We),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(uo(n)?bn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gr())),Oe(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(bn(n),m!==null?(Oe(n),qd(n,m)):(Oe(n),au(n,d,null,s,l))):m?m!==e.memoizedState?(bn(n),Oe(n),qd(n,m)):(Oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&bn(n),Oe(n),au(n,d,e,s,l)),null;case 27:if(Ti(n),l=te.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&bn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Oe(n),null}e=j.current,uo(n)?vf(n):(e=Yp(d,s,l),n.stateNode=e,bn(n))}return Oe(n),null;case 5:if(Ti(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&bn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Oe(n),null}if(m=j.current,uo(n))vf(n);else{var S=ja(te.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}m[lt]=n,m[ft]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(ht(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&bn(n)}}return Oe(n),au(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&bn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=te.current,uo(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=dt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[lt]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Gp(e.nodeValue,l)),e||$n(n,!0)}else e=ja(e).createTextNode(s),e[lt]=n,n.stateNode=e}return Oe(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=uo(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[lt]=n}else xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Oe(n),e=!1}else l=gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Vt(n),n):(Vt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Oe(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=uo(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[lt]=n}else xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Oe(n),d=!1}else d=gr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Vt(n),n):(Vt(n),null)}return Vt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Va(n,n.updateQueue),Oe(n),null);case 4:return ze(),e===null&&wu(n.stateNode.containerInfo),Oe(n),null;case 10:return Nn(n.type),Oe(n),null;case 19:if(z(Ze),s=n.memoizedState,s===null)return Oe(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)Tl(s,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Ra(e),m!==null){for(n.flags|=128,Tl(s,!1),e=m.updateQueue,n.updateQueue=e,Va(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)pf(l,e),l=l.sibling;return k(Ze,Ze.current&1|2),Ae&&An(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&gt()>ka&&(n.flags|=128,d=!0,Tl(s,!1),n.lanes=4194304)}else{if(!d)if(e=Ra(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Va(n,e),Tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Ae)return Oe(n),null}else 2*gt()-s.renderingStartTime>ka&&l!==536870912&&(n.flags|=128,d=!0,Tl(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gt(),e.sibling=null,l=Ze.current,k(Ze,d?l&1|2:l&1),Ae&&An(n,s.treeForkCount),e):(Oe(n),null);case 22:case 23:return Vt(n),Ir(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Oe(n),n.subtreeFlags&6&&(n.flags|=8192)):Oe(n),l=n.updateQueue,l!==null&&Va(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&z(Li),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Nn(We),Oe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Nv(e,n){switch(mr(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Nn(We),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ti(n),null;case 31:if(n.memoizedState!==null){if(Vt(n),n.alternate===null)throw Error(a(340));xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Vt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return z(Ze),null;case 4:return ze(),null;case 10:return Nn(n.type),null;case 22:case 23:return Vt(n),Ir(),e!==null&&z(Li),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Nn(We),null;case 25:return null;default:return null}}function zd(e,n){switch(mr(n),n.tag){case 3:Nn(We),ze();break;case 26:case 27:case 5:Ti(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&Vt(n);break;case 13:Vt(n);break;case 19:z(Ze);break;case 10:Nn(n.type);break;case 22:case 23:Vt(n),Ir(),e!==null&&z(Li);break;case 24:Nn(We)}}function El(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,S=l.inst;s=m(),S.destroy=s}l=l.next}while(l!==d)}}catch(E){Le(n,n.return,E)}}function oi(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var S=s.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,d=n;var A=l,D=E;try{D()}catch(V){Le(d,A,V)}}}s=s.next}while(s!==m)}}catch(V){Le(n,n.return,V)}}function Bd(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{xf(n,l)}catch(s){Le(e,e.return,s)}}}function Od(e,n,l){l.props=qi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Le(e,n,s)}}function Cl(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){Le(e,n,d)}}function mn(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){Le(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Le(e,n,d)}else l.current=null}function kd(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){Le(e,e.return,d)}}function su(e,n,l){try{var s=e.stateNode;Kv(s,e.type,l,n),s[ft]=n}catch(d){Le(e,e.return,d)}}function Fd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fi(e.type)||e.tag===4}function ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uu(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Tn));else if(s!==4&&(s===27&&fi(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(uu(e,n,l),e=e.sibling;e!==null;)uu(e,n,l),e=e.sibling}function qa(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&fi(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(qa(e,n,l),e=e.sibling;e!==null;)qa(e,n,l),e=e.sibling}function Jd(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ht(n,s,l),n[lt]=e,n[ft]=l}catch(m){Le(e,e.return,m)}}var xn=!1,tt=!1,cu=!1,Yd=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Mv(e,n){if(e=e.containerInfo,xu=as,e=of(e),ir(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,E=-1,A=-1,D=0,V=0,B=e,L=null;t:for(;;){for(var P;B!==l||d!==0&&B.nodeType!==3||(E=S+d),B!==m||s!==0&&B.nodeType!==3||(A=S+s),B.nodeType===3&&(S+=B.nodeValue.length),(P=B.firstChild)!==null;)L=B,B=P;for(;;){if(B===e)break t;if(L===l&&++D===d&&(E=S),L===m&&++V===s&&(A=S),(P=B.nextSibling)!==null)break;B=L,L=B.parentNode}B=P}l=E===-1||A===-1?null:{start:E,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Du={focusedElem:e,selectionRange:l},as=!1,rt=n;rt!==null;)if(n=rt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,rt=e;else for(;rt!==null;){switch(n=rt,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var ee=qi(l.type,d);e=s.getSnapshotBeforeUpdate(ee,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(re){Le(l,l.return,re)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Gu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,rt=e;break}rt=n.return}}function Xd(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:Un(e,l),s&4&&El(5,l);break;case 1:if(Un(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){Le(l,l.return,S)}else{var d=qi(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Le(l,l.return,S)}}s&64&&Bd(l),s&512&&Cl(l,l.return);break;case 3:if(Un(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{xf(e,n)}catch(S){Le(l,l.return,S)}}break;case 27:n===null&&s&4&&Jd(l);case 26:case 5:Un(e,l),n===null&&s&4&&kd(l),s&512&&Cl(l,l.return);break;case 12:Un(e,l);break;case 31:Un(e,l),s&4&&Zd(e,l);break;case 13:Un(e,l),s&4&&$d(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Pv.bind(null,l),n0(e,l))));break;case 22:if(s=l.memoizedState!==null||xn,!s){n=n!==null&&n.memoizedState!==null||tt,d=xn;var m=tt;xn=s,(tt=n)&&!m?Ln(e,l,(l.subtreeFlags&8772)!==0):Un(e,l),xn=d,tt=m}break;case 30:break;default:Un(e,l)}}function Kd(e){var n=e.alternate;n!==null&&(e.alternate=null,Kd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,wt=!1;function Dn(e,n,l){for(l=l.child;l!==null;)Qd(e,n,l),l=l.sibling}function Qd(e,n,l){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(gn,l)}catch{}switch(l.tag){case 26:tt||mn(l,n),Dn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tt||mn(l,n);var s=Fe,d=wt;fi(l.type)&&(Fe=l.stateNode,wt=!1),Dn(e,n,l),Dl(l.stateNode),Fe=s,wt=d;break;case 5:tt||mn(l,n);case 6:if(s=Fe,d=wt,Fe=null,Dn(e,n,l),Fe=s,wt=d,Fe!==null)if(wt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(l.stateNode)}catch(m){Le(l,n,m)}else try{Fe.removeChild(l.stateNode)}catch(m){Le(l,n,m)}break;case 18:Fe!==null&&(wt?(e=Fe,Bp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),xo(e)):Bp(Fe,l.stateNode));break;case 4:s=Fe,d=wt,Fe=l.stateNode.containerInfo,wt=!0,Dn(e,n,l),Fe=s,wt=d;break;case 0:case 11:case 14:case 15:oi(2,l,n),tt||oi(4,l,n),Dn(e,n,l);break;case 1:tt||(mn(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Od(l,n,s)),Dn(e,n,l);break;case 21:Dn(e,n,l);break;case 22:tt=(s=tt)||l.memoizedState!==null,Dn(e,n,l),tt=s;break;default:Dn(e,n,l)}}function Zd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xo(e)}catch(l){Le(n,n.return,l)}}}function $d(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xo(e)}catch(l){Le(n,n.return,l)}}function wv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yd),n;default:throw Error(a(435,e.tag))}}function za(e,n){var l=wv(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=Hv.bind(null,e,s);s.then(d,d)}})}function It(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,S=n,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(fi(E.type)){Fe=E.stateNode,wt=!1;break e}break;case 5:Fe=E.stateNode,wt=!1;break e;case 3:case 4:Fe=E.stateNode.containerInfo,wt=!0;break e}E=E.return}if(Fe===null)throw Error(a(160));Qd(m,S,d),Fe=null,wt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Wd(n,e),n=n.sibling}var on=null;function Wd(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:It(n,e),bt(e),s&4&&(oi(3,e,e.return),El(3,e),oi(5,e,e.return));break;case 1:It(n,e),bt(e),s&512&&(tt||l===null||mn(l,l.return)),s&64&&xn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=on;if(It(n,e),bt(e),s&512&&(tt||l===null||mn(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Yn]||m[lt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),ht(m,s,l),m[lt]=e,ue(m),s=m;break e;case"link":var S=Wp("link","href",d).get(s+(l.href||""));if(S){for(var E=0;E<S.length;E++)if(m=S[E],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(E,1);break t}}m=d.createElement(s),ht(m,s,l),d.head.appendChild(m);break;case"meta":if(S=Wp("meta","content",d).get(s+(l.content||""))){for(E=0;E<S.length;E++)if(m=S[E],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(E,1);break t}}m=d.createElement(s),ht(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[lt]=e,ue(m),s=m}e.stateNode=s}else jp(d,e.type,e.stateNode);else e.stateNode=$p(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?jp(d,e.type,e.stateNode):$p(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&su(e,e.memoizedProps,l.memoizedProps)}break;case 27:It(n,e),bt(e),s&512&&(tt||l===null||mn(l,l.return)),l!==null&&s&4&&su(e,e.memoizedProps,l.memoizedProps);break;case 5:if(It(n,e),bt(e),s&512&&(tt||l===null||mn(l,l.return)),e.flags&32){d=e.stateNode;try{ji(d,"")}catch(ee){Le(e,e.return,ee)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,su(e,d,l!==null?l.memoizedProps:d)),s&1024&&(cu=!0);break;case 6:if(It(n,e),bt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(ee){Le(e,e.return,ee)}}break;case 3:if(ns=null,d=on,on=es(n.containerInfo),It(n,e),on=d,bt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{xo(n.containerInfo)}catch(ee){Le(e,e.return,ee)}cu&&(cu=!1,jd(e));break;case 4:s=on,on=es(e.stateNode.containerInfo),It(n,e),bt(e),on=s;break;case 12:It(n,e),bt(e);break;case 31:It(n,e),bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,za(e,s)));break;case 13:It(n,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Oa=gt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,za(e,s)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,D=xn,V=tt;if(xn=D||d,tt=V||A,It(n,e),tt=V,xn=D,bt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||A||xn||tt||zi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(m=A.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=A.stateNode;var B=A.memoizedProps.style,L=B!=null&&B.hasOwnProperty("display")?B.display:null;E.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ee){Le(A,A.return,ee)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(ee){Le(A,A.return,ee)}}}else if(n.tag===18){if(l===null){A=n;try{var P=A.stateNode;d?Op(P,!0):Op(A.stateNode,!1)}catch(ee){Le(A,A.return,ee)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,za(e,l))));break;case 19:It(n,e),bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,za(e,s)));break;case 30:break;case 21:break;default:It(n,e),bt(e)}}function bt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Fd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=ru(e);qa(e,m,d);break;case 5:var S=l.stateNode;l.flags&32&&(ji(S,""),l.flags&=-33);var E=ru(e);qa(e,E,S);break;case 3:case 4:var A=l.stateNode.containerInfo,D=ru(e);uu(e,D,A);break;default:throw Error(a(161))}}catch(V){Le(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;jd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Un(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xd(e,n.alternate,n),n=n.sibling}function zi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:oi(4,n,n.return),zi(n);break;case 1:mn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Od(n,n.return,l),zi(n);break;case 27:Dl(n.stateNode);case 26:case 5:mn(n,n.return),zi(n);break;case 22:n.memoizedState===null&&zi(n);break;case 30:zi(n);break;default:zi(n)}e=e.sibling}}function Ln(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:Ln(d,m,l),El(4,m);break;case 1:if(Ln(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){Le(s,s.return,D)}if(s=m,d=s.updateQueue,d!==null){var E=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)bf(A[d],E)}catch(D){Le(s,s.return,D)}}l&&S&64&&Bd(m),Cl(m,m.return);break;case 27:Jd(m);case 26:case 5:Ln(d,m,l),l&&s===null&&S&4&&kd(m),Cl(m,m.return);break;case 12:Ln(d,m,l);break;case 31:Ln(d,m,l),l&&S&4&&Zd(d,m);break;case 13:Ln(d,m,l),l&&S&4&&$d(d,m);break;case 22:m.memoizedState===null&&Ln(d,m,l),Cl(m,m.return);break;case 30:break;default:Ln(d,m,l)}n=n.sibling}}function fu(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ul(l))}function du(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ul(e))}function ln(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ep(e,n,l,s),n=n.sibling}function ep(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:ln(e,n,l,s),d&2048&&El(9,n);break;case 1:ln(e,n,l,s);break;case 3:ln(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ul(e)));break;case 12:if(d&2048){ln(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,E=m.onPostCommit;typeof E=="function"&&E(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Le(n,n.return,A)}}else ln(e,n,l,s);break;case 31:ln(e,n,l,s);break;case 13:ln(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?ln(e,n,l,s):Al(e,n):m._visibility&2?ln(e,n,l,s):(m._visibility|=2,_o(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&fu(S,n);break;case 24:ln(e,n,l,s),d&2048&&du(n.alternate,n);break;default:ln(e,n,l,s)}}function _o(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,E=l,A=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:_o(m,S,E,A,d),El(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?_o(m,S,E,A,d):Al(m,S):(V._visibility|=2,_o(m,S,E,A,d)),d&&D&2048&&fu(S.alternate,S);break;case 24:_o(m,S,E,A,d),d&&D&2048&&du(S.alternate,S);break;default:_o(m,S,E,A,d)}n=n.sibling}}function Al(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:Al(l,s),d&2048&&fu(s.alternate,s);break;case 24:Al(l,s),d&2048&&du(s.alternate,s);break;default:Al(l,s)}n=n.sibling}}var Rl=8192;function To(e,n,l){if(e.subtreeFlags&Rl)for(e=e.child;e!==null;)tp(e,n,l),e=e.sibling}function tp(e,n,l){switch(e.tag){case 26:To(e,n,l),e.flags&Rl&&e.memoizedState!==null&&m0(l,on,e.memoizedState,e.memoizedProps);break;case 5:To(e,n,l);break;case 3:case 4:var s=on;on=es(e.stateNode.containerInfo),To(e,n,l),on=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Rl,Rl=16777216,To(e,n,l),Rl=s):To(e,n,l));break;default:To(e,n,l)}}function np(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];rt=s,op(s,e)}np(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ip(e),e=e.sibling}function ip(e){switch(e.tag){case 0:case 11:case 15:Nl(e),e.flags&2048&&oi(9,e,e.return);break;case 3:Nl(e);break;case 12:Nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ba(e)):Nl(e);break;default:Nl(e)}}function Ba(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];rt=s,op(s,e)}np(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:oi(8,n,n.return),Ba(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Ba(n));break;default:Ba(n)}e=e.sibling}}function op(e,n){for(;rt!==null;){var l=rt;switch(l.tag){case 0:case 11:case 15:oi(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ul(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,rt=s;else e:for(l=e;rt!==null;){s=rt;var d=s.sibling,m=s.return;if(Kd(s),s===l){rt=null;break e}if(d!==null){d.return=m,rt=d;break e}rt=m}}}var Iv={getCacheForType:function(e){var n=pt(We),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return pt(We).controller.signal}},bv=typeof WeakMap=="function"?WeakMap:Map,be=0,Ve=null,Se=null,Te=0,Ue=0,qt=null,li=!1,Eo=!1,pu=!1,Gn=0,Ke=0,ai=0,Bi=0,mu=0,zt=0,Co=0,Ml=null,xt=null,hu=!1,Oa=0,lp=0,ka=1/0,Fa=null,si=null,st=0,ri=null,Ao=null,Pn=0,gu=0,yu=null,ap=null,wl=0,vu=null;function Bt(){return(be&2)!==0&&Te!==0?Te&-Te:U.T!==null?Au():Wl()}function sp(){if(zt===0)if((Te&536870912)===0||Ae){var e=Rt;Rt<<=1,(Rt&3932160)===0&&(Rt=262144),zt=e}else zt=536870912;return e=Ht.current,e!==null&&(e.flags|=32),zt}function Dt(e,n,l){(e===Ve&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(Ro(e,0),ui(e,Te,zt,!1)),Fn(e,l),((be&2)===0||e!==Ve)&&(e===Ve&&((be&2)===0&&(Bi|=l),Ke===4&&ui(e,Te,zt,!1)),hn(e))}function rp(e,n,l){if((be&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||kn(e,n),d=s?Uv(e,n):_u(e,n,!0),m=s;do{if(d===0){Eo&&!s&&ui(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!xv(l)){d=_u(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var E=e;d=Ml;var A=E.current.memoizedState.isDehydrated;if(A&&(Ro(E,S).flags|=256),S=_u(E,S,!1),S!==2){if(pu&&!A){E.errorRecoveryDisabledLanes|=m,Bi|=m,d=4;break e}m=xt,xt=d,m!==null&&(xt===null?xt=m:xt.push.apply(xt,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){Ro(e,0),ui(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ui(s,n,zt,!li);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Oa+300-gt(),10<d)){if(ui(s,n,zt,!li),ke(s,0,!0)!==0)break e;Pn=n,s.timeoutHandle=qp(up.bind(null,s,l,xt,Fa,hu,n,zt,Bi,Co,li,m,"Throttled",-0,0),d);break e}up(s,l,xt,Fa,hu,n,zt,Bi,Co,li,m,null,-0,0)}}break}while(!0);hn(e)}function up(e,n,l,s,d,m,S,E,A,D,V,B,L,P){if(e.timeoutHandle=-1,B=n.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},tp(n,m,B);var ee=(m&62914560)===m?Oa-gt():(m&4194048)===m?lp-gt():0;if(ee=h0(B,ee),ee!==null){Pn=m,e.cancelPendingCommit=ee(yp.bind(null,e,n,m,l,s,d,S,E,A,V,B,null,L,P)),ui(e,m,S,!D);return}}yp(e,n,m,l,s,d,S,E,A)}function xv(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!Gt(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ui(e,n,l,s){n&=~mu,n&=~Bi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-Tt(d),S=1<<m;s[m]=-1,d&=~S}l!==0&&Ci(e,l,n)}function Ja(){return(be&6)===0?(Il(0),!1):!0}function Su(){if(Se!==null){if(Ue===0)var e=Se.return;else e=Se,Rn=Di=null,Gr(e),ho=null,fl=0,e=Se;for(;e!==null;)zd(e.alternate,e),e=e.return;Se=null}}function Ro(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,$v(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Pn=0,Su(),Ve=e,Se=l=Cn(e.current,null),Te=n,Ue=0,qt=null,li=!1,Eo=kn(e,n),pu=!1,Co=zt=mu=Bi=ai=Ke=0,xt=Ml=null,hu=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Tt(s),m=1<<d;n|=e[d],s&=~m}return Gn=n,da(),l}function cp(e,n){ge=null,U.H=Sl,n===mo||n===_a?(n=Nf(),Ue=3):n===Cr?(n=Nf(),Ue=4):Ue=n===$r?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qt=n,Se===null&&(Ke=1,La(e,Xt(n,e.current)))}function fp(){var e=Ht.current;return e===null?!0:(Te&4194048)===Te?$t===null:(Te&62914560)===Te||(Te&536870912)!==0?e===$t:!1}function dp(){var e=U.H;return U.H=Sl,e===null?Sl:e}function pp(){var e=U.A;return U.A=Iv,e}function Ya(){Ke=4,li||(Te&4194048)!==Te&&Ht.current!==null||(Eo=!0),(ai&134217727)===0&&(Bi&134217727)===0||Ve===null||ui(Ve,Te,zt,!1)}function _u(e,n,l){var s=be;be|=2;var d=dp(),m=pp();(Ve!==e||Te!==n)&&(Fa=null,Ro(e,n)),n=!1;var S=Ke;e:do try{if(Ue!==0&&Se!==null){var E=Se,A=qt;switch(Ue){case 8:Su(),S=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(n=!0);var D=Ue;if(Ue=0,qt=null,No(e,E,A,D),l&&Eo){S=0;break e}break;default:D=Ue,Ue=0,qt=null,No(e,E,A,D)}}Dv(),S=Ke;break}catch(V){cp(e,V)}while(!0);return n&&e.shellSuspendCounter++,Rn=Di=null,be=s,U.H=d,U.A=m,Se===null&&(Ve=null,Te=0,da()),S}function Dv(){for(;Se!==null;)mp(Se)}function Uv(e,n){var l=be;be|=2;var s=dp(),d=pp();Ve!==e||Te!==n?(Fa=null,ka=gt()+500,Ro(e,n)):Eo=kn(e,n);e:do try{if(Ue!==0&&Se!==null){n=Se;var m=qt;t:switch(Ue){case 1:Ue=0,qt=null,No(e,n,m,1);break;case 2:case 9:if(Af(m)){Ue=0,qt=null,hp(n);break}n=function(){Ue!==2&&Ue!==9||Ve!==e||(Ue=7),hn(e)},m.then(n,n);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Af(m)?(Ue=0,qt=null,hp(n)):(Ue=0,qt=null,No(e,n,m,7));break;case 5:var S=null;switch(Se.tag){case 26:S=Se.memoizedState;case 5:case 27:var E=Se;if(S?em(S):E.stateNode.complete){Ue=0,qt=null;var A=E.sibling;if(A!==null)Se=A;else{var D=E.return;D!==null?(Se=D,Xa(D)):Se=null}break t}}Ue=0,qt=null,No(e,n,m,5);break;case 6:Ue=0,qt=null,No(e,n,m,6);break;case 8:Su(),Ke=6;break e;default:throw Error(a(462))}}Lv();break}catch(V){cp(e,V)}while(!0);return Rn=Di=null,U.H=s,U.A=d,be=l,Se!==null?0:(Ve=null,Te=0,da(),Ke)}function Lv(){for(;Se!==null&&!Ot();)mp(Se)}function mp(e){var n=Vd(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,n===null?Xa(e):Se=n}function hp(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Dd(l,n,n.pendingProps,n.type,void 0,Te);break;case 11:n=Dd(l,n,n.pendingProps,n.type.render,n.ref,Te);break;case 5:Gr(n);default:zd(l,n),n=Se=pf(n,Gn),n=Vd(l,n,Gn)}e.memoizedProps=e.pendingProps,n===null?Xa(e):Se=n}function No(e,n,l,s){Rn=Di=null,Gr(n),ho=null,fl=0;var d=n.return;try{if(Ev(e,d,n,l,Te)){Ke=1,La(e,Xt(l,e.current)),Se=null;return}}catch(m){if(d!==null)throw Se=d,m;Ke=1,La(e,Xt(l,e.current)),Se=null;return}n.flags&32768?(Ae||s===1?e=!0:Eo||(Te&536870912)!==0?e=!1:(li=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ht.current,s!==null&&s.tag===13&&(s.flags|=16384))),gp(n,e)):Xa(n)}function Xa(e){var n=e;do{if((n.flags&32768)!==0){gp(n,li);return}e=n.return;var l=Rv(n.alternate,n,Gn);if(l!==null){Se=l;return}if(n=n.sibling,n!==null){Se=n;return}Se=n=e}while(n!==null);Ke===0&&(Ke=5)}function gp(e,n){do{var l=Nv(e.alternate,e);if(l!==null){l.flags&=32767,Se=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Se=e;return}Se=e=l}while(e!==null);Ke=6,Se=null}function yp(e,n,l,s,d,m,S,E,A){e.cancelPendingCommit=null;do Ka();while(st!==0);if((be&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=rr,Zl(e,l,m,S,E,A),e===Ve&&(Se=Ve=null,Te=0),Ao=n,ri=e,Pn=l,gu=m,yu=d,ap=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vv(Ei,function(){return Ep(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=U.T,U.T=null,d=X.p,X.p=2,S=be,be|=4;try{Mv(e,n,l)}finally{be=S,X.p=d,U.T=s}}st=1,vp(),Sp(),_p()}}function vp(){if(st===1){st=0;var e=ri,n=Ao,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var s=X.p;X.p=2;var d=be;be|=4;try{Wd(n,e);var m=Du,S=of(e.containerInfo),E=m.focusedElem,A=m.selectionRange;if(S!==E&&E&&E.ownerDocument&&nf(E.ownerDocument.documentElement,E)){if(A!==null&&ir(E)){var D=A.start,V=A.end;if(V===void 0&&(V=D),"selectionStart"in E)E.selectionStart=D,E.selectionEnd=Math.min(V,E.value.length);else{var B=E.ownerDocument||document,L=B&&B.defaultView||window;if(L.getSelection){var P=L.getSelection(),ee=E.textContent.length,re=Math.min(A.start,ee),He=A.end===void 0?re:Math.min(A.end,ee);!P.extend&&re>He&&(S=He,He=re,re=S);var w=tf(E,re),R=tf(E,He);if(w&&R&&(P.rangeCount!==1||P.anchorNode!==w.node||P.anchorOffset!==w.offset||P.focusNode!==R.node||P.focusOffset!==R.offset)){var x=B.createRange();x.setStart(w.node,w.offset),P.removeAllRanges(),re>He?(P.addRange(x),P.extend(R.node,R.offset)):(x.setEnd(R.node,R.offset),P.addRange(x))}}}}for(B=[],P=E;P=P.parentNode;)P.nodeType===1&&B.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<B.length;E++){var q=B[E];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}as=!!xu,Du=xu=null}finally{be=d,X.p=s,U.T=l}}e.current=n,st=2}}function Sp(){if(st===2){st=0;var e=ri,n=Ao,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var s=X.p;X.p=2;var d=be;be|=4;try{Xd(e,n.alternate,n)}finally{be=d,X.p=s,U.T=l}}st=3}}function _p(){if(st===4||st===3){st=0,Yl();var e=ri,n=Ao,l=Pn,s=ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?st=5:(st=0,Ao=ri=null,Tp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(si=null),Qo(l),n=n.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(gn,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=U.T,d=X.p,X.p=2,U.T=null;try{for(var m=e.onRecoverableError,S=0;S<s.length;S++){var E=s[S];m(E.value,{componentStack:E.stack})}}finally{U.T=n,X.p=d}}(Pn&3)!==0&&Ka(),hn(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===vu?wl++:(wl=0,vu=e):wl=0,Il(0)}}function Tp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ul(n)))}function Ka(){return vp(),Sp(),_p(),Ep()}function Ep(){if(st!==5)return!1;var e=ri,n=gu;gu=0;var l=Qo(Pn),s=U.T,d=X.p;try{X.p=32>l?32:l,U.T=null,l=yu,yu=null;var m=ri,S=Pn;if(st=0,Ao=ri=null,Pn=0,(be&6)!==0)throw Error(a(331));var E=be;if(be|=4,ip(m.current),ep(m,m.current,S,l),be=E,Il(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(gn,m)}catch{}return!0}finally{X.p=d,U.T=s,Tp(e,n)}}function Cp(e,n,l){n=Xt(l,n),n=Zr(e.stateNode,n,2),e=ti(e,n,2),e!==null&&(Fn(e,2),hn(e))}function Le(e,n,l){if(e.tag===3)Cp(e,e,l);else for(;n!==null;){if(n.tag===3){Cp(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(si===null||!si.has(s))){e=Xt(l,e),l=Ad(2),s=ti(n,l,2),s!==null&&(Rd(l,s,n,e),Fn(s,2),hn(s));break}}n=n.return}}function Tu(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new bv;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(pu=!0,d.add(l),e=Gv.bind(null,e,n,l),n.then(e,e))}function Gv(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ve===e&&(Te&l)===l&&(Ke===4||Ke===3&&(Te&62914560)===Te&&300>gt()-Oa?(be&2)===0&&Ro(e,0):mu|=l,Co===Te&&(Co=0)),hn(e)}function Ap(e,n){n===0&&(n=Ql()),e=Ii(e,n),e!==null&&(Fn(e,n),hn(e))}function Pv(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Ap(e,l)}function Hv(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Ap(e,l)}function Vv(e,n){return Fo(e,n)}var Qa=null,Mo=null,Eu=!1,Za=!1,Cu=!1,ci=0;function hn(e){e!==Mo&&e.next===null&&(Mo===null?Qa=Mo=e:Mo=Mo.next=e),Za=!0,Eu||(Eu=!0,zv())}function Il(e,n){if(!Cu&&Za){Cu=!0;do for(var l=!1,s=Qa;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var S=s.suspendedLanes,E=s.pingedLanes;m=(1<<31-Tt(42|e)+1)-1,m&=d&~(S&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,wp(s,m))}else m=Te,m=ke(s,s===Ve?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||kn(s,m)||(l=!0,wp(s,m));s=s.next}while(l);Cu=!1}}function qv(){Rp()}function Rp(){Za=Eu=!1;var e=0;ci!==0&&Zv()&&(e=ci);for(var n=gt(),l=null,s=Qa;s!==null;){var d=s.next,m=Np(s,n);m===0?(s.next=null,l===null?Qa=d:l.next=d,d===null&&(Mo=l)):(l=s,(e!==0||(m&3)!==0)&&(Za=!0)),s=d}st!==0&&st!==5||Il(e),ci!==0&&(ci=0)}function Np(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-Tt(m),E=1<<S,A=d[S];A===-1?((E&l)===0||(E&s)!==0)&&(d[S]=Kl(E,n)):A<=n&&(e.expiredLanes|=E),m&=~E}if(n=Ve,l=Te,l=ke(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Jl(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||kn(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&Jl(s),Qo(l)){case 2:case 8:l=Xl;break;case 32:l=Ei;break;case 268435456:l=Yo;break;default:l=Ei}return s=Mp.bind(null,e),l=Fo(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&Jl(s),e.callbackPriority=2,e.callbackNode=null,2}function Mp(e,n){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ka()&&e.callbackNode!==l)return null;var s=Te;return s=ke(e,e===Ve?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(rp(e,s,n),Np(e,gt()),e.callbackNode!=null&&e.callbackNode===l?Mp.bind(null,e):null)}function wp(e,n){if(Ka())return null;rp(e,n,!0)}function zv(){Wv(function(){(be&6)!==0?Fo(Jo,qv):Rp()})}function Au(){if(ci===0){var e=fo;e===0&&(e=Qi,Qi<<=1,(Qi&261888)===0&&(Qi=256)),ci=e}return ci}function Ip(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function bp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Bv(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var m=Ip((d[ft]||null).action),S=s.submitter;S&&(n=(n=S[ft]||null)?Ip(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var E=new ra("action","action",null,s,d);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ci!==0){var A=S?bp(d,S):new FormData(d);Fr(l,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(E.preventDefault(),A=S?bp(d,S):new FormData(d),Fr(l,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var Ru=0;Ru<sr.length;Ru++){var Nu=sr[Ru],Ov=Nu.toLowerCase(),kv=Nu[0].toUpperCase()+Nu.slice(1);nn(Ov,"on"+kv)}nn(sf,"onAnimationEnd"),nn(rf,"onAnimationIteration"),nn(uf,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(lv,"onTransitionRun"),nn(av,"onTransitionStart"),nn(sv,"onTransitionCancel"),nn(cf,"onTransitionEnd"),Lt("onMouseEnter",["mouseout","mouseover"]),Lt("onMouseLeave",["mouseout","mouseover"]),Lt("onPointerEnter",["pointerout","pointerover"]),Lt("onPointerLeave",["pointerout","pointerover"]),yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function xp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var S=s.length-1;0<=S;S--){var E=s[S],A=E.instance,D=E.currentTarget;if(E=E.listener,A!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=D;try{m(d)}catch(V){fa(V)}d.currentTarget=null,m=A}else for(S=0;S<s.length;S++){if(E=s[S],A=E.instance,D=E.currentTarget,E=E.listener,A!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=D;try{m(d)}catch(V){fa(V)}d.currentTarget=null,m=A}}}}function _e(e,n){var l=n[vn];l===void 0&&(l=n[vn]=new Set);var s=e+"__bubble";l.has(s)||(Dp(n,e,2,!1),l.add(s))}function Mu(e,n,l){var s=0;n&&(s|=4),Dp(l,e,s,n)}var $a="_reactListening"+Math.random().toString(36).slice(2);function wu(e){if(!e[$a]){e[$a]=!0,Ne.forEach(function(l){l!=="selectionchange"&&(Fv.has(l)||Mu(l,!1,e),Mu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[$a]||(n[$a]=!0,Mu("selectionchange",!1,n))}}function Dp(e,n,l,s){switch(sm(n)){case 2:var d=v0;break;case 8:d=S0;break;default:d=ku}l=d.bind(null,n,l,e),d=void 0,!Ks||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function Iu(e,n,l,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var E=s.stateNode.containerInfo;if(E===d)break;if(S===4)for(S=s.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;E!==null;){if(S=Sn(E),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){s=m=S;continue e}E=E.parentNode}}s=s.return}Pc(function(){var D=m,V=Ys(l),B=[];e:{var L=ff.get(e);if(L!==void 0){var P=ra,ee=e;switch(e){case"keypress":if(aa(l)===0)break e;case"keydown":case"keyup":P=Hy;break;case"focusin":ee="focus",P=Ws;break;case"focusout":ee="blur",P=Ws;break;case"beforeblur":case"afterblur":P=Ws;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Ry;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=zy;break;case sf:case rf:case uf:P=wy;break;case cf:P=Oy;break;case"scroll":case"scrollend":P=Cy;break;case"wheel":P=Fy;break;case"copy":case"cut":case"paste":P=by;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Bc;break;case"toggle":case"beforetoggle":P=Yy}var re=(n&4)!==0,He=!re&&(e==="scroll"||e==="scrollend"),w=re?L!==null?L+"Capture":null:L;re=[];for(var R=D,x;R!==null;){var q=R;if(x=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||x===null||w===null||(q=Wo(R,w),q!=null&&re.push(xl(R,q,x))),He)break;R=R.return}0<re.length&&(L=new P(L,ee,null,l,V),B.push({event:L,listeners:re}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",L&&l!==Js&&(ee=l.relatedTarget||l.fromElement)&&(Sn(ee)||ee[kt]))break e;if((P||L)&&(L=V.window===V?V:(L=V.ownerDocument)?L.defaultView||L.parentWindow:window,P?(ee=l.relatedTarget||l.toElement,P=D,ee=ee?Sn(ee):null,ee!==null&&(He=f(ee),re=ee.tag,ee!==He||re!==5&&re!==27&&re!==6)&&(ee=null)):(P=null,ee=D),P!==ee)){if(re=qc,q="onMouseLeave",w="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(re=Bc,q="onPointerLeave",w="onPointerEnter",R="pointer"),He=P==null?L:Y(P),x=ee==null?L:Y(ee),L=new re(q,R+"leave",P,l,V),L.target=He,L.relatedTarget=x,q=null,Sn(V)===D&&(re=new re(w,R+"enter",ee,l,V),re.target=x,re.relatedTarget=He,q=re),He=q,P&&ee)t:{for(re=Jv,w=P,R=ee,x=0,q=w;q;q=re(q))x++;q=0;for(var ae=R;ae;ae=re(ae))q++;for(;0<x-q;)w=re(w),x--;for(;0<q-x;)R=re(R),q--;for(;x--;){if(w===R||R!==null&&w===R.alternate){re=w;break t}w=re(w),R=re(R)}re=null}else re=null;P!==null&&Up(B,L,P,re,!1),ee!==null&&He!==null&&Up(B,He,ee,re,!0)}}e:{if(L=D?Y(D):window,P=L.nodeName&&L.nodeName.toLowerCase(),P==="select"||P==="input"&&L.type==="file")var Me=Qc;else if(Xc(L))if(Zc)Me=nv;else{Me=ev;var ne=jy}else P=L.nodeName,!P||P.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?D&&Fs(D.elementType)&&(Me=Qc):Me=tv;if(Me&&(Me=Me(e,D))){Kc(B,Me,l,V);break e}ne&&ne(e,L,D),e==="focusout"&&D&&L.type==="number"&&D.memoizedProps.value!=null&&ks(L,"number",L.value)}switch(ne=D?Y(D):window,e){case"focusin":(Xc(ne)||ne.contentEditable==="true")&&(io=ne,or=D,al=null);break;case"focusout":al=or=io=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,lf(B,l,V);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":lf(B,l,V)}var ve;if(er)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else no?Jc(e,l)&&(Ee="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Oc&&l.locale!=="ko"&&(no||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&no&&(ve=Hc()):(Kn=V,Qs="value"in Kn?Kn.value:Kn.textContent,no=!0)),ne=Wa(D,Ee),0<ne.length&&(Ee=new zc(Ee,e,null,l,V),B.push({event:Ee,listeners:ne}),ve?Ee.data=ve:(ve=Yc(l),ve!==null&&(Ee.data=ve)))),(ve=Ky?Qy(e,l):Zy(e,l))&&(Ee=Wa(D,"onBeforeInput"),0<Ee.length&&(ne=new zc("onBeforeInput","beforeinput",null,l,V),B.push({event:ne,listeners:Ee}),ne.data=ve)),Bv(B,e,D,l,V)}xp(B,n)})}function xl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Wa(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Wo(e,l),d!=null&&s.unshift(xl(e,d,m)),d=Wo(e,n),d!=null&&s.push(xl(e,d,m))),e.tag===3)return s;e=e.return}return[]}function Jv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Up(e,n,l,s,d){for(var m=n._reactName,S=[];l!==null&&l!==s;){var E=l,A=E.alternate,D=E.stateNode;if(E=E.tag,A!==null&&A===s)break;E!==5&&E!==26&&E!==27||D===null||(A=D,d?(D=Wo(l,m),D!=null&&S.unshift(xl(l,D,A))):d||(D=Wo(l,m),D!=null&&S.push(xl(l,D,A)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var Yv=/\r\n?/g,Xv=/\u0000|\uFFFD/g;function Lp(e){return(typeof e=="string"?e:""+e).replace(Yv,`
`).replace(Xv,"")}function Gp(e,n){return n=Lp(n),Lp(e)===n}function Pe(e,n,l,s,d,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||ji(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&ji(e,""+s);break;case"className":$i(e,"class",s);break;case"tabIndex":$i(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(e,l,s);break;case"style":Lc(e,s,m);break;case"data":if(n!=="object"){$i(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=oa(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&Pe(e,n,"name",d.name,d,null),Pe(e,n,"formEncType",d.formEncType,d,null),Pe(e,n,"formMethod",d.formMethod,d,null),Pe(e,n,"formTarget",d.formTarget,d,null)):(Pe(e,n,"encType",d.encType,d,null),Pe(e,n,"method",d.method,d,null),Pe(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=oa(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Tn);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=oa(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Ri(e,"popover",s);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ri(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ty.get(l)||l,Ri(e,l,s))}}function bu(e,n,l,s,d,m){switch(l){case"style":Lc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?ji(e,s):(typeof s=="number"||typeof s=="bigint")&&ji(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!at.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[ft]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Ri(e,l,s)}}}function ht(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Pe(e,n,m,S,l,null)}}d&&Pe(e,n,"srcSet",l.srcSet,l,null),s&&Pe(e,n,"src",l.src,l,null);return;case"input":_e("invalid",e);var E=m=S=d=null,A=null,D=null;for(s in l)if(l.hasOwnProperty(s)){var V=l[s];if(V!=null)switch(s){case"name":d=V;break;case"type":S=V;break;case"checked":A=V;break;case"defaultChecked":D=V;break;case"value":m=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:Pe(e,n,s,V,l,null)}}bc(e,m,E,A,D,S,d,!1);return;case"select":_e("invalid",e),s=S=m=null;for(d in l)if(l.hasOwnProperty(d)&&(E=l[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":S=E;break;case"multiple":s=E;default:Pe(e,n,d,E,l,null)}n=m,l=S,e.multiple=!!s,n!=null?Wi(e,!!s,n,!1):l!=null&&Wi(e,!!s,l,!0);return;case"textarea":_e("invalid",e),m=d=s=null;for(S in l)if(l.hasOwnProperty(S)&&(E=l[S],E!=null))switch(S){case"value":s=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Pe(e,n,S,E,l,null)}Dc(e,s,d,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Pe(e,n,A,s,l,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<bl.length;s++)_e(bl[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(s=l[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Pe(e,n,D,s,l,null)}return;default:if(Fs(n)){for(V in l)l.hasOwnProperty(V)&&(s=l[V],s!==void 0&&bu(e,n,V,s,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(s=l[E],s!=null&&Pe(e,n,E,s,l,null))}function Kv(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,E=null,A=null,D=null,V=null;for(P in l){var B=l[P];if(l.hasOwnProperty(P)&&B!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":A=B;default:s.hasOwnProperty(P)||Pe(e,n,P,null,s,B)}}for(var L in s){var P=s[L];if(B=l[L],s.hasOwnProperty(L)&&(P!=null||B!=null))switch(L){case"type":m=P;break;case"name":d=P;break;case"checked":D=P;break;case"defaultChecked":V=P;break;case"value":S=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:P!==B&&Pe(e,n,L,P,s,B)}}Os(e,S,E,A,D,V,m,d);return;case"select":P=S=E=L=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":P=A;default:s.hasOwnProperty(m)||Pe(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=l[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":L=m;break;case"defaultValue":E=m;break;case"multiple":S=m;default:m!==A&&Pe(e,n,d,m,s,A)}n=E,l=S,s=P,L!=null?Wi(e,!!l,L,!1):!!s!=!!l&&(n!=null?Wi(e,!!l,n,!0):Wi(e,!!l,l?[]:"",!1));return;case"textarea":P=L=null;for(E in l)if(d=l[E],l.hasOwnProperty(E)&&d!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Pe(e,n,E,null,s,d)}for(S in s)if(d=s[S],m=l[S],s.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":L=d;break;case"defaultValue":P=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Pe(e,n,S,d,s,m)}xc(e,L,P);return;case"option":for(var ee in l)if(L=l[ee],l.hasOwnProperty(ee)&&L!=null&&!s.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Pe(e,n,ee,null,s,L)}for(A in s)if(L=s[A],P=l[A],s.hasOwnProperty(A)&&L!==P&&(L!=null||P!=null))switch(A){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Pe(e,n,A,L,s,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in l)L=l[re],l.hasOwnProperty(re)&&L!=null&&!s.hasOwnProperty(re)&&Pe(e,n,re,null,s,L);for(D in s)if(L=s[D],P=l[D],s.hasOwnProperty(D)&&L!==P&&(L!=null||P!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:Pe(e,n,D,L,s,P)}return;default:if(Fs(n)){for(var He in l)L=l[He],l.hasOwnProperty(He)&&L!==void 0&&!s.hasOwnProperty(He)&&bu(e,n,He,void 0,s,L);for(V in s)L=s[V],P=l[V],!s.hasOwnProperty(V)||L===P||L===void 0&&P===void 0||bu(e,n,V,L,s,P);return}}for(var w in l)L=l[w],l.hasOwnProperty(w)&&L!=null&&!s.hasOwnProperty(w)&&Pe(e,n,w,null,s,L);for(B in s)L=s[B],P=l[B],!s.hasOwnProperty(B)||L===P||L==null&&P==null||Pe(e,n,B,L,s,P)}function Pp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,S=d.initiatorType,E=d.duration;if(m&&E&&Pp(S)){for(S=0,E=d.responseEnd,s+=1;s<l.length;s++){var A=l[s],D=A.startTime;if(D>E)break;var V=A.transferSize,B=A.initiatorType;V&&Pp(B)&&(A=A.responseEnd,S+=V*(A<E?1:(E-D)/(A-D)))}if(--s,n+=8*(m+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xu=null,Du=null;function ja(e){return e.nodeType===9?e:e.ownerDocument}function Hp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Uu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Lu=null;function Zv(){var e=window.event;return e&&e.type==="popstate"?e===Lu?!1:(Lu=e,!0):(Lu=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,$v=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,Wv=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(e){return zp.resolve(null).then(e).catch(jv)}:qp;function jv(e){setTimeout(function(){throw e})}function fi(e){return e==="head"}function Bp(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),xo(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Dl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Dl(l);for(var m=l.firstChild;m;){var S=m.nextSibling,E=m.nodeName;m[Yn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&Dl(e.ownerDocument.body);l=d}while(l);xo(n)}function Op(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Gu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Gu(l),Zi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function e0(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Yn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function t0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Wt(e.nextSibling),e===null))return null;return e}function kp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Wt(e.nextSibling),e===null))return null;return e}function Pu(e){return e.data==="$?"||e.data==="$~"}function Hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function n0(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Wt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Vu=null;function Fp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Wt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Jp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Yp(e,n,l){switch(n=ja(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zi(e)}var jt=new Map,Xp=new Set;function es(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hn=X.d;X.d={f:i0,r:o0,D:l0,C:a0,L:s0,m:r0,X:c0,S:u0,M:f0};function i0(){var e=Hn.f(),n=Ja();return e||n}function o0(e){var n=I(e);n!==null&&n.tag===5&&n.type==="form"?cd(n):Hn.r(e)}var wo=typeof document>"u"?null:document;function Kp(e,n,l){var s=wo;if(s&&typeof n=="string"&&n){var d=Jt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Xp.has(d)||(Xp.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),ht(n,"link",e),ue(n),s.head.appendChild(n)))}}function l0(e){Hn.D(e),Kp("dns-prefetch",e,null)}function a0(e,n){Hn.C(e,n),Kp("preconnect",e,n)}function s0(e,n,l){Hn.L(e,n,l);var s=wo;if(s&&e&&n){var d='link[rel="preload"][as="'+Jt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Jt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Jt(l.imageSizes)+'"]')):d+='[href="'+Jt(e)+'"]';var m=d;switch(n){case"style":m=Io(e);break;case"script":m=bo(e)}jt.has(m)||(e=_({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),jt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Ul(m))||n==="script"&&s.querySelector(Ll(m))||(n=s.createElement("link"),ht(n,"link",e),ue(n),s.head.appendChild(n)))}}function r0(e,n){Hn.m(e,n);var l=wo;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Jt(s)+'"][href="'+Jt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=bo(e)}if(!jt.has(m)&&(e=_({rel:"modulepreload",href:e},n),jt.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ll(m)))return}s=l.createElement("link"),ht(s,"link",e),ue(s),l.head.appendChild(s)}}}function u0(e,n,l){Hn.S(e,n,l);var s=wo;if(s&&e){var d=ce(s).hoistableStyles,m=Io(e);n=n||"default";var S=d.get(m);if(!S){var E={loading:0,preload:null};if(S=s.querySelector(Ul(m)))E.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},l),(l=jt.get(m))&&qu(e,l);var A=S=s.createElement("link");ue(A),ht(A,"link",e),A._p=new Promise(function(D,V){A.onload=D,A.onerror=V}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ts(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:E},d.set(m,S)}}}function c0(e,n){Hn.X(e,n);var l=wo;if(l&&e){var s=ce(l).hoistableScripts,d=bo(e),m=s.get(d);m||(m=l.querySelector(Ll(d)),m||(e=_({src:e,async:!0},n),(n=jt.get(d))&&zu(e,n),m=l.createElement("script"),ue(m),ht(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function f0(e,n){Hn.M(e,n);var l=wo;if(l&&e){var s=ce(l).hoistableScripts,d=bo(e),m=s.get(d);m||(m=l.querySelector(Ll(d)),m||(e=_({src:e,async:!0,type:"module"},n),(n=jt.get(d))&&zu(e,n),m=l.createElement("script"),ue(m),ht(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Qp(e,n,l,s){var d=(d=te.current)?es(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Io(l.href),l=ce(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Io(l.href);var m=ce(d).hoistableStyles,S=m.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=d.querySelector(Ul(e)))&&!m._p&&(S.instance=m,S.state.loading=5),jt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},jt.set(e,l),m||d0(d,e,l,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=bo(l),l=ce(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Io(e){return'href="'+Jt(e)+'"'}function Ul(e){return'link[rel="stylesheet"]['+e+"]"}function Zp(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function d0(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),ht(n,"link",l),ue(n),e.head.appendChild(n))}function bo(e){return'[src="'+Jt(e)+'"]'}function Ll(e){return"script[async]"+e}function $p(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Jt(l.href)+'"]');if(s)return n.instance=s,ue(s),s;var d=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ue(s),ht(s,"style",d),ts(s,l.precedence,e),n.instance=s;case"stylesheet":d=Io(l.href);var m=e.querySelector(Ul(d));if(m)return n.state.loading|=4,n.instance=m,ue(m),m;s=Zp(l),(d=jt.get(d))&&qu(s,d),m=(e.ownerDocument||e).createElement("link"),ue(m);var S=m;return S._p=new Promise(function(E,A){S.onload=E,S.onerror=A}),ht(m,"link",s),n.state.loading|=4,ts(m,l.precedence,e),n.instance=m;case"script":return m=bo(l.src),(d=e.querySelector(Ll(m)))?(n.instance=d,ue(d),d):(s=l,(d=jt.get(m))&&(s=_({},l),zu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),ue(d),ht(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,ts(s,l.precedence,e));return n.instance}function ts(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,S=0;S<s.length;S++){var E=s[S];if(E.dataset.precedence===n)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function qu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function zu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ns=null;function Wp(e,n,l){if(ns===null){var s=new Map,d=ns=new Map;d.set(l,s)}else d=ns,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[Yn]||m[lt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var E=s.get(S);E?E.push(m):s.set(S,[m])}}return s}function jp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function p0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function em(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function m0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Io(s.href),m=n.querySelector(Ul(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=is.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,ue(m);return}m=n.ownerDocument||n,s=Zp(s),(d=jt.get(d))&&qu(s,d),m=m.createElement("link"),ue(m);var S=m;S._p=new Promise(function(E,A){S.onload=E,S.onerror=A}),ht(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=is.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var Bu=0;function h0(e,n){return e.stylesheets&&e.count===0&&ls(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&ls(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&Bu===0&&(Bu=62500*Qv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ls(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Bu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function is(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ls(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var os=null;function ls(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,os=new Map,n.forEach(g0,e),os=null,is.call(e))}function g0(e,n){if(!(n.state.loading&4)){var l=os.get(e);if(l)var s=l.get(null);else{l=new Map,os.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),s=S)}s&&l.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),m=l.get(S)||s,m===s&&l.set(null,d),l.set(S,d),this.count++,s=is.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Gl={$$typeof:F,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function y0(e,n,l,s,d,m,S,E,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.hiddenUpdates=Xo(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function tm(e,n,l,s,d,m,S,E,A,D,V,B){return e=new y0(e,n,l,S,A,D,V,B,E),n=1,m===!0&&(n|=24),m=Pt(3,null,null,n),e.current=m,m.stateNode=e,n=_r(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},Ar(m),e}function nm(e){return e?(e=ao,e):ao}function im(e,n,l,s,d,m){d=nm(d),s.context===null?s.context=d:s.pendingContext=d,s=ei(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=ti(e,s,n),l!==null&&(Dt(l,e,n),pl(l,e,n))}function om(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function Ou(e,n){om(e,n),(e=e.alternate)&&om(e,n)}function lm(e){if(e.tag===13||e.tag===31){var n=Ii(e,67108864);n!==null&&Dt(n,e,67108864),Ou(e,67108864)}}function am(e){if(e.tag===13||e.tag===31){var n=Bt();n=Ko(n);var l=Ii(e,n);l!==null&&Dt(l,e,n),Ou(e,n)}}var as=!0;function v0(e,n,l,s){var d=U.T;U.T=null;var m=X.p;try{X.p=2,ku(e,n,l,s)}finally{X.p=m,U.T=d}}function S0(e,n,l,s){var d=U.T;U.T=null;var m=X.p;try{X.p=8,ku(e,n,l,s)}finally{X.p=m,U.T=d}}function ku(e,n,l,s){if(as){var d=Fu(s);if(d===null)Iu(e,n,s,ss,l),rm(e,s);else if(T0(d,e,n,l,s))s.stopPropagation();else if(rm(e,s),n&4&&-1<_0.indexOf(e)){for(;d!==null;){var m=I(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Nt(m.pendingLanes);if(S!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var A=1<<31-Tt(S);E.entanglements[1]|=A,S&=~A}hn(m),(be&6)===0&&(ka=gt()+500,Il(0))}}break;case 31:case 13:E=Ii(m,2),E!==null&&Dt(E,m,2),Ja(),Ou(m,2)}if(m=Fu(s),m===null&&Iu(e,n,s,ss,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else Iu(e,n,s,null,l)}}function Fu(e){return e=Ys(e),Ju(e)}var ss=null;function Ju(e){if(ss=null,e=Sn(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ss=e,null}function sm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case Jo:return 2;case Xl:return 8;case Ei:case Vs:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var Yu=!1,di=null,pi=null,mi=null,Pl=new Map,Hl=new Map,hi=[],_0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rm(e,n){switch(e){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Vl(e,n,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=I(n),n!==null&&lm(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function T0(e,n,l,s,d){switch(n){case"focusin":return di=Vl(di,e,n,l,s,d),!0;case"dragenter":return pi=Vl(pi,e,n,l,s,d),!0;case"mouseover":return mi=Vl(mi,e,n,l,s,d),!0;case"pointerover":var m=d.pointerId;return Pl.set(m,Vl(Pl.get(m)||null,e,n,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,Hl.set(m,Vl(Hl.get(m)||null,e,n,l,s,d)),!0}return!1}function um(e){var n=Sn(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,jl(e.priority,function(){am(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,jl(e.priority,function(){am(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Fu(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Js=s,l.target.dispatchEvent(s),Js=null}else return n=I(l),n!==null&&lm(n),e.blockedOn=l,!1;n.shift()}return!0}function cm(e,n,l){rs(e)&&l.delete(n)}function E0(){Yu=!1,di!==null&&rs(di)&&(di=null),pi!==null&&rs(pi)&&(pi=null),mi!==null&&rs(mi)&&(mi=null),Pl.forEach(cm),Hl.forEach(cm)}function us(e,n){e.blockedOn===n&&(e.blockedOn=null,Yu||(Yu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,E0)))}var cs=null;function fm(e){cs!==e&&(cs=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cs===e&&(cs=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(Ju(s||l)===null)continue;break}var m=I(l);m!==null&&(e.splice(n,3),n-=3,Fr(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function xo(e){function n(A){return us(A,e)}di!==null&&us(di,e),pi!==null&&us(pi,e),mi!==null&&us(mi,e),Pl.forEach(n),Hl.forEach(n);for(var l=0;l<hi.length;l++){var s=hi[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<hi.length&&(l=hi[0],l.blockedOn===null);)um(l),l.blockedOn===null&&hi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],S=d[ft]||null;if(typeof m=="function")S||fm(l);else if(S){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[ft]||null)E=S.formAction;else if(Ju(d)!==null)continue}else E=S.action;typeof E=="function"?l[s+1]=E:(l.splice(s,3),s-=3),fm(l)}}}function dm(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Xu(e){this._internalRoot=e}fs.prototype.render=Xu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Bt();im(l,s,e,n,null,null)},fs.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;im(e.current,2,null,e,null,null),Ja(),n[kt]=null}};function fs(e){this._internalRoot=e}fs.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wl();e={blockedOn:null,target:e,priority:n};for(var l=0;l<hi.length&&n!==0&&n<hi[l].priority;l++);hi.splice(l,0,e),l===0&&um(e)}};var pm=t.version;if(pm!=="19.2.3")throw Error(a(527,pm,"19.2.3"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var C0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{gn=ds.inject(C0),ct=ds}catch{}}return zl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=_d,m=Td,S=Ed;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=tm(e,1,!1,null,null,l,s,null,d,m,S,dm),e[kt]=n.current,wu(e),new Xu(n)},zl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=_d,S=Td,E=Ed,A=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=tm(e,1,!0,n,l??null,s,d,A,m,S,E,dm),n.context=nm(null),l=n.current,s=Bt(),s=Ko(s),d=ei(s),d.callback=null,ti(l,d,s),l=s,n.current.lanes=l,Fn(n,l),hn(n),e[kt]=n.current,wu(e),new fs(n)},zl.version="19.2.3",zl}var Cm;function L0(){if(Cm)return Zu.exports;Cm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Zu.exports=U0(),Zu.exports}var G0=L0();const P0=hg(G0),H0="modulepreload",V0=function(i,t){return new URL(i,t).href},Am={},Si=function(t,o,a){let r=Promise.resolve();if(o&&o.length>0){let p=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};const g=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),h=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));r=p(o.map(v=>{if(v=V0(v,a),v in Am)return;Am[v]=!0;const _=v.endsWith(".css"),T=_?'[rel="stylesheet"]':"";if(!!a)for(let G=g.length-1;G>=0;G--){const b=g[G];if(b.href===v&&(!_||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${T}`))return;const M=document.createElement("link");if(M.rel=_?"stylesheet":H0,_||(M.as="script"),M.crossOrigin="",M.href=v,h&&M.setAttribute("nonce",h),document.head.appendChild(M),_)return new Promise((G,b)=>{M.addEventListener("load",G),M.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${v}`)))})}))}function f(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return r.then(p=>{for(const g of p||[])g.status==="rejected"&&f(g.reason);return t().catch(f)})};var q0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let z0,B0;function O0(){return{geminiUrl:z0,vertexUrl:B0}}function k0(i,t,o,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=O0();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qn{}function Z(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),o[h])}else for(const h of y)c(h,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function F0(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}nc(i,r,f,0,p)}}function nc(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])nc(y,t,o,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const _=[];for(const T of o.slice(a))T==="*"?_.push(h):_.push(T);c(p,_,v)}for(const h of g)delete p[h]}}else{const p=i;f in p&&nc(p[f],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J0(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function Y0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],K0(p)),t}function X0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Q0(p)),t}function K0(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>Z0(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Q0(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>$0(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Z0(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],iS(o)),t}function $0(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],oS(o)),t}function W0(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function j0(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function eS(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],tS(p)),t}function tS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function yg(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],nS(p)),t}function nS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function iS(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],vc(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function oS(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],vc(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rm||(Rm={}));var Nm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Nm||(Nm={}));var Mm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Mm||(Mm={}));var vi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(vi||(vi={}));var wm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(wm||(wm={}));var Im;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Im||(Im={}));var bm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(bm||(bm={}));var xm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(xm||(xm={}));var Dm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Dm||(Dm={}));var Um;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Um||(Um={}));var Lm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Lm||(Lm={}));var Gm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Gm||(Gm={}));var Pm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Pm||(Pm={}));var Hm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Hm||(Hm={}));var Vm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Vm||(Vm={}));var qm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qm||(qm={}));var zm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(zm||(zm={}));var Bm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Bm||(Bm={}));var Om;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Om||(Om={}));var Es;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Es||(Es={}));var km;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(km||(km={}));var Fm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Fm||(Fm={}));var Jm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Jm||(Jm={}));var ic;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ic||(ic={}));var Ym;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ym||(Ym={}));var Xm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Xm||(Xm={}));var Km;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Km||(Km={}));var Qm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Qm||(Qm={}));var Zm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Zm||(Zm={}));var $m;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($m||($m={}));var Wm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Wm||(Wm={}));var jm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(jm||(jm={}));var eh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(eh||(eh={}));var th;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(th||(th={}));var nh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(nh||(nh={}));var ih;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ih||(ih={}));var oh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(oh||(oh={}));var lh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lh||(lh={}));var ah;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(ah||(ah={}));var sh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(sh||(sh={}));var rh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(rh||(rh={}));var uh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(uh||(uh={}));var ch;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ch||(ch={}));var fh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(fh||(fh={}));var dh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(dh||(dh={}));var ph;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(ph||(ph={}));var mh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mh||(mh={}));var hh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(hh||(hh={}));var gh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(gh||(gh={}));var yh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yh||(yh={}));var vh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vh||(vh={}));var Sh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Sh||(Sh={}));var _h;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_h||(_h={}));var Th;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Th||(Th={}));var Eh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Eh||(Eh={}));var Lo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Lo||(Lo={}));class oc{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Bl{get text(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const _=[];for(const T of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,M]of Object.entries(T))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(M!==null||M!==void 0)&&_.push(C);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,h+=T.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const _ of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[T,C]of Object.entries(_))T!=="inlineData"&&(C!==null||C!==void 0)&&v.push(T);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Ch{}class Ah{}class lS{}class aS{}class sS{}class rS{}class Rh{}class Nh{}class Mh{}class uS{}class Cs{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Cs;let r;const f=t;return o?r=X0(f):r=Y0(f),Object.assign(a,r),a}}class wh{}class Ih{}class bh{}class xh{}class cS{}class fS{}class dS{}class Sc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Sc,f=eS(t);return Object.assign(a,f),a}}class pS{}class mS{}class hS{}class Dh{}class gS{get text(){var t,o,a;let r="",f=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,a;let r="";const f=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class yS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class _c{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new _c,f=yg(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function vg(i,t){const o=Ie(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Sg(i){return Array.isArray(i)?i.map(t=>As(t)):[As(i)]}function As(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function _g(i){const t=As(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Tg(i){const t=As(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Uh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Eg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Uh(t)):[Uh(i)]}function lc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Lh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Gh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function St(i){if(i==null)throw new Error("ContentUnion is required");return lc(i)?i:{role:"user",parts:Eg(i)}}function Tc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=St(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=St(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>St(o)):[St(t)]}function en(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Lh(i)||Gh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[St(i)]}const t=[],o=[],a=lc(i[0]);for(const r of i){const f=lc(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(Lh(r)||Gh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:Eg(o)}),t}function vS(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(vi).includes(o[0].toUpperCase())?o[0].toUpperCase():vi.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(vi).includes(a.toUpperCase())?a.toUpperCase():vi.TYPE_UNSPECIFIED})}}function Po(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&vS(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(vi).includes(g.toUpperCase())?g.toUpperCase():vi.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=Po(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(Po(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=Po(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Ec(i){return Po(i)}function Cc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Ac(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function qo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Po(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Po(t.response));return i}function zo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function SS(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function zn(i,t){if(typeof t!="string")throw new Error("name must be a string");return SS(i,t,"cachedContents")}function Cg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function _i(i){return vc(i)}function _S(i){return i!=null&&typeof i=="object"&&"name"in i}function TS(i){return i!=null&&typeof i=="object"&&"video"in i}function ES(i){return i!=null&&typeof i=="object"&&"uri"in i}function Ag(i){var t;let o;if(_S(i)&&(o=i.name),!(ES(i)&&(o=i.uri,o===void 0))&&!(TS(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Rg(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Ng(i){for(const t of["models","tunedModels","publisherModels"])if(CS(i,t))return i[t];return[]}function CS(i,t){return i!==null&&typeof i=="object"&&t in i}function AS(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function RS(i,t={}){const o=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=AS(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Mg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function NS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function wg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Bo(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Ig(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MS(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>s_(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function wS(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function IS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function _s(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],Ig(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],MS(wg(h))),t}function ac(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],Ig(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const _=u(i,["inputConfig"]);_!=null&&c(t,["src"],bS(_));const T=u(i,["outputConfig"]);T!=null&&c(t,["dest"],wS(wg(T)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function bS(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function xS(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>a_(i,p))),c(o,["requests","requests"],f)}return o}function DS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function US(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function LS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Bo(i,a)),o}function GS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Bo(i,a)),o}function PS(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],HS(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>C)),c(t,["safetyRatings"],T)}const _=u(i,["urlContextMetadata"]);return _!=null&&c(t,["urlContextMetadata"],_),t}function HS(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function bg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>m_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function VS(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function qS(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],IS(NS(r))),o}function Ph(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],xS(i,Mg(i,r)));const f=u(t,["config"]);return f!=null&&VS(f,o),o}function zS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Ie(i,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],DS(Mg(i,r)));const f=u(t,["config"]);return f!=null&&qS(f,o),o}function BS(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function OS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],QS(i,r));const f=u(t,["config"]);return f!=null&&BS(f,o),o}function kS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Bo(i,a)),o}function FS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Bo(i,a)),o}function JS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function YS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function XS(i,t){const o={},a=u(t,["contents"]);if(a!=null){let f=Tc(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],KS(r,o)),F0(o,{"requests[].*":"requests[].request.*"})),o}function KS(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function QS(i,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],XS(i,r)),o}function ZS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function $S(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function WS(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function jS(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],bg(St(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&c(a,["responseLogprobs"],_);const T=u(t,["logprobs"]);T!=null&&c(a,["logprobs"],T);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const b=u(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const O=u(t,["responseSchema"]);O!=null&&c(a,["responseSchema"],Ec(O));const J=u(t,["responseJsonSchema"]);if(J!=null&&c(a,["responseJsonSchema"],J),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(o!==void 0&&F!=null){let Re=F;Array.isArray(Re)&&(Re=Re.map(Ye=>h_(Ye))),c(o,["safetySettings"],Re)}const $=u(t,["tools"]);if(o!==void 0&&$!=null){let Re=zo($);Array.isArray(Re)&&(Re=Re.map(Ye=>y_(qo(Ye)))),c(o,["tools"],Re)}const oe=u(t,["toolConfig"]);if(o!==void 0&&oe!=null&&c(o,["toolConfig"],g_(oe)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=u(t,["cachedContent"]);o!==void 0&&ie!=null&&c(o,["cachedContent"],zn(i,ie));const Q=u(t,["responseModalities"]);Q!=null&&c(a,["responseModalities"],Q);const ye=u(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const W=u(t,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],Cc(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=u(t,["thinkingConfig"]);me!=null&&c(a,["thinkingConfig"],me);const he=u(t,["imageConfig"]);he!=null&&c(a,["imageConfig"],l_(he));const qe=u(t,["enableEnhancedCivicAnswers"]);return qe!=null&&c(a,["enableEnhancedCivicAnswers"],qe),a}function e_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>PS(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function t_(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Bo(i,a)),o}function n_(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Bo(i,a)),o}function i_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function o_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function l_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function a_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let g=en(r);Array.isArray(g)&&(g=g.map(y=>bg(y))),c(o,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],jS(i,p,u(o,["request"],{}))),o}function s_(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],e_(o));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function r_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function u_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function c_(i){const t={},o=u(i,["config"]);return o!=null&&r_(o,t),t}function f_(i){const t={},o=u(i,["config"]);return o!=null&&u_(o,t),t}function d_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>_s(p))),c(t,["batchJobs"],f)}return t}function p_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>ac(p))),c(t,["batchJobs"],f)}return t}function m_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],ZS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],$S(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],US(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const T=u(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function h_(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function g_(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],WS(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function y_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],i_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],o_(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Vn||(Vn={}));class Fi{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v_ extends qn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Fi(Vn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Ph(this.apiClient,t),a=o._url,r=Z("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const _=Object.assign({},v);if(_.systemInstruction){const T=_.systemInstruction;delete _.systemInstruction;const C=_.request;C.systemInstruction=T,_.request=C}h.push(_)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=zS(this.apiClient,t);return g=Z("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ac(v))}else{const h=Ph(this.apiClient,t);return g=Z("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>_s(v))}}async createEmbeddingsInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OS(this.apiClient,t);return f=Z("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>_s(y))}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=n_(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>ac(v))}else{const h=t_(this.apiClient,t);return g=Z("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>_s(v))}}async cancel(t){var o,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=GS(this.apiClient,t);p=Z("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=LS(this.apiClient,t);p=Z("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=f_(t);return g=Z("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=p_(v),T=new Dh;return Object.assign(T,_),T})}else{const h=c_(t);return g=Z("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=d_(v),T=new Dh;return Object.assign(T,_),T})}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=FS(this.apiClient,t);return g=Z("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>YS(v))}else{const h=kS(this.apiClient,t);return g=Z("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>JS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Hh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>O_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function __(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=en(p);Array.isArray(v)&&(v=v.map(_=>Hh(_))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Hh(St(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>F_(_))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],k_(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function T_(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let _=en(p);Array.isArray(_)&&(_=_.map(T=>T)),c(t,["contents"],_)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],St(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>J_(T))),c(t,["tools"],_)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function E_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],vg(i,a));const r=u(t,["config"]);return r!=null&&__(r,o),o}function C_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],vg(i,a));const r=u(t,["config"]);return r!=null&&T_(r,o),o}function A_(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],zn(i,a)),o}function R_(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],zn(i,a)),o}function N_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function M_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function w_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function I_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function b_(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function x_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function D_(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],zn(i,a)),o}function U_(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],zn(i,a)),o}function L_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function G_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function P_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function H_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function V_(i){const t={},o=u(i,["config"]);return o!=null&&P_(o,t),t}function q_(i){const t={},o=u(i,["config"]);return o!=null&&H_(o,t),t}function z_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function B_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function O_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],w_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],I_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],S_(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const T=u(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function k_(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],b_(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function F_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],L_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],G_(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function J_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(T=>x_(T))),c(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function Y_(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function X_(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function K_(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],zn(i,a));const r=u(t,["config"]);return r!=null&&Y_(r,o),o}function Q_(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],zn(i,a));const r=u(t,["config"]);return r!=null&&X_(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z_ extends qn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Fi(Vn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=C_(this.apiClient,t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=E_(this.apiClient,t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=U_(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=D_(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=R_(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=M_(v),T=new bh;return Object.assign(T,_),T})}else{const h=A_(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=N_(v),T=new bh;return Object.assign(T,_),T})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Q_(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=K_(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=q_(t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=B_(v),T=new xh;return Object.assign(T,_),T})}else{const h=V_(t);return g=Z("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=z_(v),T=new xh;return Object.assign(T,_),T})}}}function Rs(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Vh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(i){return this instanceof de?(this.v=i,this):new de(i)}function sn(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(M){return Promise.resolve(M).then(C,_)}}function g(C,M){a[C]&&(r[C]=function(G){return new Promise(function(b,O){f.push([C,G,b,O])>1||y(C,G)})},M&&(r[C]=M(r[C])))}function y(C,M){try{h(a[C](M))}catch(G){T(f[0][3],G)}}function h(C){C.value instanceof de?Promise.resolve(C.value.v).then(v,_):T(f[0][2],C)}function v(C){y("next",C)}function _(C){y("throw",C)}function T(C,M){C(M),f.shift(),f.length&&y(f[0][0],f[0][1])}}function rn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Vh=="function"?Vh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $_(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:xg(o)}function xg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function W_(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function qh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),f&&!xg(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class j_{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new eT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class eT{constructor(t,o,a,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),W_(f)}async sendMessage(t){var o;await this.sendPromise;const a=St(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let T=[];v!=null&&(T=(g=v.slice(_))!==null&&g!==void 0?g:[]);const C=h?[h]:[];this.recordHistory(a,C,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=St(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const o=t?qh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return sn(this,arguments,function*(){var r,f,p,g,y,h;const v=[];try{for(var _=!0,T=rn(t),C;C=yield de(T.next()),r=C.done,!r;_=!0){g=C.value,_=!1;const M=g;if($_(M)){const G=(h=(y=M.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;G!==void 0&&v.push(G)}yield yield de(M)}}catch(M){f={error:M}}finally{try{!_&&!r&&(p=T.return)&&(yield de(p.call(T)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...qh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ws extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ws.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tT(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function nT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function iT(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Ag(o)),t}function oT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function lT(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Ag(o)),t}function aT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function sT(i){const t={},o=u(i,["config"]);return o!=null&&aT(o,t),t}function rT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uT extends qn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Fi(Vn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sT(t);return f=Z("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=rT(y),v=new pS;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=tT(t);return f=Z("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=nT(y),v=new mS;return Object.assign(v,h),v})}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=lT(t);return f=Z("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=iT(t);return f=Z("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=oT(y),v=new hS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ts(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function cT(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>NT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function fT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function dT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function pT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function mT(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&c(t,["presencePenalty"],_);const T=u(i,["responseLogprobs"]);T!=null&&c(t,["responseLogprobs"],T);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const M=u(i,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const b=u(i,["routingConfig"]);b!=null&&c(t,["routingConfig"],b);const O=u(i,["seed"]);O!=null&&c(t,["seed"],O);const J=u(i,["speechConfig"]);J!=null&&c(t,["speechConfig"],J);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const $=u(i,["temperature"]);$!=null&&c(t,["temperature"],$);const oe=u(i,["thinkingConfig"]);oe!=null&&c(t,["thinkingConfig"],oe);const ie=u(i,["topK"]);ie!=null&&c(t,["topK"],ie);const Q=u(i,["topP"]);if(Q!=null&&c(t,["topP"],Q),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function hT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function gT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function yT(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","speechConfig"],Ac(_));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","thinkingConfig"],T);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],cT(St(M)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let ie=zo(G);Array.isArray(ie)&&(ie=ie.map(Q=>wT(qo(Q)))),c(t,["setup","tools"],ie)}const b=u(i,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],MT(b));const O=u(i,["inputAudioTranscription"]);t!==void 0&&O!=null&&c(t,["setup","inputAudioTranscription"],O);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const $=u(i,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const oe=u(i,["proactivity"]);if(t!==void 0&&oe!=null&&c(t,["setup","proactivity"],oe),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function vT(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],mT(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","speechConfig"],Ac(_));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","thinkingConfig"],T);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],St(M));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let Q=zo(G);Array.isArray(Q)&&(Q=Q.map(ye=>IT(qo(ye)))),c(t,["setup","tools"],Q)}const b=u(i,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],b);const O=u(i,["inputAudioTranscription"]);t!==void 0&&O!=null&&c(t,["setup","inputAudioTranscription"],O);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const $=u(i,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const oe=u(i,["proactivity"]);t!==void 0&&oe!=null&&c(t,["setup","proactivity"],oe);const ie=u(i,["explicitVadSignal"]);return t!==void 0&&ie!=null&&c(t,["setup","explicitVadSignal"],ie),o}function ST(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],yT(r,o)),o}function _T(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],vT(r,o)),o}function TT(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function ET(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function CT(i){const t={},o=u(i,["media"]);if(o!=null){let h=Sg(o);Array.isArray(h)&&(h=h.map(v=>Ts(v))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Ts(Tg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Ts(_g(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function AT(i){const t={},o=u(i,["media"]);if(o!=null){let h=Sg(o);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Tg(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],_g(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function RT(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],bT(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function NT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],fT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],dT(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Ts(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const T=u(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function MT(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function wT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],hT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],gT(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function IT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(T=>pT(T))),c(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function bT(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(M=>M)),c(t,["promptTokensDetails"],C)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(M=>M)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(M=>M)),c(t,["responseTokensDetails"],C)}const _=u(i,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(M=>M)),c(t,["toolUsePromptTokensDetails"],C)}const T=u(i,["trafficType"]);return T!=null&&c(t,["trafficType"],T),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function DT(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],UT(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>C)),c(t,["safetyRatings"],T)}const _=u(i,["urlContextMetadata"]);return _!=null&&c(t,["urlContextMetadata"],_),t}function UT(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function LT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let f=en(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function GT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function PT(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],HT(a)),t}function HT(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Is(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>YE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function VT(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function qT(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function zT(i,t){const o={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],St(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>Gg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],xE(f)),o}function BT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=en(r);Array.isArray(p)&&(p=p.map(g=>Is(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&qT(f),o}function OT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=en(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&zT(f,o),o}function kT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function FT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function JT(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ie(i,a)),o}function YT(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ie(i,a)),o}function XT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function KT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function QT(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&c(t,["parameters","includeSafetyAttributes"],_);const T=u(i,["includeRaiReason"]);t!==void 0&&T!=null&&c(t,["parameters","includeRaiReason"],T);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const M=u(i,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const G=u(i,["outputCompressionQuality"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","compressionQuality"],G);const b=u(i,["addWatermark"]);t!==void 0&&b!=null&&c(t,["parameters","addWatermark"],b);const O=u(i,["labels"]);t!==void 0&&O!=null&&c(t,["labels"],O);const J=u(i,["editMode"]);t!==void 0&&J!=null&&c(t,["parameters","editMode"],J);const F=u(i,["baseSteps"]);return t!==void 0&&F!=null&&c(t,["parameters","editConfig","baseSteps"],F),o}function ZT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>WE(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&QT(p,o),o}function $T(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>bs(f))),c(t,["generatedImages"],r)}return t}function WT(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function jT(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function eE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let g=Tc(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&WT(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Ie(i,p)),o}function tE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=Tc(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&jT(f,o),o}function nE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function iE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>PT(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function oE(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function lE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function aE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function sE(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function rE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function uE(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Is(St(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&c(a,["responseLogprobs"],_);const T=u(t,["logprobs"]);T!=null&&c(a,["logprobs"],T);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const b=u(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const O=u(t,["responseSchema"]);O!=null&&c(a,["responseSchema"],Ec(O));const J=u(t,["responseJsonSchema"]);if(J!=null&&c(a,["responseJsonSchema"],J),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=u(t,["safetySettings"]);if(o!==void 0&&F!=null){let Re=F;Array.isArray(Re)&&(Re=Re.map(Ye=>jE(Ye))),c(o,["safetySettings"],Re)}const $=u(t,["tools"]);if(o!==void 0&&$!=null){let Re=zo($);Array.isArray(Re)&&(Re=Re.map(Ye=>aC(qo(Ye)))),c(o,["tools"],Re)}const oe=u(t,["toolConfig"]);if(o!==void 0&&oe!=null&&c(o,["toolConfig"],lC(oe)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=u(t,["cachedContent"]);o!==void 0&&ie!=null&&c(o,["cachedContent"],zn(i,ie));const Q=u(t,["responseModalities"]);Q!=null&&c(a,["responseModalities"],Q);const ye=u(t,["mediaResolution"]);ye!=null&&c(a,["mediaResolution"],ye);const W=u(t,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],Cc(W)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=u(t,["thinkingConfig"]);me!=null&&c(a,["thinkingConfig"],me);const he=u(t,["imageConfig"]);he!=null&&c(a,["imageConfig"],PE(he));const qe=u(t,["enableEnhancedCivicAnswers"]);return qe!=null&&c(a,["enableEnhancedCivicAnswers"],qe),a}function cE(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],St(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&c(a,["responseLogprobs"],_);const T=u(t,["logprobs"]);T!=null&&c(a,["logprobs"],T);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const M=u(t,["frequencyPenalty"]);M!=null&&c(a,["frequencyPenalty"],M);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const b=u(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const O=u(t,["responseSchema"]);O!=null&&c(a,["responseSchema"],Ec(O));const J=u(t,["responseJsonSchema"]);J!=null&&c(a,["responseJsonSchema"],J);const F=u(t,["routingConfig"]);F!=null&&c(a,["routingConfig"],F);const $=u(t,["modelSelectionConfig"]);$!=null&&c(a,["modelConfig"],$);const oe=u(t,["safetySettings"]);if(o!==void 0&&oe!=null){let U=oe;Array.isArray(U)&&(U=U.map(X=>X)),c(o,["safetySettings"],U)}const ie=u(t,["tools"]);if(o!==void 0&&ie!=null){let U=zo(ie);Array.isArray(U)&&(U=U.map(X=>Gg(qo(X)))),c(o,["tools"],U)}const Q=u(t,["toolConfig"]);o!==void 0&&Q!=null&&c(o,["toolConfig"],Q);const ye=u(t,["labels"]);o!==void 0&&ye!=null&&c(o,["labels"],ye);const W=u(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],zn(i,W));const me=u(t,["responseModalities"]);me!=null&&c(a,["responseModalities"],me);const he=u(t,["mediaResolution"]);he!=null&&c(a,["mediaResolution"],he);const qe=u(t,["speechConfig"]);qe!=null&&c(a,["speechConfig"],Cc(qe));const Re=u(t,["audioTimestamp"]);Re!=null&&c(a,["audioTimestamp"],Re);const Ye=u(t,["thinkingConfig"]);Ye!=null&&c(a,["thinkingConfig"],Ye);const nt=u(t,["imageConfig"]);if(nt!=null&&c(a,["imageConfig"],HE(nt)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function zh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=en(r);Array.isArray(p)&&(p=p.map(g=>Is(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],uE(i,f,o)),o}function Bh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=en(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],cE(i,f,o)),o}function Oh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>DT(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function kh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function fE(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&c(t,["parameters","outputOptions","mimeType"],_);const T=u(i,["outputCompressionQuality"]);if(t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function dE(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&c(t,["parameters","includeSafetyAttributes"],_);const T=u(i,["includeRaiReason"]);t!==void 0&&T!=null&&c(t,["parameters","includeRaiReason"],T);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const M=u(i,["outputMimeType"]);t!==void 0&&M!=null&&c(t,["parameters","outputOptions","mimeType"],M);const G=u(i,["outputCompressionQuality"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","compressionQuality"],G);const b=u(i,["addWatermark"]);t!==void 0&&b!=null&&c(t,["parameters","addWatermark"],b);const O=u(i,["labels"]);t!==void 0&&O!=null&&c(t,["labels"],O);const J=u(i,["imageSize"]);t!==void 0&&J!=null&&c(t,["parameters","sampleImageSize"],J);const F=u(i,["enhancePrompt"]);return t!==void 0&&F!=null&&c(t,["parameters","enhancePrompt"],F),o}function pE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&fE(f,o),o}function mE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&dE(f,o),o}function hE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>ME(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Ug(r)),t}function gE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>bs(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Lg(r)),t}function yE(i,t){const o={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],xs(v));const _=u(i,["referenceImages"]);if(t!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(C=>SC(C))),c(t,["instances[0]","referenceImages"],T)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function vE(i,t){const o={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const _=u(i,["pubsubTopic"]);t!==void 0&&_!=null&&c(t,["parameters","pubsubTopic"],_);const T=u(i,["negativePrompt"]);t!==void 0&&T!=null&&c(t,["parameters","negativePrompt"],T);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const M=u(i,["generateAudio"]);t!==void 0&&M!=null&&c(t,["parameters","generateAudio"],M);const G=u(i,["lastFrame"]);t!==void 0&&G!=null&&c(t,["instances[0]","lastFrame"],un(G));const b=u(i,["referenceImages"]);if(t!==void 0&&b!=null){let F=b;Array.isArray(F)&&(F=F.map($=>_C($))),c(t,["instances[0]","referenceImages"],F)}const O=u(i,["mask"]);t!==void 0&&O!=null&&c(t,["instances[0]","mask"],vC(O));const J=u(i,["compressionQuality"]);return t!==void 0&&J!=null&&c(t,["parameters","compressionQuality"],J),o}function SE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],CE(p)),t}function _E(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],AE(p)),t}function TE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],xs(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Pg(p));const g=u(t,["source"]);g!=null&&RE(g,o);const y=u(t,["config"]);return y!=null&&yE(y,o),o}function EE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],un(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],Hg(p));const g=u(t,["source"]);g!=null&&NE(g,o);const y=u(t,["config"]);return y!=null&&vE(y,o),o}function CE(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>IE(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function AE(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>bE(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function RE(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],xs(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Pg(f)),o}function NE(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],un(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],Hg(f)),o}function ME(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],VE(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],Ug(r)),t}function bs(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],Dg(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],Lg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function wE(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],Dg(o));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function IE(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],gC(o)),t}function bE(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],yC(o)),t}function xE(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&c(t,["presencePenalty"],_);const T=u(i,["responseLogprobs"]);T!=null&&c(t,["responseLogprobs"],T);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const M=u(i,["responseModalities"]);M!=null&&c(t,["responseModalities"],M);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const b=u(i,["routingConfig"]);b!=null&&c(t,["routingConfig"],b);const O=u(i,["seed"]);O!=null&&c(t,["seed"],O);const J=u(i,["speechConfig"]);J!=null&&c(t,["speechConfig"],J);const F=u(i,["stopSequences"]);F!=null&&c(t,["stopSequences"],F);const $=u(i,["temperature"]);$!=null&&c(t,["temperature"],$);const oe=u(i,["thinkingConfig"]);oe!=null&&c(t,["thinkingConfig"],oe);const ie=u(i,["topK"]);ie!=null&&c(t,["topK"],ie);const Q=u(i,["topP"]);if(Q!=null&&c(t,["topP"],Q),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function DE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ie(i,a)),o}function UE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ie(i,a)),o}function LE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function GE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function PE(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function HE(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function VE(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],_i(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Dg(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],_i(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function xs(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],_i(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function un(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],_i(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function qE(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Rg(i,g)),a}function zE(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Rg(i,g)),a}function BE(i,t){const o={},a=u(t,["config"]);return a!=null&&qE(i,a,o),o}function OE(i,t){const o={},a=u(t,["config"]);return a!=null&&zE(i,a,o),o}function kE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=Ng(r);Array.isArray(f)&&(f=f.map(p=>sc(p))),c(t,["models"],f)}return t}function FE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=Ng(r);Array.isArray(f)&&(f=f.map(p=>rc(p))),c(t,["models"],f)}return t}function JE(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function sc(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],sC(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const _=u(i,["maxTemperature"]);_!=null&&c(t,["maxTemperature"],_);const T=u(i,["topP"]);T!=null&&c(t,["topP"],T);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const M=u(i,["thinking"]);return M!=null&&c(t,["thinking"],M),t}function rc(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(T=>oE(T))),c(t,["endpoints"],_)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],rC(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(T=>T)),c(t,["checkpoints"],_)}return t}function YE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],lE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],aE(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],xT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const T=u(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function XE(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],un(o)),t}function KE(i,t){const o={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const _=u(i,["outputCompressionQuality"]);t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_);const T=u(i,["enhancePrompt"]);t!==void 0&&T!=null&&c(t,["parameters","enhancePrompt"],T);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function QE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["source"]);r!=null&&$E(r,o);const f=u(t,["config"]);return f!=null&&KE(f,o),o}function ZE(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>bs(r))),c(t,["generatedImages"],a)}return t}function $E(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],un(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>XE(g))),c(t,["instances[0]","productImages"],p)}return o}function WE(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],un(o));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],JE(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],VT(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function Ug(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Lg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function jE(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function eC(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],un(o)),t}function tC(i,t){const o={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function nC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["source"]);r!=null&&oC(r,o);const f=u(t,["config"]);return f!=null&&tC(f,o),o}function iC(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>wE(r))),c(t,["generatedMasks"],a)}return t}function oC(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],un(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],eC(f)),o}function lC(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],sE(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function aC(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],LE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],GE(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function Gg(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(T=>rE(T))),c(t,["functionDeclarations"],_)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function sC(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function rC(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function uC(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function cC(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function fC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],Ie(i,a));const r=u(t,["config"]);return r!=null&&uC(r,o),o}function dC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&cC(r,o),o}function pC(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=u(i,["labels"]);t!==void 0&&_!=null&&c(t,["labels"],_);const T=u(i,["numberOfImages"]);t!==void 0&&T!=null&&c(t,["parameters","sampleCount"],T);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function mC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],un(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&pC(p,o),o}function hC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>bs(f))),c(t,["generatedImages"],r)}return t}function gC(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],_i(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function yC(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],_i(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function vC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],un(o));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function SC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],xs(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function _C(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],un(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function Pg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],_i(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function Hg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],_i(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TC(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function EC(i){const t={},o=u(i,["config"]);return o!=null&&TC(o,t),t}function CC(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function AC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&CC(a,t),t}function RC(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function NC(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function MC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],IC(p)),t}function wC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&NC(r,t),t}function IC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function bC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function xC(i){const t={},o=u(i,["config"]);return o!=null&&bC(o,t),t}function DC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function Vg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function UC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&Vg(a,t),t}function LC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GC="Content-Type",PC="X-Server-Timeout",HC="User-Agent",uc="x-goog-api-client",VC="1.34.0",qC=`google-genai-sdk/${VC}`,zC="v1beta1",BC="v1beta";class OC{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:zC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:BC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&kC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Fh(r),new oc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Fh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return sn(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield de(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=f.decode(v,{stream:!0});try{const M=JSON.parse(_);if("error"in M){const G=JSON.parse(JSON.stringify(M.error)),b=G.status,O=G.code,J=`got status: ${b}. ${JSON.stringify(M)}`;if(O>=400&&O<600)throw new ws({message:J,status:O})}}catch(M){if(M.name==="ApiError")throw M}p+=_;let T=-1,C=0;for(;;){T=-1,C=0;for(const b of y){const O=p.indexOf(b);O!==-1&&(T===-1||O<T)&&(T=O,C=b.length)}if(T===-1)break;const M=p.substring(0,T);p=p.substring(T+C);const G=M.trim();if(G.startsWith(g)){const b=G.substring(g.length).trim();try{const O=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield de(new oc(O))}catch(O){throw new Error(`exception parsing stream chunk ${b}. ${O}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=qC+" "+this.clientOptions.userAgentExtra;return t[HC]=o,t[uc]=o,t[GC]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(PC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=Z("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return f.upload(t,_,this)}async uploadFileToFileSearchStore(t,o,a){var r;const f=this.clientOptions.uploader,p=await f.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),_={};a!=null&&Vg(a,_);const T=await this.fetchUploadUrl(h,g,y,v,_,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(o,T,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Fh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new ws({message:r,status:o}):new Error(r)}}function kC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FC="mcp_used/unknown";let JC=!1;function qg(i){for(const t of i)if(YC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return JC}function zg(i){var t;const o=(t=i[uc])!==null&&t!==void 0?t:"";i[uc]=(o+` ${FC}`).trimStart()}function YC(i){return i!==null&&typeof i=="object"&&i instanceof Rc}function XC(i){return sn(this,arguments,function*(o,a=100){let r,f=0;for(;f<a;){const p=yield de(o.listTools({cursor:r}));for(const g of p.tools)yield yield de(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Rc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Rc(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,rn(XC(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const _=r;p.push(_);const T=_.name;if(f[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);f[T]=v}}catch(_){o={error:_}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),RS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function KC(i,t,o){const a=new yS;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class QC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=WC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(F=>{h=F}),_=t.callbacks,T=function(){h({})},C=this.apiClient,M={onopen:T,onmessage:F=>{KC(C,_.onmessage,F)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(F){},onclose:(a=_==null?void 0:_.onclose)!==null&&a!==void 0?a:function(F){}},G=this.webSocketFactory.create(y,$C(p),M);G.connect(),await v;const J={setup:{model:Ie(this.apiClient,t.model)}};return G.send(JSON.stringify(J)),new ZC(G,this.apiClient)}}class ZC{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=ET(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=TT(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Lo.PLAY)}pause(){this.sendPlaybackControl(Lo.PAUSE)}stop(){this.sendPlaybackControl(Lo.STOP)}resetContext(){this.sendPlaybackControl(Lo.RESET_CONTEXT)}close(){this.conn.close()}}function $C(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function WC(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function eA(i,t,o){const a=new gS;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=RT(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class tA{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new QC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();t.config&&t.config.tools&&qg(t.config.tools)&&zg(_);const T=lA(_);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v);else{const W=this.apiClient.getApiKey();let me="BidiGenerateContent",he="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),me="BidiGenerateContentConstrained",he="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${me}?${he}=${W}`}let C=()=>{};const M=new Promise(W=>{C=W}),G=t.callbacks,b=function(){var W;(W=G==null?void 0:G.onopen)===null||W===void 0||W.call(G),C({})},O=this.apiClient,J={onopen:b,onmessage:W=>{eA(O,G.onmessage,W)},onerror:(o=G==null?void 0:G.onerror)!==null&&o!==void 0?o:function(W){},onclose:(a=G==null?void 0:G.onclose)!==null&&a!==void 0?a:function(W){}},F=this.webSocketFactory.create(v,oA(T),J);F.connect(),await M;let $=Ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const W=this.apiClient.getProject(),me=this.apiClient.getLocation();$=`projects/${W}/locations/${me}/`+$}let oe={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Es.AUDIO]}:t.config.responseModalities=[Es.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ie=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],Q=[];for(const W of ie)if(this.isCallableTool(W)){const me=W;Q.push(await me.tool())}else Q.push(W);Q.length>0&&(t.config.tools=Q);const ye={model:$,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?oe=_T(this.apiClient,ye):oe=ST(this.apiClient,ye),delete oe.config,F.send(JSON.stringify(oe)),new iA(F,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const nA={turnComplete:!0};class iA{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=en(o.turns),t.isVertexAI()||(a=a.map(r=>Is(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(jC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},nA),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:AT(t)}:o={realtimeInput:CT(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function oA(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function lA(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jh=10;function Yh(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Ho(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Ho(i){return"callTool"in i&&typeof i.callTool=="function"}function aA(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>Ho(r)))!==null&&a!==void 0?a:!1}function Xh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(Ho(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function Kh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sA extends qn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!aA(o)||Yh(o.config))return await this.generateContentInternal(y);const h=Xh(o);if(h.length>0){const G=h.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${G}.`)}let v,_;const T=en(y.contents),C=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Jh;let M=0;for(;M<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const G=v.candidates[0].content,b=[];for(const O of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(Ho(O)){const F=await O.callTool(v.functionCalls);b.push(...F)}M++,_={role:"user",parts:b},y.contents=en(y.contents),y.contents.push(G),y.contents.push(_),Kh(y.config)&&(T.push(G),T.push(_))}return Kh(y.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async o=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(o),Yh(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const y=Xh(o);if(y.length>0){const _=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Fi(Vn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,f,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>Ho(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&qg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),zg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,r;const f=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(Ho(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var o,a,r;const f=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Jh;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,_){return sn(this,arguments,function*(){for(var T,C,M,G,b,O;g<f;){p&&(g++,p=!1);const oe=yield de(h.processParamsMaybeAddMcpUsage(_)),ie=yield de(h.generateContentStreamInternal(oe)),Q=[],ye=[];try{for(var J=!0,F=(C=void 0,rn(ie)),$;$=yield de(F.next()),T=$.done,!T;J=!0){G=$.value,J=!1;const W=G;if(yield yield de(W),W.candidates&&(!((b=W.candidates[0])===null||b===void 0)&&b.content)){ye.push(W.candidates[0].content);for(const me of(O=W.candidates[0].content.parts)!==null&&O!==void 0?O:[])if(g<f&&me.functionCall){if(!me.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(me.functionCall.name)){const he=yield de(v.get(me.functionCall.name).callTool([me.functionCall]));Q.push(...he)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${me.functionCall.name}`)}}}}catch(W){C={error:W}}finally{try{!J&&!T&&(M=F.return)&&(yield de(M.call(F)))}finally{if(C)throw C.error}}if(Q.length>0){p=!0;const W=new Bl;W.candidates=[{content:{role:"user",parts:Q}}],yield yield de(W);const me=[];me.push(...ye),me.push({role:"user",parts:Q});const he=en(_.contents).concat(me);_.contents=he}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Bh(this.apiClient,t);return g=Z("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=kh(v),T=new Bl;return Object.assign(T,_),T})}else{const h=zh(this.apiClient,t);return g=Z("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=Oh(v),T=new Bl;return Object.assign(T,_),T})}}async generateContentStreamInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Bh(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(_){return sn(this,arguments,function*(){var T,C,M,G;try{for(var b=!0,O=rn(_),J;J=yield de(O.next()),T=J.done,!T;b=!0){G=J.value,b=!1;const F=G,$=kh(yield de(F.json()));$.sdkHttpResponse={headers:F.headers};const oe=new Bl;Object.assign(oe,$),yield yield de(oe)}}catch(F){C={error:F}}finally{try{!b&&!T&&(M=O.return)&&(yield de(M.call(O)))}finally{if(C)throw C.error}}})})}else{const h=zh(this.apiClient,t);return g=Z("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(_){return sn(this,arguments,function*(){var T,C,M,G;try{for(var b=!0,O=rn(_),J;J=yield de(O.next()),T=J.done,!T;b=!0){G=J.value,b=!1;const F=G,$=Oh(yield de(F.json()));$.sdkHttpResponse={headers:F.headers};const oe=new Bl;Object.assign(oe,$),yield yield de(oe)}}catch(F){C={error:F}}finally{try{!b&&!T&&(M=O.return)&&(yield de(M.call(O)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tE(this.apiClient,t);return g=Z("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=iE(v),T=new Ch;return Object.assign(T,_),T})}else{const h=eE(this.apiClient,t);return g=Z("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=nE(v),T=new Ch;return Object.assign(T,_),T})}}async generateImagesInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=mE(this.apiClient,t);return g=Z("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=gE(v),T=new Ah;return Object.assign(T,_),T})}else{const h=pE(this.apiClient,t);return g=Z("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=hE(v),T=new Ah;return Object.assign(T,_),T})}}async editImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=ZT(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=$T(y),v=new lS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=mC(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=hC(y),v=new aS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=QE(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=ZE(y),v=new sS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=nC(this.apiClient,t);return f=Z("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=iC(y),v=new rS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=UE(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>rc(v))}else{const h=DE(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>sc(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=OE(this.apiClient,t);return g=Z("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=FE(v),T=new Rh;return Object.assign(T,_),T})}else{const h=BE(this.apiClient,t);return g=Z("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=kE(v),T=new Rh;return Object.assign(T,_),T})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dC(this.apiClient,t);return g=Z("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>rc(v))}else{const h=fC(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>sc(v))}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=YT(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=KT(v),T=new Nh;return Object.assign(T,_),T})}else{const h=JT(this.apiClient,t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=XT(v),T=new Nh;return Object.assign(T,_),T})}}async countTokens(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=OT(this.apiClient,t);return g=Z("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=FT(v),T=new Mh;return Object.assign(T,_),T})}else{const h=BT(this.apiClient,t);return g=Z("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=kT(v),T=new Mh;return Object.assign(T,_),T})}}async computeTokens(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=LT(this.apiClient,t);return f=Z("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=GT(y),v=new uS;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=EE(this.apiClient,t);return g=Z("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const _=_E(v),T=new Cs;return Object.assign(T,_),T})}else{const h=TE(this.apiClient,t);return g=Z("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const _=SE(v),T=new Cs;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rA extends qn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=j0(t);return g=Z("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=W0(t);return g=Z("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=J0(t);return f=Z("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uA(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function cA(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>SA(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function fA(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],vA(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function dA(i,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],fA(i,a,o)),o}function pA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function mA(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function gA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function yA(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","speechConfig"],Ac(_));const T=u(i,["thinkingConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","thinkingConfig"],T);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&c(t,["setup","systemInstruction"],cA(St(M)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let ie=zo(G);Array.isArray(ie)&&(ie=ie.map(Q=>TA(qo(Q)))),c(t,["setup","tools"],ie)}const b=u(i,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],_A(b));const O=u(i,["inputAudioTranscription"]);t!==void 0&&O!=null&&c(t,["setup","inputAudioTranscription"],O);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","outputAudioTranscription"],J);const F=u(i,["realtimeInputConfig"]);t!==void 0&&F!=null&&c(t,["setup","realtimeInputConfig"],F);const $=u(i,["contextWindowCompression"]);t!==void 0&&$!=null&&c(t,["setup","contextWindowCompression"],$);const oe=u(i,["proactivity"]);if(t!==void 0&&oe!=null&&c(t,["setup","proactivity"],oe),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function vA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],yA(r,o)),o}function SA(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],pA(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],mA(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],uA(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&c(t,["thoughtSignature"],_);const T=u(i,["videoMetadata"]);return T!=null&&c(t,["videoMetadata"],T),t}function _A(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function TA(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],hA(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],gA(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function CA(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=EA(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class AA extends qn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=dA(this.apiClient,t);f=Z("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=CA(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function NA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&RA(a,t),t}function MA(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function wA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function IA(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&wA(a,t),t}function bA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xA extends qn{constructor(t){super(),this.apiClient=t,this.list=async o=>new Fi(Vn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=MA(t);return f=Z("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=NA(t);r=Z("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=IA(t);return f=Z("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=bA(y),v=new cS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DA extends qn{constructor(t,o=new xA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new Fi(Vn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=EC(t);return f=Z("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RC(t);return f=Z("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=AC(t);r=Z("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xC(t);return f=Z("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=DC(y),v=new fS;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=UC(t);return f=Z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=LC(y),v=new dS;return Object.assign(v,h),v})}}async importFile(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=wC(t);return f=Z("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=MC(y),v=new Sc;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Bg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Bg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const UA=()=>Bg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const fc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tn extends Error{}class At extends tn{constructor(t,o,a,r){super(`${At.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new Ds({message:a,cause:fc(o)});const f=o;return t===400?new kg(t,f,a,r):t===401?new Fg(t,f,a,r):t===403?new Jg(t,f,a,r):t===404?new Yg(t,f,a,r):t===409?new Xg(t,f,a,r):t===422?new Kg(t,f,a,r):t===429?new Qg(t,f,a,r):t>=500?new Zg(t,f,a,r):new At(t,f,a,r)}}class dc extends At{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ds extends At{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Og extends Ds{constructor({message:t}={}){super({message:t??"Request timed out."})}}class kg extends At{}class Fg extends At{}class Jg extends At{}class Yg extends At{}class Xg extends At{}class Kg extends At{}class Qg extends At{}class Zg extends At{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LA=/^[a-z][a-z0-9+.-]*:/i,GA=i=>LA.test(i);let pc=i=>(pc=Array.isArray,pc(i));const PA=pc;let HA=PA;const Qh=HA;function VA(i){if(!i)return!0;for(const t in i)return!1;return!0}function qA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const zA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new tn(`${i} must be an integer`);if(t<0)throw new tn(`${i} must be a positive integer`);return t},BA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const FA=()=>{var i,t,o,a,r;const f=kA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Uo,"X-Stainless-OS":$h(Deno.build.os),"X-Stainless-Arch":Zh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Uo,"X-Stainless-OS":$h((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Zh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=JA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Uo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function JA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Zh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",$h=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let ps;const YA=()=>ps??(ps=FA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function $g(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function KA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return $g({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Wg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function QA(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ec(i,t,o){return jg(),new File(i,t??"unknown_file",o)}function $A(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const WA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ey=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",jA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&ey(i),eR=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function tR(i,t,o){if(jg(),i=await i,jA(i))return i instanceof File?i:ec([await i.arrayBuffer()],i.name);if(eR(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),ec(await mc(r),t,o)}const a=await mc(i);if(t||(t=$A(i)),!(o!=null&&o.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return ec(a,t,o)}async function mc(i){var t,o,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(ey(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(WA(i))try{for(var g=!0,y=rn(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await mc(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${nR(i)}`)}return p}function nR(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ty{constructor(t){this._client=t}}ty._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ny(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Wh=Object.freeze(Object.create(null)),iR=(i=ny)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((v,_,T)=>{var C,M,G;/[?#]/.test(_)&&(r=!0);const b=a[T];let O=(r?encodeURIComponent:i)(""+b);return T!==a.length&&(b==null||typeof b=="object"&&b.toString===((G=Object.getPrototypeOf((M=Object.getPrototypeOf((C=b.hasOwnProperty)!==null&&C!==void 0?C:Wh))!==null&&M!==void 0?M:Wh))===null||G===void 0?void 0:G.toString))&&(O=b+"",f.push({start:v.length+_.length,length:O.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),v+_+(T===a.length?"":O)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((v,_)=>v.start-_.start),f.length>0){let v=0;const _=f.reduce((T,C)=>{const M=" ".repeat(C.start-v),G="^".repeat(C.length);return v=C.start+C.length,T+M+G},"");throw new tn(`Path parameters result in path with invalid segments:
${f.map(T=>T.error).join(`
`)}
${p}
${_}`)}return p}),ms=iR(ny);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iy extends ty{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,f=Rs(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new tn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new tn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ms`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(ms`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(ms`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,g=Rs(f,["api_version"]);return this._client.get(ms`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}iy._key=Object.freeze(["interactions"]);class oy extends iy{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oR(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let hs;function Nc(i){let t;return(hs??(t=new globalThis.TextEncoder,hs=t.encode.bind(t)))(i)}let gs;function jh(i){let t;return(gs??(t=new globalThis.TextDecoder,gs=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Us{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Nc(t):t;this.buffer=oR([this.buffer,o]);const a=[];let r;for(;(r=lR(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(jh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=jh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Us.NEWLINE_CHARS=new Set([`
`,"\r"]);Us.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function lR(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function aR(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ns={off:0,error:200,warn:300,info:400,debug:500},eg=(i,t,o)=>{if(i){if(qA(Ns,i))return i;Ct(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ns))}`)}};function kl(){}function ys(i,t,o){return!t||Ns[i]>Ns[o]?kl:t[i].bind(t)}const sR={error:kl,warn:kl,info:kl,debug:kl};let tg=new WeakMap;function Ct(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return sR;const r=tg.get(o);if(r&&r[0]===a)return r[1];const f={error:ys("error",o,a),warn:ys("warn",o,a),info:ys("info",o,a),debug:ys("debug",o,a)};return tg.set(o,[a,f]),f}const ki=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Go{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const f=a?Ct(a):console;function p(){return sn(this,arguments,function*(){var y,h,v,_;if(r)throw new tn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var C=!0,M=rn(rR(t,o)),G;G=yield de(M.next()),y=G.done,!y;C=!0){_=G.value,C=!1;const b=_;if(!T)if(b.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield de(JSON.parse(b.data))}catch(O){throw f.error("Could not parse message into JSON:",b.data),f.error("From chunk:",b.raw),O}}}catch(b){h={error:b}}finally{try{!C&&!y&&(v=M.return)&&(yield de(v.call(M)))}finally{if(h)throw h.error}}T=!0}catch(b){if(cc(b))return yield de(void 0);throw b}finally{T||o.abort()}})}return new Go(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function f(){return sn(this,arguments,function*(){var y,h,v,_;const T=new Us,C=Wg(t);try{for(var M=!0,G=rn(C),b;b=yield de(G.next()),y=b.done,!y;M=!0){_=b.value,M=!1;const O=_;for(const J of T.decode(O))yield yield de(J)}}catch(O){h={error:O}}finally{try{!M&&!y&&(v=G.return)&&(yield de(v.call(G)))}finally{if(h)throw h.error}}for(const O of T.flush())yield yield de(O)})}function p(){return sn(this,arguments,function*(){var y,h,v,_;if(r)throw new tn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let T=!1;try{try{for(var C=!0,M=rn(f()),G;G=yield de(M.next()),y=G.done,!y;C=!0){_=G.value,C=!1;const b=_;T||b&&(yield yield de(JSON.parse(b)))}}catch(b){h={error:b}}finally{try{!C&&!y&&(v=M.return)&&(yield de(v.call(M)))}finally{if(h)throw h.error}}T=!0}catch(b){if(cc(b))return yield de(void 0);throw b}finally{T||o.abort()}})}return new Go(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),o.push(p)}return f.shift()}});return[new Go(()=>r(t),this.controller,this.client),new Go(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return $g({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await o.next();if(f)return a.close();const p=Nc(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function rR(i,t){return sn(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new tn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new tn("Attempted to iterate over a response with no body");const g=new cR,y=new Us,h=Wg(i.body);try{for(var v=!0,_=rn(uR(h)),T;T=yield de(_.next()),a=T.done,!a;v=!0){p=T.value,v=!1;const C=p;for(const M of y.decode(C)){const G=g.decode(M);G&&(yield yield de(G))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(f=_.return)&&(yield de(f.call(_)))}finally{if(r)throw r.error}}for(const C of y.flush()){const M=g.decode(C);M&&(yield yield de(M))}})}function uR(i){return sn(this,arguments,function*(){var o,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=rn(i),h;h=yield de(y.next()),o=h.done,!o;g=!0){f=h.value,g=!1;const v=f;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Nc(v):v;let T=new Uint8Array(p.length+_.length);T.set(p),T.set(_,p.length),p=T;let C;for(;(C=aR(p))!==-1;)yield yield de(p.slice(0,C)),p=p.slice(C)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield de(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield de(p))})}class cR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=fR(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function fR(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dR(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return Ct(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):Go.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return Ct(i).debug(`[${a}] response parsed`,ki({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mc extends Promise{constructor(t,o,a=dR){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Mc(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ly=Symbol("brand.privateNullableHeaders");function*pR(i){if(!i)return;if(ly in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Qh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Qh(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const Ol=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[f,p]of pR(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),o.add(g)):(t.append(f,p),o.delete(g))}}return{[ly]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tc=i=>{var t,o,a,r,f,p;if(typeof globalThis.process<"u")return(a=(o=(t=q0)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ay;class Ls{constructor(t){var o,a,r,f,p,g,y,{baseURL:h=tc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=tc("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=t,T=Rs(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:_},T),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:Ls.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const M="warn";this.logLevel=M,this.logLevel=(p=(f=eg(C.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:eg(tc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:M,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:XA(),this.encoder=ZA,this._options=C,this.apiKey=v,this.apiVersion=_,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=Ol([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Ol([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ol([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new tn(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Uo}`}defaultIdempotencyKey(){return`stainless-node-retry-${UA()}`}makeStatusError(t,o,a,r){return At.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=GA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return VA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Mc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:v,timeout:_}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:v,options:g});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,M=Date.now();if(Ct(this).debug(`[${T}] sending request`,ki({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new dc;const G=new AbortController,b=await this.fetchWithTimeout(v,h,_,G).catch(fc),O=Date.now();if(b instanceof globalThis.Error){const F=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new dc;const $=cc(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(o)return Ct(this).info(`[${T}] connection ${$?"timed out":"failed"} - ${F}`),Ct(this).debug(`[${T}] connection ${$?"timed out":"failed"} (${F})`,ki({retryOfRequestLogID:a,url:v,durationMs:O-M,message:b.message})),this.retryRequest(g,o,a??T);throw Ct(this).info(`[${T}] connection ${$?"timed out":"failed"} - error; no more retries left`),Ct(this).debug(`[${T}] connection ${$?"timed out":"failed"} (error; no more retries left)`,ki({retryOfRequestLogID:a,url:v,durationMs:O-M,message:b.message})),$?new Og:new Ds({cause:b})}const J=`[${T}${C}] ${h.method} ${v} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${O-M}ms`;if(!b.ok){const F=await this.shouldRetry(b);if(o&&F){const W=`retrying, ${o} attempts remaining`;return await QA(b.body),Ct(this).info(`${J} - ${W}`),Ct(this).debug(`[${T}] response error (${W})`,ki({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,durationMs:O-M})),this.retryRequest(g,o,a??T,b.headers)}const $=F?"error; no more retries left":"error; not retryable";Ct(this).info(`${J} - ${$}`);const oe=await b.text().catch(W=>fc(W).message),ie=BA(oe),Q=ie?void 0:oe;throw Ct(this).debug(`[${T}] response error (${$})`,ki({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,message:Q,durationMs:Date.now()-M})),this.makeStatusError(b.status,ie,Q,b.headers)}return Ct(this).info(J),Ct(this).debug(`[${T}] response start`,ki({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,durationMs:O-M})),{response:b,options:g,controller:G,requestLogID:T,retryOfRequestLogID:a,startTime:M}}async fetchWithTimeout(t,o,a,r){const f=o||{},{signal:p,method:g}=f,y=Rs(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,_=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(_.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,_)}finally{clearTimeout(h)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await OA(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,_=this.buildURL(y,h,v);"timeout"in p&&zA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:T,body:C}=this.buildBody({options:p}),M=await this.buildHeaders({options:t,method:g,bodyHeaders:T,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:M},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:_,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=Ol([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),YA()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=Ol([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:KA(t)}:this.encoder({body:t,headers:a})}}Ls.DEFAULT_TIMEOUT=6e4;class ut extends Ls{constructor(){super(...arguments),this.interactions=new oy(this)}}ay=ut;ut.GeminiNextGenAPIClient=ay;ut.GeminiNextGenAPIClientError=tn;ut.APIError=At;ut.APIConnectionError=Ds;ut.APIConnectionTimeoutError=Og;ut.APIUserAbortError=dc;ut.NotFoundError=Yg;ut.ConflictError=Xg;ut.RateLimitError=Qg;ut.BadRequestError=kg;ut.AuthenticationError=Fg;ut.InternalServerError=Zg;ut.PermissionDeniedError=Jg;ut.UnprocessableEntityError=Kg;ut.toFile=tR;ut.Interactions=oy;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function hR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function gR(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function yR(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function vR(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function SR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],ng(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],ng(C))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=u(i,["labels"]);t!==void 0&&_!=null&&c(t,["labels"],_);const T=u(i,["beta"]);return t!==void 0&&T!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],T),a}function _R(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&xR(f);const p=u(i,["config"]);return p!=null&&vR(p,o),o}function TR(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&DR(f,o,t);const p=u(i,["config"]);return p!=null&&SR(p,o,t),o}function ER(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function CR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function AR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function RR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function NR(i,t){const o={},a=u(i,["config"]);return a!=null&&AR(a,o),o}function MR(i,t){const o={},a=u(i,["config"]);return a!=null&&RR(a,o),o}function wR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>sy(g))),c(o,["tuningJobs"],p)}return o}function IR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>hc(g))),c(o,["tuningJobs"],p)}return o}function bR(i,t){const o={},a=u(i,["name"]);a!=null&&c(o,["model"],a);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function xR(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function DR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function sy(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],Cg(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const _=u(i,["baseModel"]);_!=null&&c(o,["baseModel"],_);const T=u(i,["_self"]);return T!=null&&c(o,["tunedModel"],bR(T)),o}function hc(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],Cg(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const _=u(i,["description"]);_!=null&&c(o,["description"],_);const T=u(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const C=u(i,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const M=u(i,["preTunedModel"]);M!=null&&c(o,["preTunedModel"],M);const G=u(i,["supervisedTuningSpec"]);G!=null&&c(o,["supervisedTuningSpec"],G);const b=u(i,["preferenceOptimizationSpec"]);b!=null&&c(o,["preferenceOptimizationSpec"],b);const O=u(i,["tuningDataStats"]);O!=null&&c(o,["tuningDataStats"],O);const J=u(i,["encryptionSpec"]);J!=null&&c(o,["encryptionSpec"],J);const F=u(i,["partnerModelTuningSpec"]);F!=null&&c(o,["partnerModelTuningSpec"],F);const $=u(i,["customBaseModel"]);$!=null&&c(o,["customBaseModel"],$);const oe=u(i,["experiment"]);oe!=null&&c(o,["experiment"],oe);const ie=u(i,["labels"]);ie!=null&&c(o,["labels"],ie);const Q=u(i,["outputUri"]);Q!=null&&c(o,["outputUri"],Q);const ye=u(i,["pipelineJob"]);ye!=null&&c(o,["pipelineJob"],ye);const W=u(i,["serviceAccount"]);W!=null&&c(o,["serviceAccount"],W);const me=u(i,["tunedModelDisplayName"]);me!=null&&c(o,["tunedModelDisplayName"],me);const he=u(i,["veoTuningSpec"]);return he!=null&&c(o,["veoTuningSpec"],he),o}function UR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function ng(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LR extends qn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Fi(Vn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:ic.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=CR(t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>hc(v))}else{const h=ER(t);return g=Z("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>sy(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=MR(t);return g=Z("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=IR(v),T=new wh;return Object.assign(T,_),T})}else{const h=NR(t);return g=Z("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=wR(v),T=new wh;return Object.assign(T,_),T})}}async cancel(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=hR(t);return g=Z("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=yR(v),T=new Ih;return Object.assign(T,_),T})}else{const h=mR(t);return g=Z("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),p.then(v=>{const _=gR(v),T=new Ih;return Object.assign(T,_),T})}}async tuneInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=TR(t,t);return f=Z("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>hc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_R(t);return f=Z("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>UR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GR{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const PR=1024*1024*8,HR=3,VR=1e3,qR=2,Ms="x-goog-upload-status";async function zR(i,t,o){var a;const r=await ry(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function BR(i,t,o){var a;const r=await ry(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=yg(f),g=new _c;return Object.assign(g,p),g}async function ry(i,t,o){var a,r;let f=0,p=0,g=new oc(new Response),y="upload";for(f=i.size;p<f;){const h=Math.min(PR,f-p),v=i.slice(p,p+h);p+h>=f&&(y+=", finalize");let _=0,T=VR;for(;_<HR&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ms]));)_++,await kR(T),T=T*qR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ms])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function OR(i){return{size:i.size,type:i.type}}function kR(i){return new Promise(t=>setTimeout(t,i))}class FR{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await zR(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await BR(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await OR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JR{create(t,o,a){return new YR(t,o,a)}}class YR{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ig="x-goog-api-key";class XR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(ig)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ig,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KR="gl-node/";class QR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new ut({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=k0(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new XR(this.apiKey);this.apiClient=new OC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:KR+"web",uploader:new FR,downloader:new GR}),this.models=new sA(this.apiClient),this.live=new tA(this.apiClient,r,new JR),this.batches=new v_(this.apiClient),this.chats=new j_(this.models,this.apiClient),this.caches=new Z_(this.apiClient),this.files=new uT(this.apiClient),this.operations=new rA(this.apiClient),this.authTokens=new AA(this.apiClient),this.tunings=new LR(this.apiClient),this.fileSearchStores=new DA(this.apiClient)}}const WN={Creator:"",Caregiver:"",Ruler:"",Magician:"",Hero:"",Outlaw:"",Explorer:"",Sage:"",Jester:"",Everyman:"",Innocent:"",Lover:"",Orphan:""},vs={ISTJ:"        .                             .",ISFJ:"          .                ,           .",INFJ:"          .             ,                .",INTJ:"        .          ,        .            .",ISTP:"         .             ,     .            .",ISFP:"        .                   .             .",INFP:"         .                     .   ,      .",INTP:"         .            ,         .          .",ESTP:"        .                .      ,      .",ESFP:"          .                .              .",ENFP:"         .                  .          .",ENTP:"        .                   .            .",ESTJ:"        .              .                .",ESFJ:"         .                .               .",ENFJ:"           .                .             .",ENTJ:"         .              .              .","1w9":"          .       ,                     .","1w2":"            .       ,          .           .","2w1":"         .             .                   .","2w3":"         .              .                   .","3w2":"          .               .               .","3w4":"         .             .                  .","4w3":"        .            .                  .","4w5":"        .                .               .","5w4":"        .                .                 .","5w6":"        .                 .                 .","6w5":"        .                  .               .","6w7":"          .               .                .","7w6":"        .                  .               .","7w8":"        .               .               .","8w7":"       .                .          ,        .","8w9":"       .                  .                .","9w8":"         .               .          ,        .","9w1":"       .               .                    .",Creator:"() (A)       .               ,              .",Caregiver:"          .               .                 .",Ruler:"          .               .               .",Magician:"          .               .                .",Hero:"         .                .                 .",Outlaw:"         .               .                 .",Explorer:"          .               .                .",Sage:"         .                 .             .",Jester:"         .               .                .",Everyman:"         .                .              .",Orphan:"         .                .              .",Innocent:"          .               .                  .",Lover:"          .                 .               ."},ZR={saveJsonError:async(i,t,o)=>{var g;const a=new Date().toISOString(),r=o instanceof Error?o.message:String(o),f={timestamp:a,provider:i,errorMessage:r,rawdata:t},p=JSON.stringify(f,null,2);if((g=window.updater)!=null&&g.logError)try{await window.updater.logError("Jsonerror.log",p)}catch(y){console.error("Failed to write log file via Electron bridge:",y)}try{localStorage.setItem("hpersona_last_json_error",p)}catch{console.warn("Failed to cache error log in localStorage")}return console.error("[AI JSON Error Logged]:",f),p},getLastErrorLog:()=>localStorage.getItem("hpersona_last_json_error")},$R=i=>i==="1234",uy=(i,t)=>{const o=i.message||String(i),a=o.toLowerCase();return console.error(`[${t.toUpperCase()} API Error]:`,i),a.includes("failed to fetch")||a.includes("network error")||a.includes("load failed")?`[${t.toUpperCase()}]    .   ,  CORS   AdBlock     .`:a.includes("exceeded your current quota")||a.includes("quota exceeded")||a.includes("429")||a.includes("too many requests")?"API  (Quota)      . /       .":a.includes("api key not valid")||a.includes("invalid_argument")||a.includes("api key invalid")||a.includes("401")||a.includes("403")?" API   .      .":a.includes("requested entity was not found")||a.includes("model not found")||a.includes("404")?` AI (${t})   .    .`:a.includes("overloaded")||a.includes("503")||a.includes("500")||a.includes("deadline exceeded")?"AI      .     .":`      : ${o}`},WR=i=>{if(!i)return"{}";let t=i.replace(/<think>[\s\S]*?<\/think>/gi,"").trim();try{const o=t.match(/```(?:json)?\s*([\s\S]*?)\s*```/i);if(o&&o[1])t=o[1].trim();else{const _=t.indexOf("{"),T=t.indexOf("[");let C=-1;_!==-1&&T!==-1?C=Math.min(_,T):_!==-1?C=_:T!==-1&&(C=T),C!==-1&&(t=t.substring(C))}let a=t,r=0,f=0,p=!1,g="";for(let _=0;_<a.length;_++){const T=a[_];T==='"'&&g!=="\\"&&(p=!p),p||(T==="{"?r++:T==="}"?r--:T==="["?f++:T==="]"&&f--),g=T}for(p&&(a+='"');f>0;)a+="]",f--;for(;r>0;)a+="}",r--;const y=a.indexOf("{"),h=a.indexOf("[");let v=-1;return y!==-1&&(h===-1||y<h)?v=y:h!==-1&&(v=h),v===-1?"{}":(a=a.substring(v),a.replace(/,\s*([\]}])/g,"$1").replace(/(?:\/\*[\s\S]*?\*\/)|(?:\/\/\s.*)/g,"").trim())}catch{return"{}"}},cy=i=>i?i.replace(/[\u200B-\u200D\uFEFF\u00A0]/g,"").replace(/\r\n|\r/g,`
`).replace(/[ \t]{2,}/g," ").replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"").replace(/[\n]{3,}/g,`

`).trim():"",fy=i=>{var G,b,O,J,F,$,oe,ie,Q,ye,W;const t=i||{};let o=t.characterName||t.character_name||"   ";o=String(o).replace(/[\[\]]/g,"").trim();let a=typeof t.mbti=="string"?t.mbti:((G=t.mbti)==null?void 0:G.type)||"UNKNOWN",r=String(a).split("-")[0].toUpperCase().substring(0,4);const f=vs[r]||((b=t.mbti)==null?void 0:b.description)||"   ";let p=String(typeof t.enneagram=="string"?t.enneagram:((O=t.enneagram)==null?void 0:O.type)||"4w5").toLowerCase();const g=vs[p]||((J=t.enneagram)==null?void 0:J.description)||"   ";let y=String(typeof t.archetype=="string"?t.archetype:((F=t.archetype)==null?void 0:F.name)||"Everyman").trim();const h=Object.keys(vs).find(me=>me.toLowerCase()===y.toLowerCase()),v=h?vs[h]:(($=t.archetype)==null?void 0:$.description)||"  ",_=me=>{const he=parseInt(me);return isNaN(he)?50:Math.max(0,Math.min(100,he))},T=t.symbolicImage||t.symbol_image||{},C=String(T.symbol||t.symbol||t.symbolic_item||""),M=String(T.description||T.reason||t.symbolicDescription||t.symbol_description||" .");return{characterName:o,oneLineSummary:t.oneLineSummary||t.summary||" .",mbti:{type:r,description:f},enneagram:{type:p,description:g},archetype:{name:h||y,description:v},big5:{openness:_((oe=t.big5)==null?void 0:oe.openness),conscientiousness:_((ie=t.big5)==null?void 0:ie.conscientiousness),extraversion:_((Q=t.big5)==null?void 0:Q.extraversion),agreeableness:_((ye=t.big5)==null?void 0:ye.agreeableness),neuroticism:_((W=t.big5)==null?void 0:W.neuroticism)},symbolicImage:{symbol:C,description:M},detailedAnalysis:t.detailedAnalysis||"",hiddenPsychology:t.hiddenPsychology||"",subconsciousMotivation:t.subconsciousMotivation||"",synergy:t.synergy||"",growthAdvice:t.growthAdvice||"",shareSummary:`${o}   .   
MBTI : ${r} 
 : ${p} 
 : ${h||y} 

   ... 

${t.oneLineSummary||t.one_line_summary||t.summary||" ."} 
. 
#haraspersona`}},jR=i=>{const t=i||{};let o=t.characterReactions||t.character_reactions;o&&typeof o=="object"&&!Array.isArray(o)&&(o=Object.entries(o).map(([r,f])=>({...typeof f=="object"?f:{innerThought:String(f)},name:r})));const a=Array.isArray(o)?o.map(r=>{let f=r.emotions||{};return{id:r.id||crypto.randomUUID(),name:String(r.name||"").replace(/[\[\]]/g,"").trim(),stressLevel:parseInt(r.stressLevel??50),emotions:{joy:parseInt(f.joy??0),anger:parseInt(f.anger??0),sadness:parseInt(f.sadness??0),fear:parseInt(f.fear??0),trust:parseInt(f.trust??5)},emotion:r.emotion||"",innerThought:String(r.innerThought||"   .")}}):[];return{score:parseInt(t.score??50),keywords:Array.isArray(t.keywords)?t.keywords:[],summary:t.summary||"   .",emotionalTone:t.emotionalTone||"",characterReactions:a}},eN=(i,t,o)=>{const a=i||{};return{relationshipTitle:a.relationshipTitle||" ",oneLineSummary:a.oneLineSummary||a.relationshipSummary||"    .",chemistryScore:parseInt(a.chemistryScore)||50,definition:a.definition||"",strengths:Array.isArray(a.strengths)?a.strengths:["   ."],conflicts:Array.isArray(a.conflicts)?a.conflicts:["   ."],advice:a.advice||"",shareSummary:`${t} x ${o}      
   : ${parseInt(a.chemistryScore||a.chemistry_score)||50} 
   ... 

${a.relationshipTitle||a.relationship_title||" "} 
. 
#haraspersona`,narrativeSummary:a.narrativeSummary||""}},dy=async(i,t)=>{const o=WR(t);try{return JSON.parse(o)}catch(a){const r=await ZR.saveJsonError(i,t,a),f=new Error("AI     (JSON  )");throw f.rawLog=r,f}},tN=async(i,t,o,a=!0)=>{var y,h,v,_,T,C;const f={openai:{endpoint:"https://api.openai.com/v1/chat/completions",model:"gpt-4o-mini"},claude:{endpoint:"https://api.anthropic.com/v1/messages",model:"claude-3-5-sonnet-latest"},openrouter:{endpoint:"https://openrouter.ai/api/v1/chat/completions",model:"deepseek/deepseek-r1-0528:free"}}[i],p={"Content-Type":"application/json"};let g={};i==="openai"||i==="openrouter"?(p.Authorization=`Bearer ${t}`,g={model:f.model,max_tokens:4096,messages:[{role:"user",content:o+(a?`

IMPORTANT: Respond ONLY with a valid JSON object.`:"")}],...a?{response_format:{type:"json_object"}}:{}}):i==="claude"&&(p["x-api-key"]=t,p["anthropic-version"]="2023-06-01",p["dangerously-allow-browser"]="true",g={model:f.model,max_tokens:4096,messages:[{role:"user",content:o+(a?`

IMPORTANT: Respond ONLY with a valid JSON object.`:"")}],...a?{response_format:{type:"json_object"}}:{}});try{const M=await fetch(f.endpoint,{method:"POST",headers:p,body:JSON.stringify(g)});if(!M.ok){const O=await M.json().catch(()=>({}));throw new Error(((y=O.error)==null?void 0:y.message)||M.statusText)}const G=await M.json(),b=i==="claude"?(v=(h=G.content)==null?void 0:h[0])==null?void 0:v.text:(C=(T=(_=G.choices)==null?void 0:_[0])==null?void 0:T.message)==null?void 0:C.content;return a?await dy(i,b):b}catch(M){throw M.rawLog?M:new Error(uy(M,i))}},Vo=async(i,t,o,a=!0)=>{if(i==="gemini"){const f=await new QR({apiKey:t||"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-3-flash-preview",contents:o,config:a?{responseMimeType:"application/json"}:{}});return a?await dy(i,f.text||"{}"):f.text}return await tN(i,t,o,a)},jN=async(i,t)=>{if($R(t))return!0;const o="Hello, respond with 'OK' only.";try{return!!await Vo(i,t,o,!1)}catch(a){throw new Error(a.message||uy(a,i))}},Gs=async(i,t=2)=>{let o;for(let a=0;a<=t;a++)try{const r=await i();if(!r||typeof r=="object"&&Object.keys(r).length===0)throw new Error("AI    .");return r}catch(r){o=r,a<t&&(console.warn(`AI     ,  ... (${a+1}/${t})`),await new Promise(f=>setTimeout(f,1e3)))}throw o},nN=(i,t,o)=>`
         . "${i}"   .
 : ${t}. 
${o}

CRITICAL INSTRUCTIONS:
1.    (~)    JSON .       .
2. 'big5'  (openness, conscientiousness, extraversion, agreeableness, neuroticism)  0 100   . (- openness:10)
3. 'mbti' 4  . (:ISFP)
4. 'archetype'   13     : Creator, Caregiver, Ruler, Magician, Hero, Outlaw, Explorer, Sage, Jester, Everyman, Innocent, Lover, Orphan.
5. 'oneLineSummary'     (10-13 ).
6.          3        .
7.  : 'characterName', 'oneLineSummary', 'mbti', 'enneagram', 'archetype', 'big5', 'shareSummary'.
`,py=(i,t,o,a)=>{var r;return`
        .      "${i.characterName}"     .

- MBTI: ${i.mbti.type}
- : ${i.enneagram.type}
- : ${i.archetype.name}
- Big5: ${JSON.stringify(i.big5)}
- : ${((r=i.symbolicImage)==null?void 0:r.symbol)||""}

/: ${t}
: ${a||"  "}
${o}

CRITICAL INSTRUCTIONS:
1.    JSON  .    (~) .       .
2. 'detailedAnalysis', 'hiddenPsychology', 'subconsciousMotivation'      ,       (: (Personality))    .       . (   180~250 )
3. 'growthAdvice'             200  .
4. 'synergy'        200  .
5. historyText        . (ISTJ   A~  (30) ~   .)
6. 'symbolicImage'  "" ""    .  {"symbol": " (1~10     . :'  ')", "description": "            ( 50 )"}  . description   .
7.   :
   -  ''  ''   '' 
   -  ''  ''   '' 
   -        3       .
8.  : 'detailedAnalysis', 'hiddenPsychology', 'subconsciousMotivation', 'synergy', 'growthAdvice', 'symbolicImage'.
`},iN=async(i,t,o,a="",r=[])=>{const f=cy(i.description),p=r.length>0?`### NARRATIVE HISTORY ###
${r.map(g=>{var y;return`[${g.date}] ${((y=g.analysis)==null?void 0:y.summary)||g.content}`}).join(`
`)}`:"";return await Gs(async()=>{const g=nN(i.name,f,p),y=await Vo(t,o,g);if(!y.characterName||!y.mbti||!y.archetype)throw new Error("    ");const h=py(y,f,p),v=await Vo(t,o,h);if(!v.detailedAnalysis||!v.hiddenPsychology)throw new Error("    ");return fy({...y,...v})})},oN=async(i,t,o,a)=>{var h;const r=i.analysisData,f=t.filter(v=>{var _;return(_=v.characters)==null?void 0:_.some(T=>T.name===i.name)}).slice(-10),p=f.length>0?`### RECENT NARRATIVES ###
${f.map(v=>{var _;return`[${v.date}] ${((_=v.analysis)==null?void 0:_.summary)||v.content}`}).join(`
`)}`:"",g=((h=i.biography)==null?void 0:h.map(v=>`[${v.date}] ${v.event}`).join(`
`))||"",y=`: ${i.notes||""}
: ${g}`;return await Gs(async()=>{const v=py(r,y,p,i.gender),_=await Vo(o,a,v);if(!_.detailedAnalysis)throw new Error("  ");const T={...r,..._,characterName:i.name,mbti:r.mbti,enneagram:r.enneagram,archetype:r.archetype,big5:r.big5};return fy(T)})},og=async(i,t,o,a,r="",f)=>{const p=f==null?void 0:f.find(_=>_.name===i.characterName),g=f==null?void 0:f.find(_=>_.name===t.characterName),y=(p==null?void 0:p.gender)||"  ",h=(g==null?void 0:g.gender)||"  ",v=`        . ${i.characterName} ${t.characterName}      .
    : ${r}
     1 (${i.characterName}) : ${y}
     2 (${t.characterName}) : ${h}

    CRITICAL INSTRUCTIONS:
    1. ,    JSON  .    (~) .
    2. 'strengths' 'conflicts'  3      (Array).
    3. 'chemistryScore' 0~100  .
    4. 'definition' 'advice'  200    .
    5. 'oneLineSummary'         (10~13 ) .
    6. 'relationshipTitle'    ,    5~9  .
    7.   :
       -    ''  '' .
       -             .
    8.        .       .
    9.  : 'relationshipTitle', 'oneLineSummary', 'chemistryScore', 'definition', 'strengths', 'conflicts', 'advice', 'shareSummary'.
  `;return await Gs(async()=>{const _=await Vo(o,a,v);return eN(_,i.characterName,t.characterName)})},eM=async(i,t,o,a,r,f=[])=>{const p=cy(i),g=r.map(h=>`: ${h.name} (: ${h.gender||"  "}, : ${h.analysisData.oneLineSummary})`).join(`
---
`),y=`          .    .
     : ${t}
     : "${p}"
       : ${g}

    CRITICAL INSTRUCTIONS:
    1.     JSON   .  (score, keywords, summary, emotionalTone, characterReactions)   .
    2.       '  '  .       ,     . (:others  )
    3. 'score':   (0~100 ).
    4. 'keywords':  ,  ,     1~12    3~5.
    5. 'summary':       .
    6. 'emotionalTone':     ( ).
    7. 'characterReactions':      .
       - 'name':  .
       - 'stressLevel':       (0~100 ,    ).
       - 'emotions': {joy, anger, sadness, fear, trust}  0~10 .
       - 'emotion':     
       - 'innerThought':    100~200   .
    8.       .
  `;return await Gs(async()=>{const h=await Vo(o,a,y);return jR(h)})},lN="HarasPersona_Integrated_DB",aN=4,Je={PROFILES:"profiles",LOGS:"logs",META:"metadata",ANALYSIS:"analysis_data",NOTES:"notes_data",IMAGES:"profile_images",GALLERY:"gallery_data",BANNERS:"banners_data"},Fl=()=>new Promise((i,t)=>{const o=indexedDB.open(lN,aN);o.onupgradeneeded=a=>{const r=a.target.result;Object.values(Je).forEach(f=>{r.objectStoreNames.contains(f)||r.createObjectStore(f,{keyPath:"id"})})},o.onsuccess=()=>i(o.result),o.onerror=()=>t(o.error)}),lg=async i=>{const t=await Fl();return new Promise((o,a)=>{const p=t.transaction(i,"readonly").objectStore(i).getAll();p.onsuccess=()=>o(p.result||[]),p.onerror=()=>a(p.error)})},Do=async(i,t)=>{const o=await Fl();return new Promise((a,r)=>{const g=o.transaction(i,"readonly").objectStore(i).get(t);g.onsuccess=()=>a(g.result||null),g.onerror=()=>r(g.error)})},an=async(i,t)=>{const o=await Fl();return new Promise((a,r)=>{const g=o.transaction(i,"readwrite").objectStore(i).put(t);g.onsuccess=()=>a(),g.onerror=()=>r(g.error)})},ag=async(i,t)=>{const o=await Fl();return new Promise((a,r)=>{const g=o.transaction(i,"readwrite").objectStore(i).delete(t);g.onsuccess=()=>a(),g.onerror=()=>r(g.error)})},Oi=(i,t)=>{try{const o=localStorage.getItem(i);return o?JSON.parse(o):t}catch{return t}},sg=i=>{var o;let t=String(i.name||((o=i.analysisData)==null?void 0:o.characterName)||"Unknown").trim();return t=t.replace(/[\[\]]/g,""),{...i,id:i.id||crypto.randomUUID(),name:t,aliases:Array.isArray(i.aliases)?i.aliases:[],labels:Array.isArray(i.labels)?i.labels:[],biography:Array.isArray(i.biography)?i.biography:[],additionalImages:Array.isArray(i.additionalImages)?i.additionalImages:[],galleryImages:Array.isArray(i.galleryImages)?i.galleryImages:[]}},sN=i=>({...i,characters:Array.isArray(i.characters)?i.characters:[]}),le={migrateLegacyData:async()=>{const i=localStorage.getItem("hpersona_logs_v2");if(i){const t=JSON.parse(i);for(const o of t)await an(Je.LOGS,o);localStorage.removeItem("hpersona_logs_v2")}},loadProfiles:async()=>{const i=await lg(Je.PROFILES),t=[];for(const o of i){const a=o.id,[r,f,p,g,y]=await Promise.all([Do(Je.ANALYSIS,a),Do(Je.NOTES,a),Do(Je.IMAGES,a),Do(Je.GALLERY,a),Do(Je.BANNERS,a)]),h={...o,analysisData:(r==null?void 0:r.data)||o.analysisData,notes:(f==null?void 0:f.notes)||o.notes,appearance:(f==null?void 0:f.appearance)||o.appearance,imageUrl:(p==null?void 0:p.imageUrl)||o.imageUrl,thumbnailUrl:(p==null?void 0:p.thumbnailUrl)||o.thumbnailUrl,galleryImages:(g==null?void 0:g.images)||o.galleryImages||[],additionalImages:(y==null?void 0:y.images)||o.additionalImages||[]};t.push(sg(h))}return t.sort((o,a)=>(o.order??0)-(a.order??0))},propagateNameChange:async(i,t)=>{var h,v,_;if(i===t)return;const o=await le.loadRelationships();let a=!1;const r=o.map(T=>{if(T.char1Name===i||T.char2Name===i){a=!0;const C=T.char1Name===i?t:T.char1Name,M=T.char2Name===i?t:T.char2Name;return{...T,char1Name:C,char2Name:M}}return T});a&&await le.saveRelationships(r);const f=Oi("psychopersona_manual_relationship_types",{}),p={};let g=!1;Object.entries(f).forEach(([T,C])=>{const M=T.split("_");if(M.includes(i)){g=!0;const G=M.map(b=>b===i?t:b).sort().join("_");p[G]=C}else p[T]=C}),g&&localStorage.setItem("psychopersona_manual_relationship_types",JSON.stringify(p));const y=await le.loadLogs();for(const T of y){let C=!1;const M=(h=T.characters)==null?void 0:h.map(b=>b.name===i?(C=!0,{...b,name:t}):b),G=(_=(v=T.analysis)==null?void 0:v.characterReactions)==null?void 0:_.map(b=>b.name===i?(C=!0,{...b,name:t}):b);if(C){const b={...T,characters:M,analysis:T.analysis?{...T.analysis,characterReactions:G}:null};await an(Je.LOGS,b)}}},addOrUpdateProfile:async i=>{if(!i||!i.name||typeof i.name!="string"||i.name.trim()==="")return console.warn("Invalid profile data: Name is required."),await le.loadProfiles();const t=sg(i),o=await Do(Je.PROFILES,t.id);o&&o.name&&o.name!==t.name&&await le.propagateNameChange(o.name,t.name),t.analysisData&&(t.analysisData.characterName=t.name);const a=t.id,r={...t},{analysisData:f,notes:p,appearance:g,imageUrl:y,thumbnailUrl:h,galleryImages:v,additionalImages:_}=t;return delete r.analysisData,delete r.notes,delete r.appearance,delete r.imageUrl,delete r.thumbnailUrl,delete r.galleryImages,delete r.additionalImages,await Promise.all([an(Je.PROFILES,r),an(Je.ANALYSIS,{id:a,data:f}),an(Je.NOTES,{id:a,notes:p,appearance:g}),an(Je.IMAGES,{id:a,imageUrl:y,thumbnailUrl:h}),an(Je.GALLERY,{id:a,images:v}),an(Je.BANNERS,{id:a,images:_})]),await le.loadProfiles()},deleteProfile:async i=>(await Promise.all(Object.values(Je).map(t=>ag(t,i))),await le.loadProfiles()),loadLogs:async()=>(await lg(Je.LOGS)).map(sN).sort((t,o)=>(o.timestamp||0)-(t.timestamp||0)),saveLog:async i=>an(Je.LOGS,i),deleteLog:async i=>ag(Je.LOGS,i),loadNarrativeCategories:async()=>Oi("hpersona_nav_cats_v2",[{id:"default",name:""}]),saveNarrativeCategories:async i=>{localStorage.setItem("hpersona_nav_cats_v2",JSON.stringify(i))},renameNarrativeCategory:async(i,t)=>{const a=(await le.loadNarrativeCategories()).map(r=>r.id===i?{...r,name:t}:r);return await le.saveNarrativeCategories(a),a},loadDDays:async()=>Oi("hpersona_ddays_v2",[]),saveDDays:async i=>localStorage.setItem("hpersona_ddays_v2",JSON.stringify(i)),loadRelationships:async()=>Oi("hpersona_saved_rels_v2",[]),saveRelationships:async i=>localStorage.setItem("hpersona_saved_rels_v2",JSON.stringify(i)),saveRelationshipResult:async(i,t,o)=>{const r=[...await le.loadRelationships(),{id:crypto.randomUUID(),char1Name:i,char2Name:t,result:o,timestamp:Date.now()}];return await le.saveRelationships(r),r},deleteRelationshipResult:async i=>{const o=(await le.loadRelationships()).filter(a=>a.id!==i);return await le.saveRelationships(o),o},updateRelationshipResult:async(i,t)=>{const a=(await le.loadRelationships()).map(r=>r.id===i?{...r,result:t}:r);return await le.saveRelationships(a),a},loadProviderSettings:async()=>Oi("hpersona_settings_v2",{activeProvider:"gemini",keys:{gemini:"",openai:"",claude:"",openrouter:""},verifiedProviders:[],timezoneOffset:9}),saveProviderSettings:async i=>{localStorage.setItem("hpersona_settings_v2",JSON.stringify(i))},wipeStorageInternal:async(i=!1)=>{try{const o=(await Fl()).transaction(Object.values(Je),"readwrite");Object.values(Je).forEach(a=>o.objectStore(a).clear()),await new Promise(a=>{o.oncomplete=a})}catch(t){console.error("IDB Wipe Error:",t)}if(i){const t=localStorage.getItem("hpersona_settings_v2"),o=localStorage.getItem("psychopersona_theme"),a=localStorage.getItem("psychopersona_custom_colors");localStorage.clear(),t&&localStorage.setItem("hpersona_settings_v2",t),o&&localStorage.setItem("psychopersona_theme",o),a&&localStorage.setItem("psychopersona_custom_colors",a)}else localStorage.clear()},clearAllData:async()=>{sessionStorage.setItem("hpersona_restore_active","true"),await le.wipeStorageInternal(!1),window.location.reload()},createSystemBackup:async()=>{const i={};for(let g=0;g<localStorage.length;g++){const y=localStorage.key(g);y&&(y.startsWith("hpersona_bg_")||y.startsWith("psychopersona_")||y.startsWith("hpersona_sidebar_deco_img"))&&(i[y]=localStorage.getItem(y)||"")}const o={...await le.loadProviderSettings(),keys:{gemini:"",openai:"",claude:"",openrouter:""}},a={version:21,timestamp:Date.now(),profiles:await le.loadProfiles(),logs:await le.loadLogs(),relationships:await le.loadRelationships(),categories:await le.loadNarrativeCategories(),ddays:await le.loadDDays(),providerSettings:o,manualRelationshipTypes:Oi("psychopersona_manual_relationship_types",{}),themeId:localStorage.getItem("psychopersona_theme")||"morning",customColors:Oi("psychopersona_custom_colors",void 0)||void 0,sortOrder:localStorage.getItem("hpersona_log_sort_order")||"latest",bgImages:i},r=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),f=URL.createObjectURL(r),p=document.createElement("a");p.href=f,p.download=`HarasPersona_FullBackup_${new Date().toISOString().split("T")[0]}.json`,p.click(),URL.revokeObjectURL(f)},restoreSystemBackup:async i=>{var t;try{const o=i&&typeof i=="object",a=o&&Array.isArray(i.profiles),r=o&&Array.isArray(i.logs);if(!o||!a||!r)return!1;const f=await le.loadProviderSettings();if(await le.wipeStorageInternal(!0),a)for(const h of i.profiles)await le.addOrUpdateProfile(h);if(r)for(const h of i.logs)await an(Je.LOGS,h);i.relationships&&await le.saveRelationships(i.relationships),i.categories&&await le.saveNarrativeCategories(i.categories),i.ddays&&await le.saveDDays(i.ddays);const p=(t=i.providerSettings)==null?void 0:t.keys,g=p&&Object.values(p).some(h=>!!h),y=i.providerSettings&&g?i.providerSettings:f;return await le.saveProviderSettings(y),i.manualRelationshipTypes&&localStorage.setItem("psychopersona_manual_relationship_types",JSON.stringify(i.manualRelationshipTypes)),i.themeId&&localStorage.setItem("psychopersona_theme",i.themeId),i.customColors&&localStorage.setItem("psychopersona_custom_colors",JSON.stringify(i.customColors)),i.sortOrder&&localStorage.setItem("hpersona_log_sort_order",i.sortOrder),i.bgImages&&Object.entries(i.bgImages).forEach(([h,v])=>{localStorage.setItem(h,v)}),sessionStorage.setItem("hpersona_restore_active","true"),!0}catch{return!1}},createNarrativeBackup:async()=>{const i={};for(let f=0;f<localStorage.length;f++){const p=localStorage.key(f);p&&p.startsWith("hpersona_bg_")&&(i[p]=localStorage.getItem(p)||"")}const t={type:"narrative_data",timestamp:Date.now(),logs:await le.loadLogs(),categories:await le.loadNarrativeCategories(),ddays:await le.loadDDays(),bgImages:i},o=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(o),r=document.createElement("a");r.href=a,r.download=`HarasPersona_NarrativeBackup_${new Date().toISOString().split("T")[0]}.json`,r.click(),URL.revokeObjectURL(a)},restoreNarrativeBackup:async i=>{try{if(!i||i.type!=="narrative_data")throw new Error("   ");if(i.logs)for(const t of i.logs)await an(Je.LOGS,t);if(i.categories){const o=[...await le.loadNarrativeCategories()];for(const a of i.categories)o.some(r=>r.id===a.id)||o.push(a);await le.saveNarrativeCategories(o)}if(i.ddays){const o=[...await le.loadDDays()];for(const a of i.ddays)o.some(r=>r.id===a.id)||o.push(a);await le.saveDDays(o)}return i.bgImages&&Object.entries(i.bgImages).forEach(([t,o])=>{localStorage.setItem(t,o)}),sessionStorage.setItem("hpersona_restore_active","true"),!0}catch(t){throw t}},exportCharacter:i=>{const t=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=URL.createObjectURL(t),a=document.createElement("a");a.href=o,a.download=`${i.name}_persona.json`,a.click(),URL.revokeObjectURL(o)}};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uN=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,a)=>a?a.toUpperCase():o.toLowerCase()),rg=i=>{const t=uN(i);return t.charAt(0).toUpperCase()+t.slice(1)},my=(...i)=>i.filter((t,o,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===o).join(" ").trim(),cN=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=K.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:r="",children:f,iconNode:p,...g},y)=>K.createElement("svg",{ref:y,...fN,width:t,height:t,stroke:i,strokeWidth:a?Number(o)*24/Number(t):o,className:my("lucide",r),...!f&&!cN(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,v])=>K.createElement(h,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(i,t)=>{const o=K.forwardRef(({className:a,...r},f)=>K.createElement(dN,{ref:f,iconNode:t,className:my(`lucide-${rN(rg(i))}`,`lucide-${i}`,a),...r}));return o.displayName=rg(i),o};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ug=_t("book-open",pN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hN=_t("camera",mN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yN=_t("chevron-down",gN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],SN=_t("chevron-left",vN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TN=_t("chevron-right",_N);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cg=_t("circle-check",EN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],AN=_t("circle-x",CN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],NN=_t("download",RN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gc=_t("loader-circle",MN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],IN=_t("menu",wN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xN=_t("plus",bN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],UN=_t("search",DN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GN=_t("settings",LN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],hy=_t("sparkles",PN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VN=_t("trash-2",HN);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fg=_t("user",qN),zN=({isVisible:i,message:t="AI   ...",onCancel:o})=>i?H.jsx("div",{className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-black/80 backdrop-blur-md transition-opacity animate-fade-in cursor-wait",children:H.jsxs("div",{className:"glass-panel p-8 rounded-3xl flex flex-col items-center gap-6 border-t border-white/10 shadow-2xl max-w-sm w-full mx-4",children:[H.jsxs("div",{className:"relative",children:[H.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur-xl opacity-20 animate-pulse rounded-full"}),H.jsx(gc,{size:48,className:"text-indigo-400 animate-spin relative z-10"}),H.jsx(hy,{size:24,className:"text-amber-300 absolute -top-2 -right-2 animate-bounce z-10"})]}),H.jsxs("div",{className:"text-center space-y-2",children:[H.jsx("h3",{className:"text-xl font-bold text-white",children:"  "}),H.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:t})]}),o&&H.jsxs("button",{onClick:o,className:"mt-2 px-6 py-2 rounded-full border border-rose-500/30 text-rose-400 hover:bg-rose-500/10 transition-all text-xs font-bold flex items-center gap-2 cursor-pointer pointer-events-auto",children:[H.jsx(AN,{size:14}),"  "]})]})}):null,BN=K.lazy(()=>Si(()=>import("./AnalysisResultView-CBsFucQu.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url)),ON=K.lazy(()=>Si(()=>import("./SettingsModal-wNwgUlsm.js"),__vite__mapDeps([7,8,9,10,11,5,12]),import.meta.url)),kN=K.lazy(()=>Si(()=>import("./RelationshipResultView-DLzBJRWd.js").then(i=>i.d),__vite__mapDeps([13,9,14,5,3]),import.meta.url)),FN=K.lazy(()=>Si(()=>import("./NarrativeView-C7vvhQpz.js"),__vite__mapDeps([15,8,9,10,16,13,14,5,3,2,12,17,4,18]),import.meta.url)),JN=K.lazy(()=>Si(()=>import("./ErrorModal-DxNvXZ_2.js"),[],import.meta.url)),YN=K.lazy(()=>Si(()=>import("./SaveConflictModal-B-aY0fRg.js"),__vite__mapDeps([19,10]),import.meta.url)),XN=K.lazy(()=>Si(()=>import("./ApiKeyGuard-CSPi5631.js"),__vite__mapDeps([20,11,10,18,14,6]),import.meta.url)),KN=K.lazy(()=>Si(()=>import("./CharacterDashboard-hIBB_Mo1.js"),__vite__mapDeps([21,13,9,14,5,3,1,2,8,10,17,18]),import.meta.url)),dg=({size:i=24,className:t=""})=>H.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[H.jsx("circle",{cx:"11",cy:"5",r:"3"}),H.jsx("path",{d:"M12 10 L 4 15"}),H.jsx("path",{d:"M12 8 L 20 11"}),H.jsx("path",{d:"M12 8 L 12 16"}),H.jsx("path",{d:"M12 16 L 8 15"}),H.jsx("path",{d:"M12 16 L 16 21"})]}),yi={peach:{id:"peach",name:"Peach Fuzz",colors:{bgFrom:"#fff1f2",bgTo:"#ffe4e6",glassBg:"rgba(255, 217, 217, 0.92)",glassBorder:"rgba(251, 113, 133, 0.2)",accentPrimary:"#fb7185",textPrimary:"#4c0519"}},morning:{id:"morning",name:"Morning Mist",colors:{bgFrom:"#f0f9ff",bgTo:"#e0f2fe",glassBg:"rgba(204, 232, 250, 0.55)",glassBorder:"rgba(56, 189, 248, 0.2)",accentPrimary:"#38bdf8",textPrimary:"#0f172a"}},mint:{id:"mint",name:"Mint Sorbet",colors:{bgFrom:"#f0fdf4",bgTo:"#dcfce7",glassBg:"rgba(159, 241, 217, 0.4)",glassBorder:"rgba(74, 222, 128, 0.2)",accentPrimary:"#4ade80",textPrimary:"#064e3b"}},lilac:{id:"lilac",name:"Lilac Soft",colors:{bgFrom:"#faf5ff",bgTo:"#f3e8ff",glassBg:"rgba(241, 185, 193, 0.4)",glassBorder:"rgba(192, 132, 252, 0.2)",accentPrimary:"#c084fc",textPrimary:"#3b0764"}},ocean:{id:"ocean",name:"Deep Ocean",colors:{bgFrom:"#0c4a6e",bgTo:"#0f766e",glassBg:"rgba(15, 118, 110, 0.5)",glassBorder:"rgba(45, 212, 191, 0.3)",accentPrimary:"#2dd4bf",textPrimary:"#f0fdfa"}},aurora:{id:"aurora",name:"Aurora Borealis",colors:{bgFrom:"#022c22",bgTo:"#1e1b4b",glassBg:"rgba(30, 27, 75, 0.6)",glassBorder:"rgba(52, 211, 153, 0.3)",accentPrimary:"#34d399",textPrimary:"#ecfdf5"}},custom:{id:"custom",name:"Custom Theme",colors:{bgFrom:"#f8fafc",bgTo:"#f1f5f9",glassBg:"rgba(235, 234, 220, 0.4)",glassBorder:"rgba(138, 135, 121, 0.1)",accentPrimary:"#288880",textPrimary:"#3c4a5f"}}},gy=i=>{if(!i||!i.startsWith("#"))return .5;const t=i.substring(1),o=parseInt(t,16),a=o>>16&255,r=o>>8&255,f=o>>0&255,p=[a,r,f].map(g=>(g/=255,g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4)));return .2126*p[0]+.7152*p[1]+.0722*p[2]},Ss=i=>gy(i)>.5?"#0f172a":"#f8fafc";var mg;const pg=((mg=window.env)==null?void 0:mg.isPortable)||!1,QN=()=>{var ea,ta,Zo,Yn,Zi,Sn;const[i,t]=K.useState(null),[o,a]=K.useState(()=>{try{return localStorage.getItem("hpersona_ui_viewmode")||"narrative"}catch{return"narrative"}}),[r,f]=K.useState(()=>{try{return localStorage.getItem("hpersona_ui_dashboardtab")||"list"}catch{return"list"}}),[p,g]=K.useState(null),[y,h]=K.useState(null),[v,_]=K.useState(null),[T,C]=K.useState(null),[M,G]=K.useState(null),[b,O]=K.useState(""),[J,F]=K.useState([]),[$,oe]=K.useState([]),[ie,Q]=K.useState([]),[ye,W]=K.useState(!1),[me,he]=K.useState(null),[qe,Re]=K.useState(!1),[Ye,nt]=K.useState(!1),[U,X]=K.useState({isOpen:!1,info:null,status:"available"}),[se,xe]=K.useState(0),[De,N]=K.useState(window.innerWidth),z=K.useMemo(()=>((i==null?void 0:i.uiScale)||100)>=120,[i==null?void 0:i.uiScale]),k=K.useMemo(()=>De<1024||z,[De,z]),[j,fe]=K.useState((i==null?void 0:i.uiScale)||100);K.useEffect(()=>{fe((i==null?void 0:i.uiScale)||100)},[i==null?void 0:i.uiScale]);const[te,Ce]=K.useState(()=>{try{const I=localStorage.getItem("hpersona_ui_sidebar_collapsed");return I?JSON.parse(I):window.innerWidth<640}catch{return window.innerWidth<640}}),[it,ze]=K.useState(window.innerWidth<640);K.useEffect(()=>{z&&(Ce(!0),ze(!0))},[z]),K.useEffect(()=>{const I=(i==null?void 0:i.uiScale)||100;document.documentElement.style.fontSize=`${I/100*16}px`,document.documentElement.style.zoom="1"},[i==null?void 0:i.uiScale]);const[Qe,Ti]=K.useState(()=>{try{return localStorage.getItem("psychopersona_theme")||"morning"}catch{return"morning"}}),[ot,Oo]=K.useState(()=>{try{const I=localStorage.getItem("psychopersona_custom_colors");return I?JSON.parse(I):{bgFrom:"#f8fafc",bgTo:"#f1f5f9",accent:"#6366f1"}}catch{return{bgFrom:"#f8fafc",bgTo:"#f1f5f9",accent:"#6366f1"}}}),[Ut,Ji]=K.useState(()=>localStorage.getItem("hpersona_sidebar_deco_img")||""),[Bn,Ps]=K.useState(()=>localStorage.getItem("hpersona_sidebar_deco_img_pos")||"50% 100%"),[Yi,ko]=K.useState(()=>parseInt(localStorage.getItem("hpersona_sidebar_deco_img_opacity")||"20")),[Fo,Jl]=K.useState(()=>parseInt(localStorage.getItem("hpersona_sidebar_deco_img_scale")||"100")),[Ot,Yl]=K.useState(!1),[gt,Hs]=K.useState(0),[Jo,Xl]=K.useState(0),[Ei,Vs]=K.useState(50),[Yo,qs]=K.useState(100),Xi=K.useRef(null),gn=K.useRef(null),ct=K.useRef({x:0,y:0});K.useEffect(()=>{const I=window.updater;if(!I||pg)return;I.getVersion().then(Ne=>{const at=localStorage.getItem("hpersona_last_run_version");at&&at!==Ne&&X({isOpen:!0,info:{version:Ne},status:"welcome"}),localStorage.setItem("hpersona_last_run_version",Ne)});const Y=I.onAvailable(Ne=>X({isOpen:!0,info:Ne,status:"available"})),ce=I.onDownloaded(Ne=>X(at=>({...at,isOpen:!0,info:Ne,status:"downloaded"}))),ue=I.onProgress(Ne=>xe(Math.floor(Ne.percent)));return()=>{Y(),ce(),ue()}},[]);const cn=()=>{var I;X(Y=>({...Y,status:"downloading"})),(I=window.updater)==null||I.download()},Tt=()=>{var I;(I=window.updater)==null||I.install()},yn=K.useMemo(()=>{const I=yi[Qe]||yi.morning,Y=Qe==="custom"?ot.bgFrom:I.colors.bgFrom;return Ss(Y)},[Qe,ot.bgFrom]),Ki=K.useMemo(()=>{const I=yi[Qe]||yi.morning,Y=Qe==="custom"?ot.bgTo:I.colors.bgTo;return Ss(Y)},[Qe,ot.bgTo]),zs=I=>{Ot||(ct.current={x:I.touches[0].clientX,y:I.touches[0].clientY})};K.useEffect(()=>{var I,Y;window.updater&&((I=window.updater)==null||I.onAvailable(()=>{console.log("   ")}),(Y=window.updater)==null||Y.onDownloaded(()=>{window.updater&&confirm(" ?")&&window.updater.install()}))},[]);const Qi=I=>{if(!k||Ot)return;const Y=I.changedTouches[0].clientX-ct.current.x,ce=I.changedTouches[0].clientY-ct.current.y,ue=Math.abs(Y),Ne=Math.abs(ce);Y<-70&&ue>Ne&&Rt(!1),Y>70&&ue>Ne&&On(!1)},Rt=K.useCallback(I=>{Ce(I),k&&!I&&ze(!0)},[k]),On=K.useCallback(I=>{ze(I),k&&!I&&Ce(!0)},[k]),Nt=K.useCallback(()=>{if(sessionStorage.getItem("hpersona_restore_active")!=="true")try{i&&localStorage.setItem("hpersona_settings_v2",JSON.stringify(i)),localStorage.setItem("psychopersona_theme",Qe),localStorage.setItem("psychopersona_custom_colors",JSON.stringify(ot)),localStorage.setItem("hpersona_ui_viewmode",o),localStorage.setItem("hpersona_ui_dashboardtab",r),localStorage.setItem("hpersona_ui_sidebar_collapsed",JSON.stringify(te))}catch(I){console.error("  :",I)}},[i,Qe,ot,o,r,te]);K.useEffect(()=>{window.addEventListener("beforeunload",Nt),window.addEventListener("pagehide",Nt);const I=()=>{document.visibilityState==="hidden"&&Nt()};return document.addEventListener("visibilitychange",I),()=>{window.removeEventListener("beforeunload",Nt),window.removeEventListener("pagehide",Nt),document.removeEventListener("visibilitychange",I)}},[Nt]);const ke=K.useCallback(async()=>{try{F(await le.loadProfiles()),oe(await le.loadRelationships()),Q(await le.loadLogs())}catch(I){console.error("   :",I)}},[]),kn=K.useCallback(async()=>{sessionStorage.removeItem("hpersona_restore_active");try{await le.migrateLegacyData();const I=await le.loadProviderSettings();t(I),await ke();const Y=localStorage.getItem("psychopersona_theme"),ce=localStorage.getItem("psychopersona_custom_colors");Y&&Ti(Y),ce&&Oo(JSON.parse(ce))}catch(I){console.error(" :",I)}},[ke]);K.useEffect(()=>{kn()},[kn]),K.useEffect(()=>{const I=()=>{N(window.innerWidth),window.innerWidth<1024&&(Ce(!0),ze(!0))};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),K.useEffect(()=>{let I=yi[Qe]||yi.morning;if(Qe==="custom"){const ce=gy(ot.bgTo);I={id:"custom",name:"Custom",colors:{bgFrom:ot.bgFrom,bgTo:ot.bgTo,glassBg:ce>.5?"rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.3)",glassBorder:ce>.5?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.1)",accentPrimary:ot.accent,textPrimary:Ss(ot.bgTo)}}}const Y=document.documentElement;Y.style.setProperty("--bg-from",I.colors.bgFrom),Y.style.setProperty("--bg-to",I.colors.bgTo),Y.style.setProperty("--glass-bg",I.colors.glassBg),Y.style.setProperty("--glass-border",I.colors.glassBorder),Y.style.setProperty("--text-primary",I.colors.textPrimary),Y.style.setProperty("--accent-primary",I.colors.accentPrimary),Y.style.setProperty("--accent-text",Ss(I.colors.accentPrimary)),Y.style.setProperty("--accent-10",`color-mix(in srgb, ${I.colors.accentPrimary} 10%, transparent)`),Y.style.setProperty("--accent-20",`color-mix(in srgb, ${I.colors.accentPrimary} 20%, transparent)`),Y.style.setProperty("--accent-30",`color-mix(in srgb, ${I.colors.accentPrimary} 30%, transparent)`),Y.style.setProperty("--accent-40",`color-mix(in srgb, ${I.colors.accentPrimary} 40%, transparent)`),Y.style.setProperty("--accent-50",`color-mix(in srgb, ${I.colors.accentPrimary} 50%, transparent)`);try{sessionStorage.getItem("hpersona_restore_active")!=="true"&&(localStorage.setItem("psychopersona_theme",Qe),localStorage.setItem("psychopersona_custom_colors",JSON.stringify(ot)))}catch{}},[Qe,ot]);const Kl=K.useCallback(async I=>{try{await le.addOrUpdateProfile(I),await ke()}catch(Y){console.error("  :",Y)}},[ke]),Ql=K.useCallback(async I=>{try{const Y=I.map((ce,ue)=>le.addOrUpdateProfile({...ce,order:ue}));await Promise.all(Y),await ke()}catch(Y){console.error("   :",Y)}},[ke]),Xo=K.useCallback(async I=>{try{await le.deleteProfile(I),await ke()}catch(Y){console.error("  :",Y)}},[ke]),Fn=K.useCallback(async I=>{try{await le.deleteRelationshipResult(I),await ke()}catch(Y){console.error("   :",Y)}},[ke]),Zl=K.useCallback(async(I,Y)=>{try{await le.updateRelationshipResult(I,Y),await ke()}catch(ce){console.error("   :",ce)}},[ke]),Ci=K.useCallback(async I=>{try{t(I),await le.saveProviderSettings(I)}catch(Y){console.error("  :",Y)}},[]),$l=K.useCallback((I,Y)=>{if(I&&Y){const ce=J.find(Ne=>Ne.name===I),ue=J.find(Ne=>Ne.name===Y);ce&&ue&&(C({...ce.analysisData,thumbnailUrl:ce.thumbnailUrl,imageUrl:ce.imageUrl}),G({...ue.analysisData,thumbnailUrl:ue.thumbnailUrl,imageUrl:ue.imageUrl}))}else C(null),G(null);_(null),a("single"),f("relationship")},[J]),Jn=K.useMemo(()=>{if(!i)return"";const I=i.keys[i.activeProvider];return I||(i.activeProvider==="gemini"?"PLACEHOLDER_API_KEY":"")},[i]),Ko=K.useMemo(()=>i?(i.verifiedProviders||[]).includes(i.activeProvider):!1,[i]),Qo=async(I,Y,ce)=>{if(i){W(!0),he(null);try{const ue=await og(I,Y,i.activeProvider,Jn,ce,J),at=[I.characterName,Y.characterName].sort().join("_"),yt=JSON.parse(localStorage.getItem("psychopersona_manual_relationship_types")||"{}")[at]||"",Lt={...ue,character1Name:I.characterName,character2Name:Y.characterName,analyzedManualType:yt};C(I),G(Y),_(Lt),await le.saveRelationshipResult(I.characterName,Y.characterName,Lt),await ke()}catch(ue){he({message:ue.message,screen:"Relationship Lab"})}finally{W(!1)}}},Wl=async(I,Y=[])=>{if(i){W(!0),he(null);try{const ce=await iN(I,i.activeProvider,Jn,"",Y);J.find(Ne=>Ne.name.trim().toLowerCase()===ce.characterName.trim().toLowerCase())?(h(ce),nt(!0)):(await le.addOrUpdateProfile({id:crypto.randomUUID(),name:ce.characterName,aliases:[],biography:[],analysisData:ce,labels:[],notes:"",hairColor:"#0c0c0cff",eyeColor:"#319497ff",order:J.length}),await ke(),g(ce))}catch(ce){he({message:ce.message,screen:"Analysis"})}finally{W(!1)}}},jl=async()=>{if(!p||!i)return;const I=J.find(Y=>Y.name.trim().toLowerCase()===p.characterName.trim().toLowerCase());if(I){W(!0),he(null);try{const Y=await oN(I,ie,i.activeProvider,Jn);g(Y),await le.addOrUpdateProfile({...I,analysisData:Y}),await ke()}catch(Y){he({message:Y.message,screen:"Re-Analysis"})}finally{W(!1)}}},fn=async()=>{if(!(!T||!M||!i)){W(!0),he(null);try{const Y=[T.characterName,M.characterName].sort().join("_"),ue=JSON.parse(localStorage.getItem("psychopersona_manual_relationship_types")||"{}")[Y]||"";let Ne="";ue&&(ue.startsWith("custom:")?Ne=`  : ${ue.replace("custom:","")}`:Ne=`   : ${{friend:"",family:"",love:"",enemy:"()",awkward:" "}[ue]||ue}`);const at=ie.filter(Xn=>{var Ri;const Ai=((Ri=Xn.characters)==null?void 0:Ri.map($i=>$i.name))||[];return Ai.includes(T.characterName)&&Ai.includes(M.characterName)}),yt=at.length>0?`   :
`+at.map(Xn=>{var Ai;return`[${Xn.date}] ${(Ai=Xn.analysis)==null?void 0:Ai.summary}`}).join(`
`):"",Lt=[Ne,yt].filter(Boolean).join(`

`),$o={...await og(T,M,i.activeProvider,Jn,Lt,J),character1Name:T.characterName,character2Name:M.characterName,analyzedManualType:ue};_($o),await le.saveRelationshipResult(T.characterName,M.characterName,$o),await ke()}catch(I){he({message:I.message,screen:"Relationship Re-Analysis"})}finally{W(!1)}}},lt=I=>{var ue;const Y=(ue=I.target.files)==null?void 0:ue[0];if(!Y)return;const ce=new FileReader;ce.onload=Ne=>{var yt;const at=(yt=Ne.target)==null?void 0:yt.result;Ji(at),localStorage.setItem("hpersona_sidebar_deco_img",at)},ce.readAsDataURL(Y)},ft=I=>{if(!Ut||I.target.closest(".adjust-slider-container, input, textarea, select"))return;Yl(!0);const Y="touches"in I?I.touches[0].clientX:I.clientX,ce="touches"in I?I.touches[0].clientY:I.clientY;Hs(Y),Xl(ce);const[ue,Ne]=Bn.split(" ").map(at=>parseFloat(at)||50);Vs(ue),qs(Ne)},kt=K.useCallback(I=>{if(!Ot||!Xi.current)return;const Y="touches"in I?I.touches[0].clientX:I.clientX,ce="touches"in I?I.touches[0].clientY:I.clientY,ue=Y-gt,Ne=ce-Jo,at=Xi.current.offsetWidth,yt=Xi.current.offsetHeight;let Lt=Math.max(0,Math.min(100,Ei-ue/at*50)),na=Math.max(0,Math.min(100,Yo-Ne/yt*50));Ps(`${Lt}% ${na}%`)},[Ot,gt,Jo,Ei,Yo]),vn=K.useCallback(()=>{Ot&&(Yl(!1),localStorage.setItem("hpersona_sidebar_deco_img_pos",Bn))},[Ot,Bn]);return K.useEffect(()=>(Ot&&(window.addEventListener("mousemove",kt),window.addEventListener("mouseup",vn),window.addEventListener("touchmove",kt),window.addEventListener("touchend",vn)),()=>{window.removeEventListener("mousemove",kt),window.removeEventListener("mouseup",vn),window.removeEventListener("touchmove",kt),window.removeEventListener("touchend",vn)}),[Ot,kt,vn]),i?!Ko&&!qe?H.jsx(XN,{settings:i,onUpdate:Ci}):(Qe==="custom"?ot.accent:(ea=yi[Qe])!=null&&ea.colors.accentPrimary,H.jsxs("div",{className:"h-[100dvh] w-screen overflow-hidden flex flex-col lg:flex-row transition-colors duration-700 font-sans",style:{background:"radial-gradient(ellipse at top left, var(--bg-to), var(--bg-from))",color:"var(--text-primary)"},onTouchStart:zs,onTouchEnd:Qi,children:[H.jsx(zN,{isVisible:ye}),!pg&&U.isOpen&&H.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-fade-in",children:H.jsx("div",{className:"relative w-full max-w-lg glass-panel rounded-[2.5rem] shadow-2xl border border-white/20 animate-bounce-in flex flex-col overflow-hidden",style:{backgroundColor:"var(--glass-bg)",color:"var(--text-primary)"},children:H.jsxs("div",{className:"p-8 flex flex-col items-center text-center space-y-6",children:[H.jsx("div",{className:"p-4 rounded-full bg-indigo-600/20 border border-indigo-500/30 text-indigo-400",children:U.status==="welcome"?H.jsx(hy,{size:40}):H.jsx(NN,{size:40})}),H.jsxs("div",{className:"space-y-2",children:[H.jsxs("h3",{className:"text-2xl font-black",children:[U.status==="available"&&`  v${(ta=U.info)==null?void 0:ta.version} `,U.status==="downloading"&&"  ...",U.status==="downloaded"&&"  ",U.status==="welcome"&&" !"]}),H.jsx("p",{className:"text-sm opacity-60 font-bold",children:U.status==="welcome"?`HarasPersona v${(Zo=U.info)==null?void 0:Zo.version}  .`:"       ."})]}),(U.status==="available"||U.status==="downloaded"||U.status==="welcome")&&((Yn=U.info)==null?void 0:Yn.releaseNotes)&&H.jsxs("div",{className:"w-full text-left bg-black/20 rounded-2xl p-5 border border-white/5 space-y-3",children:[H.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest opacity-40",children:["  v",(Zi=U.info)==null?void 0:Zi.version,"  "]}),H.jsx("div",{className:"text-xs leading-relaxed max-h-40 overflow-y-auto custom-scrollbar font-medium whitespace-pre-wrap",children:(Sn=U.info)!=null&&Sn.releaseNotes?H.jsx("div",{className:"text-sm leading-relaxed font-medium whitespace-pre-wrap opacity-90",children:U.info.releaseNotes}):H.jsx("div",{className:"space-y-3",children:H.jsxs("div",{className:"flex gap-3 items-start",children:[H.jsx("div",{className:"mt-1 p-1 bg-emerald-500/20 rounded text-emerald-400",children:H.jsx(cg,{size:14})}),H.jsx("p",{className:"text-sm font-medium",children:"     ."})]})})})]}),U.status==="downloading"&&H.jsxs("div",{className:"w-full space-y-3",children:[H.jsxs("div",{className:"flex justify-between text-[10px] font-black opacity-40 uppercase",children:[H.jsx("span",{children:"Downloading..."}),H.jsxs("span",{children:[se,"%"]})]}),H.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:H.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-300 shadow-[0_0_10px_rgba(99,102,241,0.5)]",style:{width:`${se}%`}})})]}),H.jsxs("div",{className:"flex flex-col gap-3 w-full pt-4",children:[U.status==="available"&&H.jsx("button",{onClick:cn,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-black rounded-2xl shadow-xl transition-all flex items-center justify-center gap-2",children:"  "}),U.status==="downloaded"&&H.jsxs("button",{onClick:Tt,className:"w-full py-4 bg-emerald-600 hover:bg-emerald-500 text-white font-black rounded-2xl shadow-xl transition-all flex items-center justify-center gap-2",children:[H.jsx(cg,{size:18}),"   "]}),U.status==="welcome"&&H.jsx("button",{onClick:()=>X(I=>({...I,isOpen:!1})),className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-black rounded-2xl shadow-xl transition-all",children:""}),U.status==="available"&&H.jsx("button",{onClick:()=>X(I=>({...I,isOpen:!1})),className:"text-xs opacity-40 font-bold hover:opacity-100 transition-opacity",children:" "})]})]})})}),H.jsxs(K.Suspense,{fallback:null,children:[H.jsx(JN,{error:me,onClose:()=>he(null),onOpenSettings:()=>Re(!0)}),H.jsx(YN,{isOpen:Ye,existingName:(y==null?void 0:y.characterName)||"",onOverwrite:async()=>{const I=J.find(Y=>Y.name.trim().toLowerCase()===y.characterName.trim().toLowerCase());I?await le.addOrUpdateProfile({...I,analysisData:y}):await le.addOrUpdateProfile({id:crypto.randomUUID(),name:y.characterName,aliases:[],biography:[],analysisData:y,labels:[],notes:"",hairColor:"#6366f1",eyeColor:"#ffffff",order:J.length}),await ke(),g(y),h(null),nt(!1)},onRename:async I=>{await le.addOrUpdateProfile({id:crypto.randomUUID(),name:I,aliases:[],biography:[],analysisData:{...y,characterName:I},labels:[],notes:"",hairColor:"#6366f1",eyeColor:"#ffffff",order:J.length}),await ke(),g({...y,characterName:I}),h(null),nt(!1)},onCancel:()=>{nt(!1),h(null)}})]}),k&&(!te||!it)&&H.jsx("div",{className:"fixed inset-0 z-[45] bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>{Rt(!0),On(!0)}}),H.jsx("main",{className:`flex-1 h-full relative overflow-hidden flex flex-col min-w-0 ${k?"w-full":""}`,children:H.jsx("div",{className:"flex-1 h-full overflow-y-auto custom-scrollbar relative",children:H.jsxs(K.Suspense,{fallback:H.jsx("div",{className:"flex items-center justify-center h-full",children:H.jsx(gc,{className:"animate-spin text-indigo-500",size:32})}),children:[o==="narrative"&&H.jsx(FN,{apiKey:Jn,provider:i.activeProvider,savedCharacters:J,onUpdateProfile:Kl,onNavigateToCharacter:I=>{const Y=J.find(ce=>ce.id===I||ce.name===I);Y?(g(Y.analysisData),a("single"),f("list")):(g(null),O(I),a("single"),f("new"))},timezoneOffset:i.timezoneOffset,isSidebarCollapsed:it,setIsSidebarCollapsed:On,isMainSidebarOpen:!te,isMobileUI:k}),o==="single"&&H.jsx("div",{className:"p-4 md:p-8 max-w-7xl mx-auto min-h-full flex flex-col justify-center",children:v&&T&&M?H.jsx(kN,{result:v,char1:T,char2:M,onReset:()=>{_(null),f("relationship")},onReAnalyze:fn,allRelationships:$,onDeleteRelLog:Fn,onUpdateRelLog:Zl}):p?H.jsx(BN,{result:p,onReset:()=>{g(null),f("list")},isSaved:J.some(I=>I.name.trim().toLowerCase()===p.characterName.trim().toLowerCase()),onSave:async()=>{const I=J.find(Y=>Y.name.trim().toLowerCase()===p.characterName.trim().toLowerCase());I&&(await le.addOrUpdateProfile({...I,analysisData:p}),await ke())},onReAnalyze:jl}):H.jsx(KN,{isLoading:ye,savedCharacters:J,savedRelationships:$,narrativeLogs:ie,onSubmitAnalysis:Wl,onSelectCharacter:async I=>{const Y=J.find(ce=>ce.name===I);Y&&g(Y.analysisData)},onUpdateProfile:Kl,onDeleteProfile:Xo,activeTab:r,onTabChange:f,onAnalyzeRelationship:Qo,onNavigateToRelLab:$l,onReorderCharacters:Ql,preSelectedRelChars:T&&M?[T.characterName,M.characterName]:void 0,initialNameForNew:b,onDeleteRelationshipLog:Fn,onUpdateRelationshipLog:Zl})})]})})}),k&&te&&it&&H.jsx("button",{onClick:()=>Rt(!1),className:"fixed top-5 right-1 -translate-y-1/2 z-[60] p-4 text-[var(--accent-primary)] bg-transparent transition-all active:scale-95 animate-fade-in",children:H.jsx(IN,{size:24})}),H.jsxs("nav",{className:`transition-all duration-500 ease-in-out shrink-0 z-50 flex flex-col shadow-2xl ${k?"fixed top-0 right-0 h-[100dvh] w-50 max-w-[85vw] sm:w-64 lg:w-72":"relative h-full border-l lg:border-l"} ${te&&k?"translate-x-full":"translate-x-0"} ${!k&&te?"w-20":"w-72"}`,style:{borderColor:"var(--glass-border)",background:k?"var(--bg-from)":"linear-gradient(to bottom, var(--bg-from), var(--bg-to))"},children:[H.jsxs("div",{className:"lg:hidden flex flex-row items-center justify-between w-full p-4 h-16 shrink-0 bg-[var(--bg-from)] relative z-20",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("button",{onClick:()=>window.location.reload(),className:"p-1.5 rounded-xl bg-[var(--accent-primary)] text-[var(--accent-text)] shadow-lg shrink-0",children:H.jsx(dg,{size:18})}),H.jsx("div",{className:"flex items-center gap-1",children:H.jsx("h1",{className:"font-bold text-xs drop-shadow-sm",style:{color:yn},children:"Haras Persona"})})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("button",{onClick:()=>{a("narrative"),Rt(!0)},className:`p-2 rounded-lg transition-all ${o==="narrative"?"bg-[var(--accent-primary)] text-[var(--accent-text)]":"opacity-60"}`,style:{color:o==="narrative"?"":yn},children:H.jsx(ug,{size:18})}),H.jsx("button",{onClick:()=>{g(null),_(null),C(null),G(null),a("single"),f("list"),O(""),Rt(!0)},className:`p-2 rounded-lg transition-all ${o==="single"?"bg-[var(--accent-primary)] text-[var(--accent-text)]":"opacity-60"}`,style:{color:o==="single"?"":yn},children:H.jsx(fg,{size:18})}),H.jsx("button",{onClick:()=>Rt(!0),className:"p-2 ml-1 opacity-60",style:{color:yn},children:H.jsx(yN,{size:22})})]})]}),H.jsxs("div",{className:"flex flex-col h-full w-full overflow-hidden relative z-10 bg-transparent",children:[H.jsx("div",{className:`h-24 hidden lg:flex items-center border-b transition-all duration-300 ${te?"px-4 justify-center":"px-8"} shrink-0`,style:{borderColor:"var(--glass-border)"},children:H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("button",{onClick:()=>window.location.reload(),className:"p-2 rounded-xl bg-[var(--accent-primary)] text-[var(--accent-text)] shadow-lg shrink-0 cursor-pointer transition-transform hover:scale-110",children:H.jsx(dg,{size:22})}),!te&&H.jsx("h1",{className:"font-bold text-lg leading-tight transition-opacity duration-300 drop-shadow-sm",style:{color:yn},children:"Haras Persona"})]})}),H.jsxs("div",{className:"flex-1 flex flex-col pt-8 overflow-y-auto no-scrollbar relative gap-[10px]",children:[H.jsxs("div",{className:`space-y-2 transition-all duration-300 relative z-20 ${te&&!k?"px-2":"px-4"}`,children:[H.jsxs("button",{onClick:()=>{a("narrative"),k&&Rt(!0)},className:`w-full flex items-center gap-4 p-3 rounded-xl transition-all ${o==="narrative"?"bg-[var(--accent-primary)] text-[var(--accent-text)] shadow-md":"hover:bg-white/5"} ${te&&!k?"justify-center":"justify-start"}`,style:{color:o==="narrative"?"var(--accent-text)":yn},children:[H.jsx(ug,{size:20,className:"shrink-0"})," ",(!te||k)&&H.jsx("span",{className:"font-bold text-sm truncate",children:" "})]}),H.jsxs("button",{onClick:()=>{g(null),_(null),C(null),G(null),a("single"),f("list"),O(""),k&&Rt(!0)},className:`w-full flex items-center gap-4 p-3 rounded-xl transition-all ${o==="single"?"bg-[var(--accent-primary)] text-[var(--accent-text)] shadow-md":"hover:bg-white/5"} ${te&&!k?"justify-center":"justify-start"}`,style:{color:o==="single"?"var(--accent-text)":yn},children:[H.jsx(fg,{size:20,className:"shrink-0"})," ",(!te||k)&&H.jsx("span",{className:"font-bold text-sm truncate",children:" "})]})]}),H.jsx("div",{ref:Xi,onMouseDown:ft,onTouchStart:ft,onClick:()=>{var I;return!Ut&&((I=gn.current)==null?void 0:I.click())},className:`relative flex-1 mt-auto group/deco overflow-hidden transition-all ${Ot?"cursor-grabbing":Ut?"cursor-grab":"cursor-pointer"} ${te&&!k?"max-h-0":"min-h-[200px]"}`,children:Ut&&(!te||k)?H.jsxs("div",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[H.jsx("img",{src:Ut,draggable:!1,className:"absolute inset-0 w-full h-full object-cover select-none",style:{opacity:Yi/100,transform:`scale(${Fo/100})`,transformOrigin:"bottom center",objectPosition:Bn,WebkitMaskImage:"linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.4) 10%, black 20%)"}}),H.jsx("div",{className:"absolute inset-0 pointer-events-none z-10",style:{background:"linear-gradient(to bottom, var(--bg-from) 0%, transparent 20%)"}}),H.jsx("div",{className:`absolute inset-0 flex flex-col items-center justify-center transition-opacity z-20 ${Ot?"opacity-0":"opacity-0 group-hover/deco:opacity-100"} bg-black/30 backdrop-blur-[1px] pointer-events-auto`,children:H.jsxs("div",{className:"flex flex-col gap-3 w-[85%] relative z-50",children:[H.jsxs("div",{className:"adjust-slider-container flex flex-col gap-1.5 p-3 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20",children:[H.jsxs("div",{className:"flex items-center justify-between text-[8px] font-black uppercase tracking-widest text-white/60",children:[H.jsx("span",{children:"Opacity"}),H.jsxs("span",{children:[Yi,"%"]})]}),H.jsx("input",{type:"range",min:"0",max:"100",value:Yi,onChange:I=>{ko(parseInt(I.target.value)),localStorage.setItem("hpersona_sidebar_deco_img_opacity",I.target.value)},onMouseDown:I=>I.stopPropagation(),className:"w-full h-1 bg-white/10 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("button",{onClick:I=>{var Y;I.stopPropagation(),(Y=gn.current)==null||Y.click()},className:"flex-1 p-3 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 text-white shadow-xl hover:bg-white/20 transition-all flex items-center justify-center gap-2",children:H.jsx(hN,{size:18})}),H.jsx("button",{onClick:I=>{I.stopPropagation(),Ji(""),localStorage.removeItem("hpersona_sidebar_deco_img")},className:"p-3 rounded-2xl bg-black/40 text-rose-400 hover:bg-rose-500/20 transition-all shadow-lg border border-rose-500/20",children:H.jsx(VN,{size:18})})]})]})})]}):!te||k?H.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-2 opacity-0 group-hover:opacity-20 transition-opacity border-t-2 border-dashed border-white/10",children:[H.jsx(xN,{size:48}),H.jsx("span",{className:"text-xs font-black uppercase tracking-[0.2em]",children:"Add Image"})]}):null})]}),H.jsxs("div",{className:`border-t space-y-2 shrink-0 flex flex-col transition-all duration-300 relative z-20 bg-transparent ${te&&!k?"px-2 pb-4":"px-4 pb-4"}`,style:{borderColor:"var(--glass-border)"},children:[H.jsxs("button",{onClick:()=>Re(!0),className:`w-full flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition-all ${te&&!k?"justify-center":"justify-start"}`,style:{color:Ki},title:"",children:[H.jsx(GN,{size:20,className:"shrink-0"}),(!te||k)&&H.jsx("span",{className:"font-bold text-sm",children:""})]}),(!te||k)&&H.jsxs("div",{className:"px-4 py-3 space-y-2 border border-white/10 bg-black/5 rounded-2xl mx-1 mb-2 animate-fade-in shadow-inner",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-tight opacity-50",style:{color:Ki},children:[H.jsx(UN,{size:14,className:"text-indigo-400"}),"  "]}),H.jsxs("div",{className:"flex items-center gap-1",children:[H.jsx("input",{type:"number",title:"120%     .",value:j,onChange:I=>fe(I.target.value),onBlur:()=>{let I=parseInt(j.toString());isNaN(I)?I=100:I=Math.max(70,Math.min(150,I)),fe(I),Ci({...i,uiScale:I})},onKeyDown:I=>{I.key==="Enter"&&I.currentTarget.blur()},className:"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none w-12 bg-white/10 border border-white/10 rounded-lg px-1 py-0.5 text-[10px] font-bold text-center outline-none focus:ring-1 focus:ring-indigo-500",style:{color:Ki}}),H.jsx("span",{className:"text-[10px] font-bold opacity-40",children:"%"})]})]}),H.jsx("input",{type:"range",min:"60",max:"150",value:(i==null?void 0:i.uiScale)||100,onChange:I=>Ci({...i,uiScale:parseInt(I.target.value)}),className:"w-full h-1.5 bg-white/10 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),H.jsx("button",{onClick:()=>Rt(!te),className:`w-full hidden lg:flex items-center p-2 rounded-xl hover:bg-black/5 transition-colors ${te&&!k?"justify-center":"justify-end"}`,style:{color:Ki},children:H.jsx("div",{className:`flex items-center gap-2 ${te&&!k?"":"ml-auto"} opacity-50`,children:te&&!k?H.jsx(TN,{size:16}):H.jsx(SN,{size:16})})})]})]}),H.jsx("input",{type:"file",id:"sidebar-img-upload",style:{display:"none"},ref:gn,accept:"image/*",onChange:lt})]}),H.jsx(K.Suspense,{fallback:null,children:H.jsx(ON,{isOpen:qe,onClose:()=>Re(!1),settings:i,onUpdateSettings:Ci,currentTheme:Qe,setTheme:Ti,presets:yi,customColors:ot,setCustomColors:Oo})})]})):H.jsx("div",{className:"h-[100dvh] w-screen flex items-center justify-center bg-slate-900",children:H.jsx(gc,{className:"animate-spin text-indigo-500"})})};le.migrateLegacyData();const yy=document.getElementById("root");if(!yy)throw new Error("Could not find root element to mount to");const ZN=P0.createRoot(yy);ZN.render(H.jsx(gg.StrictMode,{children:H.jsx(QN,{})}));export{WN as A,ug as B,cg as C,NN as D,gc as L,IN as M,xN as P,$N as R,hy as S,VN as T,fg as U,Si as _,UN as a,yN as b,_t as c,le as d,TN as e,SN as f,zN as g,eM as h,hN as i,H as j,GN as k,hg as l,D0 as m,yc as n,gg as o,vs as p,K as r,cy as s,jN as v};
