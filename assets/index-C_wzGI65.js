const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./AnalysisResultView-HKnVg2-s.js","./AnalysisChart-CSuGhAmo.js","./RadarChart-WSvIaYqw.js","./share-2-C1cidaT2.js","./save-1MyjOGRJ.js","./circle-check-PvNHOdUm.js","./check-CnWv8MG4.js","./shield-check-D34JdJmI.js","./SettingsModal-7Z52D3Bj.js","./MessageModal-Bc43eunZ.js","./circle-alert-GAaP9RL_.js","./key-VCUyzfrm.js","./palette-Dqo3fuZ-.js","./RelationshipResultView-C8zAw9XX.js","./zap-Dr0CanHx.js","./NarrativeView-jPGAhNdo.js","./CharacterDetailModal-DrNM4Yex.js","./CharacterNetworkMap-DJ63oPHJ.js","./arrow-right-D6q25A9g.js","./ErrorModal-BaWmsst-.js","./SaveConflictModal-2Z4pPUi1.js","./ApiKeyGuard-CUDxlAHo.js","./CharacterDashboard-B63Q-REV.js"])))=>i.map(i=>d[i]);
function h0(i,t){for(var o=0;o<t.length;o++){const a=t[o];if(typeof a!="string"&&!Array.isArray(a)){for(const r in a)if(r!=="default"&&!(r in i)){const f=Object.getOwnPropertyDescriptor(a,r);f&&Object.defineProperty(i,r,f.get?f:{enumerable:!0,get:()=>a[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function Qh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var _u={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function g0(){if(tm)return ul;tm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return ul.Fragment=t,ul.jsx=o,ul.jsxs=o,ul}var nm;function y0(){return nm||(nm=1,_u.exports=g0()),_u.exports}var Q=y0(),Eu={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function v0(){if(im)return ue;im=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),_=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,b={};function z(M,P,J){this.props=M,this.context=P,this.refs=b,this.updater=J||w}z.prototype.isReactComponent={},z.prototype.setState=function(M,P){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,P,"setState")},z.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function F(){}F.prototype=z.prototype;function B(M,P,J){this.props=M,this.context=P,this.refs=b,this.updater=J||w}var K=B.prototype=new F;K.constructor=B,G(K,z.prototype),K.isPureReactComponent=!0;var ee=Array.isArray;function te(){}var k={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function X(M,P,J){var Z=J.ref;return{$$typeof:i,type:M,key:P,ref:Z!==void 0?Z:null,props:J}}function fe(M,P){return X(M.type,P,M.props)}function Te(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function Le(M){var P={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return P[J]})}var ye=/\/+/g;function Ce(M,P){return typeof M=="object"&&M!==null&&M.key!=null?Le(""+M.key):P.toString(36)}function Ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(te,te):(M.status="pending",M.then(function(P){M.status==="pending"&&(M.status="fulfilled",M.value=P)},function(P){M.status==="pending"&&(M.status="rejected",M.reason=P)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function x(M,P,J,Z,re){var he=typeof M;(he==="undefined"||he==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(he){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case i:case t:Re=!0;break;case v:return Re=M._init,x(Re(M._payload),P,J,Z,re)}}if(Re)return re=re(M),Re=Z===""?"."+Ce(M,0):Z,ee(re)?(J="",Re!=null&&(J=Re.replace(ye,"$&/")+"/"),x(re,P,J,"",function(ei){return ei})):re!=null&&(Te(re)&&(re=fe(re,J+(re.key==null||M&&M.key===re.key?"":(""+re.key).replace(ye,"$&/")+"/")+Re)),P.push(re)),1;Re=0;var je=Z===""?".":Z+":";if(ee(M))for(var ke=0;ke<M.length;ke++)Z=M[ke],he=je+Ce(Z,ke),Re+=x(Z,P,J,he,re);else if(ke=C(M),typeof ke=="function")for(M=ke.call(M),ke=0;!(Z=M.next()).done;)Z=Z.value,he=je+Ce(Z,ke++),Re+=x(Z,P,J,he,re);else if(he==="object"){if(typeof M.then=="function")return x(Ve(M),P,J,Z,re);throw P=String(M),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Re}function O(M,P,J){if(M==null)return M;var Z=[],re=0;return x(M,Z,"","",function(he){return P.call(J,he,re++)}),Z}function ne(M){if(M._status===-1){var P=M._result;P=P(),P.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=P)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ae={map:O,forEach:function(M,P,J){O(M,function(){P.apply(this,arguments)},J)},count:function(M){var P=0;return O(M,function(){P++}),P},toArray:function(M){return O(M,function(P){return P})||[]},only:function(M){if(!Te(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ue.Activity=T,ue.Children=ae,ue.Component=z,ue.Fragment=o,ue.Profiler=r,ue.PureComponent=B,ue.StrictMode=a,ue.Suspense=y,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ue.__COMPILER_RUNTIME={__proto__:null,c:function(M){return k.H.useMemoCache(M)}},ue.cache=function(M){return function(){return M.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(M,P,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Z=G({},M.props),re=M.key;if(P!=null)for(he in P.key!==void 0&&(re=""+P.key),P)!me.call(P,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&P.ref===void 0||(Z[he]=P[he]);var he=arguments.length-2;if(he===1)Z.children=J;else if(1<he){for(var Re=Array(he),je=0;je<he;je++)Re[je]=arguments[je+2];Z.children=Re}return X(M.type,re,Z)},ue.createContext=function(M){return M={$$typeof:p,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},ue.createElement=function(M,P,J){var Z,re={},he=null;if(P!=null)for(Z in P.key!==void 0&&(he=""+P.key),P)me.call(P,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(re[Z]=P[Z]);var Re=arguments.length-2;if(Re===1)re.children=J;else if(1<Re){for(var je=Array(Re),ke=0;ke<Re;ke++)je[ke]=arguments[ke+2];re.children=je}if(M&&M.defaultProps)for(Z in Re=M.defaultProps,Re)re[Z]===void 0&&(re[Z]=Re[Z]);return X(M,he,re)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(M){return{$$typeof:g,render:M}},ue.isValidElement=Te,ue.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ne}},ue.memo=function(M,P){return{$$typeof:h,type:M,compare:P===void 0?null:P}},ue.startTransition=function(M){var P=k.T,J={};k.T=J;try{var Z=M(),re=k.S;re!==null&&re(J,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(te,De)}catch(he){De(he)}finally{P!==null&&J.types!==null&&(P.types=J.types),k.T=P}},ue.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ue.use=function(M){return k.H.use(M)},ue.useActionState=function(M,P,J){return k.H.useActionState(M,P,J)},ue.useCallback=function(M,P){return k.H.useCallback(M,P)},ue.useContext=function(M){return k.H.useContext(M)},ue.useDebugValue=function(){},ue.useDeferredValue=function(M,P){return k.H.useDeferredValue(M,P)},ue.useEffect=function(M,P){return k.H.useEffect(M,P)},ue.useEffectEvent=function(M){return k.H.useEffectEvent(M)},ue.useId=function(){return k.H.useId()},ue.useImperativeHandle=function(M,P,J){return k.H.useImperativeHandle(M,P,J)},ue.useInsertionEffect=function(M,P){return k.H.useInsertionEffect(M,P)},ue.useLayoutEffect=function(M,P){return k.H.useLayoutEffect(M,P)},ue.useMemo=function(M,P){return k.H.useMemo(M,P)},ue.useOptimistic=function(M,P){return k.H.useOptimistic(M,P)},ue.useReducer=function(M,P,J){return k.H.useReducer(M,P,J)},ue.useRef=function(M){return k.H.useRef(M)},ue.useState=function(M){return k.H.useState(M)},ue.useSyncExternalStore=function(M,P,J){return k.H.useSyncExternalStore(M,P,J)},ue.useTransition=function(){return k.H.useTransition()},ue.version="19.2.3",ue}var om;function Fu(){return om||(om=1,Eu.exports=v0()),Eu.exports}var le=Fu();const Zh=Qh(le),wM=h0({__proto__:null,default:Zh},[le]);var Cu={exports:{}},cl={},Au={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function S0(){return lm||(lm=1,(function(i){function t(x,O){var ne=x.length;x.push(O);e:for(;0<ne;){var De=ne-1>>>1,ae=x[De];if(0<r(ae,O))x[De]=O,x[ne]=ae,ne=De;else break e}}function o(x){return x.length===0?null:x[0]}function a(x){if(x.length===0)return null;var O=x[0],ne=x.pop();if(ne!==O){x[0]=ne;e:for(var De=0,ae=x.length,M=ae>>>1;De<M;){var P=2*(De+1)-1,J=x[P],Z=P+1,re=x[Z];if(0>r(J,ne))Z<ae&&0>r(re,J)?(x[De]=re,x[Z]=ne,De=Z):(x[De]=J,x[P]=ne,De=P);else if(Z<ae&&0>r(re,ne))x[De]=re,x[Z]=ne,De=Z;else break e}}return O}function r(x,O){var ne=x.sortIndex-O.sortIndex;return ne!==0?ne:x.id-O.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],v=1,T=null,_=3,C=!1,w=!1,G=!1,b=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function K(x){for(var O=o(h);O!==null;){if(O.callback===null)a(h);else if(O.startTime<=x)a(h),O.sortIndex=O.expirationTime,t(y,O);else break;O=o(h)}}function ee(x){if(G=!1,K(x),!w)if(o(y)!==null)w=!0,te||(te=!0,Le());else{var O=o(h);O!==null&&Ve(ee,O.startTime-x)}}var te=!1,k=-1,me=5,X=-1;function fe(){return b?!0:!(i.unstable_now()-X<me)}function Te(){if(b=!1,te){var x=i.unstable_now();X=x;var O=!0;try{e:{w=!1,G&&(G=!1,F(k),k=-1),C=!0;var ne=_;try{t:{for(K(x),T=o(y);T!==null&&!(T.expirationTime>x&&fe());){var De=T.callback;if(typeof De=="function"){T.callback=null,_=T.priorityLevel;var ae=De(T.expirationTime<=x);if(x=i.unstable_now(),typeof ae=="function"){T.callback=ae,K(x),O=!0;break t}T===o(y)&&a(y),K(x)}else a(y);T=o(y)}if(T!==null)O=!0;else{var M=o(h);M!==null&&Ve(ee,M.startTime-x),O=!1}}break e}finally{T=null,_=ne,C=!1}O=void 0}}finally{O?Le():te=!1}}}var Le;if(typeof B=="function")Le=function(){B(Te)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ce=ye.port2;ye.port1.onmessage=Te,Le=function(){Ce.postMessage(null)}}else Le=function(){z(Te,0)};function Ve(x,O){k=z(function(){x(i.unstable_now())},O)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(x){x.callback=null},i.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<x?Math.floor(1e3/x):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(x){switch(_){case 1:case 2:case 3:var O=3;break;default:O=_}var ne=_;_=O;try{return x()}finally{_=ne}},i.unstable_requestPaint=function(){b=!0},i.unstable_runWithPriority=function(x,O){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var ne=_;_=x;try{return O()}finally{_=ne}},i.unstable_scheduleCallback=function(x,O,ne){var De=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?De+ne:De):ne=De,x){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=ne+ae,x={id:v++,callback:O,priorityLevel:x,startTime:ne,expirationTime:ae,sortIndex:-1},ne>De?(x.sortIndex=ne,t(h,x),o(y)===null&&x===o(h)&&(G?(F(k),k=-1):G=!0,Ve(ee,ne-De))):(x.sortIndex=ae,t(y,x),w||C||(w=!0,te||(te=!0,Le()))),x},i.unstable_shouldYield=fe,i.unstable_wrapCallback=function(x){var O=_;return function(){var ne=_;_=O;try{return x.apply(this,arguments)}finally{_=ne}}}})(Ru)),Ru}var am;function T0(){return am||(am=1,Au.exports=S0()),Au.exports}var Mu={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function _0(){if(sm)return ut;sm=1;var i=Fu();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:h,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ut.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return f(y,h,null,v)},ut.flushSync=function(y){var h=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=h,a.p=v,a.d.f()}},ut.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},ut.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},ut.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:_,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:_,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ut.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},ut.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ut.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},ut.requestFormReset=function(y){a.d.r(y)},ut.unstable_batchedUpdates=function(y,h){return y(h)},ut.useFormState=function(y,h,v){return p.H.useFormState(y,h,v)},ut.useFormStatus=function(){return p.H.useHostTransitionStatus()},ut.version="19.2.3",ut}var rm;function E0(){if(rm)return Mu.exports;rm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Mu.exports=_0(),Mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function C0(){if(um)return cl;um=1;var i=T0(),t=Fu(),o=E0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var S=!1,E=d.child;E;){if(E===l){S=!0,l=d,s=m;break}if(E===s){S=!0,s=d,l=m;break}E=E.sibling}if(!S){for(E=m.child;E;){if(E===l){S=!0,l=m,s=d;break}if(E===s){S=!0,s=m,l=d;break}E=E.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),B=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Symbol.for("react.client.reference");function Ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case z:return"Profiler";case b:return"StrictMode";case ee:return"Suspense";case te:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case B:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return n=e.displayName||null,n!==null?n:Ce(e.type)||"Memo";case me:n=e._payload,e=e._init;try{return Ce(e(n))}catch{}}return null}var Ve=Array.isArray,x=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},De=[],ae=-1;function M(e){return{current:e}}function P(e){0>ae||(e.current=De[ae],De[ae]=null,ae--)}function J(e,n){ae++,De[ae]=e.current,e.current=n}var Z=M(null),re=M(null),he=M(null),Re=M(null);function je(e,n){switch(J(he,n),J(re,e),J(Z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ap(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ap(n),e=Rp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(Z),J(Z,e)}function ke(){P(Z),P(re),P(he)}function ei(e){e.memoizedState!==null&&J(Re,e);var n=Z.current,l=Rp(n,e.type);n!==l&&(J(re,e),J(Z,l))}function _i(e){re.current===e&&(P(Z),P(re)),Re.current===e&&(P(Re),ll._currentValue=ne)}var Zt,go;function W(e){if(Zt===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Zt=n&&n[1]||"",go=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+e+go}var ge=!1;function be(e,n){if(!e||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(L){var U=L}Reflect.construct(e,[],V)}else{try{V.call()}catch(L){U=L}e.call(V.prototype)}}else{try{throw Error()}catch(L){U=L}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(L){if(L&&U&&typeof L.stack=="string")return[L.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),S=m[0],E=m[1];if(S&&E){var A=S.split(`
`),D=E.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<D.length&&!D[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===D.length)for(s=A.length-1,d=D.length-1;1<=s&&0<=d&&A[s]!==D[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==D[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==D[d]){var H=`
`+A[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=d);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?W(l):""}function $t(e,n){switch(e.tag){case 26:case 27:case 5:return W(e.type);case 16:return W("Lazy");case 13:return e.child!==n&&n!==null?W("Suspense Fallback"):W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return be(e.type,!1);case 11:return be(e.type.render,!1);case 1:return be(e.type,!0);case 31:return W("Activity");default:return""}}function kt(e){try{var n="",l=null;do n+=$t(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var as=Object.prototype.hasOwnProperty,ss=i.unstable_scheduleCallback,rs=i.unstable_cancelCallback,Kg=i.unstable_shouldYield,Xg=i.unstable_requestPaint,_t=i.unstable_now,Qg=i.unstable_getCurrentPriorityLevel,tc=i.unstable_ImmediatePriority,nc=i.unstable_UserBlockingPriority,yl=i.unstable_NormalPriority,Zg=i.unstable_LowPriority,ic=i.unstable_IdlePriority,$g=i.log,Wg=i.unstable_setDisableYieldValue,yo=null,Et=null;function Mn(e){if(typeof $g=="function"&&Wg(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(yo,e)}catch{}}var Ct=Math.clz32?Math.clz32:ty,jg=Math.log,ey=Math.LN2;function ty(e){return e>>>=0,e===0?32:31-(jg(e)/ey|0)|0}var vl=256,Sl=262144,Tl=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _l(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~m,s!==0?d=ti(s):(S&=E,S!==0?d=ti(S):l||(l=E&~e,l!==0&&(d=ti(l))))):(E=s&~m,E!==0?d=ti(E):S!==0?d=ti(S):l||(l=s&~e,l!==0&&(d=ti(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function vo(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ny(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oc(){var e=Tl;return Tl<<=1,(Tl&62914560)===0&&(Tl=4194304),e}function us(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function So(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function iy(e,n,l,s,d,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var E=e.entanglements,A=e.expirationTimes,D=e.hiddenUpdates;for(l=S&~l;0<l;){var H=31-Ct(l),V=1<<H;E[H]=0,A[H]=-1;var U=D[H];if(U!==null)for(D[H]=null,H=0;H<U.length;H++){var L=U[H];L!==null&&(L.lane&=-536870913)}l&=~V}s!==0&&lc(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function lc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Ct(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function ac(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Ct(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function sc(e,n){var l=n&-n;return l=(l&42)!==0?1:cs(l),(l&(e.suspendedLanes|n))!==0?0:l}function cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rc(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:Xp(e.type))}function uc(e,n){var l=O.p;try{return O.p=e,n()}finally{O.p=l}}var Nn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Nn,mt="__reactProps$"+Nn,Ei="__reactContainer$"+Nn,ds="__reactEvents$"+Nn,oy="__reactListeners$"+Nn,ly="__reactHandles$"+Nn,cc="__reactResources$"+Nn,To="__reactMarker$"+Nn;function ps(e){delete e[ot],delete e[mt],delete e[ds],delete e[oy],delete e[ly]}function Ci(e){var n=e[ot];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Ei]||l[ot]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Up(e);e!==null;){if(l=e[ot])return l;e=Up(e)}return n}e=l,l=e.parentNode}return null}function Ai(e){if(e=e[ot]||e[Ei]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function _o(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ri(e){var n=e[cc];return n||(n=e[cc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function tt(e){e[To]=!0}var fc=new Set,dc={};function ni(e,n){Mi(e,n),Mi(e+"Capture",n)}function Mi(e,n){for(dc[e]=n,e=0;e<n.length;e++)fc.add(n[e])}var ay=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pc={},mc={};function sy(e){return as.call(mc,e)?!0:as.call(pc,e)?!1:ay.test(e)?mc[e]=!0:(pc[e]=!0,!1)}function El(e,n,l){if(sy(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Cl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function ln(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ry(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ms(e){if(!e._valueTracker){var n=hc(e)?"checked":"value";e._valueTracker=ry(e,n,""+e[n])}}function gc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=hc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function Al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uy=/[\n"\\]/g;function Ut(e){return e.replace(uy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hs(e,n,l,s,d,m,S,E){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bt(n)):e.value!==""+bt(n)&&(e.value=""+bt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?gs(e,S,bt(n)):l!=null?gs(e,S,bt(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+bt(E):e.removeAttribute("name")}function yc(e,n,l,s,d,m,S,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){ms(e);return}l=l!=null?""+bt(l):"",n=n!=null?""+bt(n):l,E||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ms(e)}function gs(e,n,l){n==="number"&&Al(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ni(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+bt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function vc(e,n,l){if(n!=null&&(n=""+bt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+bt(l):""}function Sc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(Ve(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=bt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ms(e)}function Ii(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var cy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||cy.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function _c(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&Tc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&Tc(e,m,n[m])}function ys(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rl(e){return dy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function an(){}var vs=null;function Ss(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,wi=null;function Ec(e){var n=Ai(e);if(n&&(e=n.stateNode)){var l=e[mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(hs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ut(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[mt]||null;if(!d)throw Error(a(90));hs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&gc(s)}break e;case"textarea":vc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ni(e,!!l.multiple,n,!1)}}}var Ts=!1;function Cc(e,n,l){if(Ts)return e(n,l);Ts=!0;try{var s=e(n);return s}finally{if(Ts=!1,(Di!==null||wi!==null)&&(da(),Di&&(n=Di,e=wi,wi=Di=null,Ec(n),e)))for(n=0;n<e.length;n++)Ec(e[n])}}function Eo(e,n){var l=e.stateNode;if(l===null)return null;var s=l[mt]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(sn)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){_s=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{_s=!1}var In=null,Es=null,Ml=null;function Ac(){if(Ml)return Ml;var e,n=Es,l=n.length,s,d="value"in In?In.value:In.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var S=l-e;for(s=1;s<=S&&n[l-s]===d[m-s];s++);return Ml=d.slice(e,1<s?1-s:void 0)}function Nl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function Rc(){return!1}function ht(e){function n(l,s,d,m,S){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(l=e[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Il:Rc,this.isPropagationStopped=Rc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),n}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=ht(ii),Ao=T({},ii,{view:0,detail:0}),py=ht(Ao),Cs,As,Ro,wl=T({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ro&&(Ro&&e.type==="mousemove"?(Cs=e.screenX-Ro.screenX,As=e.screenY-Ro.screenY):As=Cs=0,Ro=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:As}}),Mc=ht(wl),my=T({},wl,{dataTransfer:0}),hy=ht(my),gy=T({},Ao,{relatedTarget:0}),Rs=ht(gy),yy=T({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),vy=ht(yy),Sy=T({},ii,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ty=ht(Sy),_y=T({},ii,{data:0}),Nc=ht(_y),Ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ry(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ay[e])?!!n[e]:!1}function Ms(){return Ry}var My=T({},Ao,{key:function(e){if(e.key){var n=Ey[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ny=ht(My),Iy=T({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=ht(Iy),Dy=T({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),wy=ht(Dy),by=T({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uy=ht(by),xy=T({},wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ly=ht(xy),Gy=T({},ii,{newState:0,oldState:0}),Hy=ht(Gy),Py=[9,13,27,32],Ns=sn&&"CompositionEvent"in window,Mo=null;sn&&"documentMode"in document&&(Mo=document.documentMode);var qy=sn&&"TextEvent"in window&&!Mo,Dc=sn&&(!Ns||Mo&&8<Mo&&11>=Mo),wc=" ",bc=!1;function Uc(e,n){switch(e){case"keyup":return Py.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bi=!1;function Vy(e,n){switch(e){case"compositionend":return xc(n);case"keypress":return n.which!==32?null:(bc=!0,wc);case"textInput":return e=n.data,e===wc&&bc?null:e;default:return null}}function zy(e,n){if(bi)return e==="compositionend"||!Ns&&Uc(e,n)?(e=Ac(),Ml=Es=In=null,bi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Dc&&n.locale!=="ko"?null:n.data;default:return null}}var By={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!By[e.type]:n==="textarea"}function Gc(e,n,l,s){Di?wi?wi.push(s):wi=[s]:Di=s,n=Sa(n,"onChange"),0<n.length&&(l=new Dl("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var No=null,Io=null;function Oy(e){vp(e,0)}function bl(e){var n=_o(e);if(gc(n))return e}function Hc(e,n){if(e==="change")return n}var Pc=!1;if(sn){var Is;if(sn){var Ds="oninput"in document;if(!Ds){var qc=document.createElement("div");qc.setAttribute("oninput","return;"),Ds=typeof qc.oninput=="function"}Is=Ds}else Is=!1;Pc=Is&&(!document.documentMode||9<document.documentMode)}function Vc(){No&&(No.detachEvent("onpropertychange",zc),Io=No=null)}function zc(e){if(e.propertyName==="value"&&bl(Io)){var n=[];Gc(n,Io,e,Ss(e)),Cc(Oy,n)}}function ky(e,n,l){e==="focusin"?(Vc(),No=n,Io=l,No.attachEvent("onpropertychange",zc)):e==="focusout"&&Vc()}function Fy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bl(Io)}function Jy(e,n){if(e==="click")return bl(n)}function Yy(e,n){if(e==="input"||e==="change")return bl(n)}function Ky(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var At=typeof Object.is=="function"?Object.is:Ky;function Do(e,n){if(At(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!as.call(n,d)||!At(e[d],n[d]))return!1}return!0}function Bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Oc(e,n){var l=Bc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Bc(l)}}function kc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Fc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Al(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Al(e.document)}return n}function ws(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Xy=sn&&"documentMode"in document&&11>=document.documentMode,Ui=null,bs=null,wo=null,Us=!1;function Jc(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Us||Ui==null||Ui!==Al(s)||(s=Ui,"selectionStart"in s&&ws(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),wo&&Do(wo,s)||(wo=s,s=Sa(bs,"onSelect"),0<s.length&&(n=new Dl("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=Ui)))}function oi(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var xi={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},xs={},Yc={};sn&&(Yc=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function li(e){if(xs[e])return xs[e];if(!xi[e])return e;var n=xi[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Yc)return xs[e]=n[l];return e}var Kc=li("animationend"),Xc=li("animationiteration"),Qc=li("animationstart"),Qy=li("transitionrun"),Zy=li("transitionstart"),$y=li("transitioncancel"),Zc=li("transitionend"),$c=new Map,Ls="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ls.push("scrollEnd");function Ft(e,n){$c.set(e,n),ni(n,[e])}var Ul=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xt=[],Li=0,Gs=0;function xl(){for(var e=Li,n=Gs=Li=0;n<e;){var l=xt[n];xt[n++]=null;var s=xt[n];xt[n++]=null;var d=xt[n];xt[n++]=null;var m=xt[n];if(xt[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}m!==0&&Wc(l,d,m)}}function Ll(e,n,l,s){xt[Li++]=e,xt[Li++]=n,xt[Li++]=l,xt[Li++]=s,Gs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Hs(e,n,l,s){return Ll(e,n,l,s),Gl(e)}function ai(e,n){return Ll(e,null,null,n),Gl(e)}function Wc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-Ct(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),m):null}function Gl(e){if(50<Wo)throw Wo=0,Jr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Gi={};function Wy(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,l,s){return new Wy(e,n,l,s)}function Ps(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rn(e,n){var l=e.alternate;return l===null?(l=Rt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function jc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hl(e,n,l,s,d,m){var S=0;if(s=e,typeof e=="function")Ps(e)&&(S=1);else if(typeof e=="string")S=i0(e,l,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=Rt(31,l,n,d),e.elementType=X,e.lanes=m,e;case G:return si(l.children,d,m,n);case b:S=8,d|=24;break;case z:return e=Rt(12,l,n,d|2),e.elementType=z,e.lanes=m,e;case ee:return e=Rt(13,l,n,d),e.elementType=ee,e.lanes=m,e;case te:return e=Rt(19,l,n,d),e.elementType=te,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:S=10;break e;case F:S=9;break e;case K:S=11;break e;case k:S=14;break e;case me:S=16,s=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Rt(S,l,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function si(e,n,l,s){return e=Rt(7,e,s,n),e.lanes=l,e}function qs(e,n,l){return e=Rt(6,e,null,n),e.lanes=l,e}function ef(e){var n=Rt(18,null,null,0);return n.stateNode=e,n}function Vs(e,n,l){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var tf=new WeakMap;function Lt(e,n){if(typeof e=="object"&&e!==null){var l=tf.get(e);return l!==void 0?l:(n={value:e,source:n,stack:kt(n)},tf.set(e,n),n)}return{value:e,source:n,stack:kt(n)}}var Hi=[],Pi=0,Pl=null,bo=0,Gt=[],Ht=0,Dn=null,Wt=1,jt="";function un(e,n){Hi[Pi++]=bo,Hi[Pi++]=Pl,Pl=e,bo=n}function nf(e,n,l){Gt[Ht++]=Wt,Gt[Ht++]=jt,Gt[Ht++]=Dn,Dn=e;var s=Wt;e=jt;var d=32-Ct(s)-1;s&=~(1<<d),l+=1;var m=32-Ct(n)+d;if(30<m){var S=d-d%5;m=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Wt=1<<32-Ct(n)+d|l<<d|s,jt=m+e}else Wt=1<<m|l<<d|s,jt=e}function zs(e){e.return!==null&&(un(e,1),nf(e,1,0))}function Bs(e){for(;e===Pl;)Pl=Hi[--Pi],Hi[Pi]=null,bo=Hi[--Pi],Hi[Pi]=null;for(;e===Dn;)Dn=Gt[--Ht],Gt[Ht]=null,jt=Gt[--Ht],Gt[Ht]=null,Wt=Gt[--Ht],Gt[Ht]=null}function of(e,n){Gt[Ht++]=Wt,Gt[Ht++]=jt,Gt[Ht++]=Dn,Wt=n.id,jt=n.overflow,Dn=e}var lt=null,ze=null,Ae=!1,wn=null,Pt=!1,Os=Error(a(519));function bn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Lt(n,e)),Os}function lf(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[ot]=e,n[mt]=s,l){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(l=0;l<el.length;l++)Se(el[l],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Se("invalid",n),yc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Se("invalid",n);break;case"textarea":Se("invalid",n),Sc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||Ep(n.textContent,l)?(s.popover!=null&&(Se("beforetoggle",n),Se("toggle",n)),s.onScroll!=null&&Se("scroll",n),s.onScrollEnd!=null&&Se("scrollend",n),s.onClick!=null&&(n.onclick=an),n=!0):n=!1,n||bn(e,!0)}function af(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:lt=lt.return}}function qi(e){if(e!==lt)return!1;if(!Ae)return af(e),Ae=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||au(e.type,e.memoizedProps)),l=!l),l&&ze&&bn(e),af(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ze=bp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ze=bp(e)}else n===27?(n=ze,Jn(e.type)?(e=fu,fu=null,ze=e):ze=n):ze=lt?Vt(e.stateNode.nextSibling):null;return!0}function ri(){ze=lt=null,Ae=!1}function ks(){var e=wn;return e!==null&&(St===null?St=e:St.push.apply(St,e),wn=null),e}function Uo(e){wn===null?wn=[e]:wn.push(e)}var Fs=M(null),ui=null,cn=null;function Un(e,n,l){J(Fs,n._currentValue),n._currentValue=l}function fn(e){e._currentValue=Fs.current,P(Fs)}function Js(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Ys(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var A=0;A<n.length;A++)if(E.context===n[A]){m.lanes|=l,E=m.alternate,E!==null&&(E.lanes|=l),Js(m.return,l,e),s||(S=null);break e}m=E.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),Js(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Vi(e,n,l,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var E=d.type;At(d.pendingProps.value,S.value)||(e!==null?e.push(E):e=[E])}}else if(d===Re.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}d=d.return}e!==null&&Ys(n,e,l,s),n.flags|=262144}function ql(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ci(e){ui=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return sf(ui,e)}function Vl(e,n){return ui===null&&ci(e),sf(e,n)}function sf(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},cn===null){if(e===null)throw Error(a(308));cn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else cn=cn.next=n;return l}var jy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},ev=i.unstable_scheduleCallback,tv=i.unstable_NormalPriority,Qe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ks(){return{controller:new jy,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&ev(tv,function(){e.controller.abort()})}var Lo=null,Xs=0,zi=0,Bi=null;function nv(e,n){if(Lo===null){var l=Lo=[];Xs=0,zi=$r(),Bi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Xs++,n.then(rf,rf),n}function rf(){if(--Xs===0&&Lo!==null){Bi!==null&&(Bi.status="fulfilled");var e=Lo;Lo=null,zi=0,Bi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function iv(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var uf=x.S;x.S=function(e,n){Yd=_t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&nv(e,n),uf!==null&&uf(e,n)};var fi=M(null);function Qs(){var e=fi.current;return e!==null?e:qe.pooledCache}function zl(e,n){n===null?J(fi,fi.current):J(fi,n.pool)}function cf(){var e=Qs();return e===null?null:{parent:Qe._currentValue,pool:e}}var Oi=Error(a(460)),Zs=Error(a(474)),Bl=Error(a(542)),Ol={then:function(){}};function ff(e){return e=e.status,e==="fulfilled"||e==="rejected"}function df(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(an,an),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mf(e),e;default:if(typeof n.status=="string")n.then(an,an);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mf(e),e}throw pi=n,Oi}}function di(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(pi=l,Oi):l}}var pi=null;function pf(){if(pi===null)throw Error(a(459));var e=pi;return pi=null,e}function mf(e){if(e===Oi||e===Bl)throw Error(a(483))}var ki=null,Go=0;function kl(e){var n=Go;return Go+=1,ki===null&&(ki=[]),df(ki,e,n)}function Ho(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Fl(e,n){throw n.$$typeof===_?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hf(e){function n(N,R){if(e){var I=N.deletions;I===null?(N.deletions=[R],N.flags|=16):I.push(R)}}function l(N,R){if(!e)return null;for(;R!==null;)n(N,R),R=R.sibling;return null}function s(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function d(N,R){return N=rn(N,R),N.index=0,N.sibling=null,N}function m(N,R,I){return N.index=I,e?(I=N.alternate,I!==null?(I=I.index,I<R?(N.flags|=67108866,R):I):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function S(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function E(N,R,I,q){return R===null||R.tag!==6?(R=qs(I,N.mode,q),R.return=N,R):(R=d(R,I),R.return=N,R)}function A(N,R,I,q){var ie=I.type;return ie===G?H(N,R,I.props.children,q,I.key):R!==null&&(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===me&&di(ie)===R.type)?(R=d(R,I.props),Ho(R,I),R.return=N,R):(R=Hl(I.type,I.key,I.props,null,N.mode,q),Ho(R,I),R.return=N,R)}function D(N,R,I,q){return R===null||R.tag!==4||R.stateNode.containerInfo!==I.containerInfo||R.stateNode.implementation!==I.implementation?(R=Vs(I,N.mode,q),R.return=N,R):(R=d(R,I.children||[]),R.return=N,R)}function H(N,R,I,q,ie){return R===null||R.tag!==7?(R=si(I,N.mode,q,ie),R.return=N,R):(R=d(R,I),R.return=N,R)}function V(N,R,I){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=qs(""+R,N.mode,I),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case C:return I=Hl(R.type,R.key,R.props,null,N.mode,I),Ho(I,R),I.return=N,I;case w:return R=Vs(R,N.mode,I),R.return=N,R;case me:return R=di(R),V(N,R,I)}if(Ve(R)||Le(R))return R=si(R,N.mode,I,null),R.return=N,R;if(typeof R.then=="function")return V(N,kl(R),I);if(R.$$typeof===B)return V(N,Vl(N,R),I);Fl(N,R)}return null}function U(N,R,I,q){var ie=R!==null?R.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ie!==null?null:E(N,R,""+I,q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return I.key===ie?A(N,R,I,q):null;case w:return I.key===ie?D(N,R,I,q):null;case me:return I=di(I),U(N,R,I,q)}if(Ve(I)||Le(I))return ie!==null?null:H(N,R,I,q,null);if(typeof I.then=="function")return U(N,R,kl(I),q);if(I.$$typeof===B)return U(N,R,Vl(N,I),q);Fl(N,I)}return null}function L(N,R,I,q,ie){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return N=N.get(I)||null,E(R,N,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return N=N.get(q.key===null?I:q.key)||null,A(R,N,q,ie);case w:return N=N.get(q.key===null?I:q.key)||null,D(R,N,q,ie);case me:return q=di(q),L(N,R,I,q,ie)}if(Ve(q)||Le(q))return N=N.get(I)||null,H(R,N,q,ie,null);if(typeof q.then=="function")return L(N,R,I,kl(q),ie);if(q.$$typeof===B)return L(N,R,I,Vl(R,q),ie);Fl(R,q)}return null}function $(N,R,I,q){for(var ie=null,Me=null,j=R,pe=R=0,Ee=null;j!==null&&pe<I.length;pe++){j.index>pe?(Ee=j,j=null):Ee=j.sibling;var Ne=U(N,j,I[pe],q);if(Ne===null){j===null&&(j=Ee);break}e&&j&&Ne.alternate===null&&n(N,j),R=m(Ne,R,pe),Me===null?ie=Ne:Me.sibling=Ne,Me=Ne,j=Ee}if(pe===I.length)return l(N,j),Ae&&un(N,pe),ie;if(j===null){for(;pe<I.length;pe++)j=V(N,I[pe],q),j!==null&&(R=m(j,R,pe),Me===null?ie=j:Me.sibling=j,Me=j);return Ae&&un(N,pe),ie}for(j=s(j);pe<I.length;pe++)Ee=L(j,N,pe,I[pe],q),Ee!==null&&(e&&Ee.alternate!==null&&j.delete(Ee.key===null?pe:Ee.key),R=m(Ee,R,pe),Me===null?ie=Ee:Me.sibling=Ee,Me=Ee);return e&&j.forEach(function(Zn){return n(N,Zn)}),Ae&&un(N,pe),ie}function oe(N,R,I,q){if(I==null)throw Error(a(151));for(var ie=null,Me=null,j=R,pe=R=0,Ee=null,Ne=I.next();j!==null&&!Ne.done;pe++,Ne=I.next()){j.index>pe?(Ee=j,j=null):Ee=j.sibling;var Zn=U(N,j,Ne.value,q);if(Zn===null){j===null&&(j=Ee);break}e&&j&&Zn.alternate===null&&n(N,j),R=m(Zn,R,pe),Me===null?ie=Zn:Me.sibling=Zn,Me=Zn,j=Ee}if(Ne.done)return l(N,j),Ae&&un(N,pe),ie;if(j===null){for(;!Ne.done;pe++,Ne=I.next())Ne=V(N,Ne.value,q),Ne!==null&&(R=m(Ne,R,pe),Me===null?ie=Ne:Me.sibling=Ne,Me=Ne);return Ae&&un(N,pe),ie}for(j=s(j);!Ne.done;pe++,Ne=I.next())Ne=L(j,N,pe,Ne.value,q),Ne!==null&&(e&&Ne.alternate!==null&&j.delete(Ne.key===null?pe:Ne.key),R=m(Ne,R,pe),Me===null?ie=Ne:Me.sibling=Ne,Me=Ne);return e&&j.forEach(function(m0){return n(N,m0)}),Ae&&un(N,pe),ie}function Pe(N,R,I,q){if(typeof I=="object"&&I!==null&&I.type===G&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case C:e:{for(var ie=I.key;R!==null;){if(R.key===ie){if(ie=I.type,ie===G){if(R.tag===7){l(N,R.sibling),q=d(R,I.props.children),q.return=N,N=q;break e}}else if(R.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===me&&di(ie)===R.type){l(N,R.sibling),q=d(R,I.props),Ho(q,I),q.return=N,N=q;break e}l(N,R);break}else n(N,R);R=R.sibling}I.type===G?(q=si(I.props.children,N.mode,q,I.key),q.return=N,N=q):(q=Hl(I.type,I.key,I.props,null,N.mode,q),Ho(q,I),q.return=N,N=q)}return S(N);case w:e:{for(ie=I.key;R!==null;){if(R.key===ie)if(R.tag===4&&R.stateNode.containerInfo===I.containerInfo&&R.stateNode.implementation===I.implementation){l(N,R.sibling),q=d(R,I.children||[]),q.return=N,N=q;break e}else{l(N,R);break}else n(N,R);R=R.sibling}q=Vs(I,N.mode,q),q.return=N,N=q}return S(N);case me:return I=di(I),Pe(N,R,I,q)}if(Ve(I))return $(N,R,I,q);if(Le(I)){if(ie=Le(I),typeof ie!="function")throw Error(a(150));return I=ie.call(I),oe(N,R,I,q)}if(typeof I.then=="function")return Pe(N,R,kl(I),q);if(I.$$typeof===B)return Pe(N,R,Vl(N,I),q);Fl(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,R!==null&&R.tag===6?(l(N,R.sibling),q=d(R,I),q.return=N,N=q):(l(N,R),q=qs(I,N.mode,q),q.return=N,N=q),S(N)):l(N,R)}return function(N,R,I,q){try{Go=0;var ie=Pe(N,R,I,q);return ki=null,ie}catch(j){if(j===Oi||j===Bl)throw j;var Me=Rt(29,j,null,N.mode);return Me.lanes=q,Me.return=N,Me}finally{}}}var mi=hf(!0),gf=hf(!1),xn=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ws(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ln(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(we&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Gl(e),Wc(e,null,l),n}return Ll(e,s,n,l),Gl(e)}function Po(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,ac(e,l)}}function js(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var er=!1;function qo(){if(er){var e=Bi;if(e!==null)throw e}}function Vo(e,n,l,s){er=!1;var d=e.updateQueue;xn=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,D=A.next;A.next=null,S===null?m=D:S.next=D,S=A;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==S&&(E===null?H.firstBaseUpdate=D:E.next=D,H.lastBaseUpdate=A))}if(m!==null){var V=d.baseState;S=0,H=D=A=null,E=m;do{var U=E.lane&-536870913,L=U!==E.lane;if(L?(_e&U)===U:(s&U)===U){U!==0&&U===zi&&(er=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var $=e,oe=E;U=n;var Pe=l;switch(oe.tag){case 1:if($=oe.payload,typeof $=="function"){V=$.call(Pe,V,U);break e}V=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=oe.payload,U=typeof $=="function"?$.call(Pe,V,U):$,U==null)break e;V=T({},V,U);break e;case 2:xn=!0}}U=E.callback,U!==null&&(e.flags|=64,L&&(e.flags|=8192),L=d.callbacks,L===null?d.callbacks=[U]:L.push(U))}else L={lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(D=H=L,A=V):H=H.next=L,S|=U;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;L=E,E=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);H===null&&(A=V),d.baseState=A,d.firstBaseUpdate=D,d.lastBaseUpdate=H,m===null&&(d.shared.lanes=0),zn|=S,e.lanes=S,e.memoizedState=V}}function yf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function vf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)yf(l[e],n)}var Fi=M(null),Jl=M(0);function Sf(e,n){e=Tn,J(Jl,e),J(Fi,n),Tn=e|n.baseLanes}function tr(){J(Jl,Tn),J(Fi,Fi.current)}function nr(){Tn=Jl.current,P(Fi),P(Jl)}var Mt=M(null),qt=null;function Hn(e){var n=e.alternate;J(Ke,Ke.current&1),J(Mt,e),qt===null&&(n===null||Fi.current!==null||n.memoizedState!==null)&&(qt=e)}function ir(e){J(Ke,Ke.current),J(Mt,e),qt===null&&(qt=e)}function Tf(e){e.tag===22?(J(Ke,Ke.current),J(Mt,e),qt===null&&(qt=e)):Pn()}function Pn(){J(Ke,Ke.current),J(Mt,Mt.current)}function Nt(e){P(Mt),qt===e&&(qt=null),P(Ke)}var Ke=M(0);function Yl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||uu(l)||cu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var dn=0,de=null,Ge=null,Ze=null,Kl=!1,Ji=!1,hi=!1,Xl=0,zo=0,Yi=null,ov=0;function Fe(){throw Error(a(321))}function or(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!At(e[l],n[l]))return!1;return!0}function lr(e,n,l,s,d,m){return dn=m,de=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,x.H=e===null||e.memoizedState===null?id:Tr,hi=!1,m=l(s,d),hi=!1,Ji&&(m=Ef(n,l,s,d)),_f(e),m}function _f(e){x.H=ko;var n=Ge!==null&&Ge.next!==null;if(dn=0,Ze=Ge=de=null,Kl=!1,zo=0,Yi=null,n)throw Error(a(300));e===null||$e||(e=e.dependencies,e!==null&&ql(e)&&($e=!0))}function Ef(e,n,l,s){de=e;var d=0;do{if(Ji&&(Yi=null),zo=0,Ji=!1,25<=d)throw Error(a(301));if(d+=1,Ze=Ge=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}x.H=od,m=n(l,s)}while(Ji);return m}function lv(){var e=x.H,n=e.useState()[0];return n=typeof n.then=="function"?Bo(n):n,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(de.flags|=1024),n}function ar(){var e=Xl!==0;return Xl=0,e}function sr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function rr(e){if(Kl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Kl=!1}dn=0,Ze=Ge=de=null,Ji=!1,zo=Xl=0,Yi=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?de.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Xe(){if(Ge===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var n=Ze===null?de.memoizedState:Ze.next;if(n!==null)Ze=n,Ge=e;else{if(e===null)throw de.alternate===null?Error(a(467)):Error(a(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ze===null?de.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var n=zo;return zo+=1,Yi===null&&(Yi=[]),e=df(Yi,e,n),n=de,(Ze===null?n.memoizedState:Ze.next)===null&&(n=n.alternate,x.H=n===null||n.memoizedState===null?id:Tr),e}function Zl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===B)return at(e)}throw Error(a(438,String(e)))}function ur(e){var n=null,l=de.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=de.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Ql(),de.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=fe;return n.index++,l}function pn(e,n){return typeof n=="function"?n(e):n}function $l(e){var n=Xe();return cr(n,Ge,e)}function cr(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var E=S=null,A=null,D=n,H=!1;do{var V=D.lane&-536870913;if(V!==D.lane?(_e&V)===V:(dn&V)===V){var U=D.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),V===zi&&(H=!0);else if((dn&U)===U){D=D.next,U===zi&&(H=!0);continue}else V={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(E=A=V,S=m):A=A.next=V,de.lanes|=U,zn|=U;V=D.action,hi&&l(m,V),m=D.hasEagerState?D.eagerState:l(m,V)}else U={lane:V,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},A===null?(E=A=U,S=m):A=A.next=U,de.lanes|=V,zn|=V;D=D.next}while(D!==null&&D!==n);if(A===null?S=m:A.next=E,!At(m,e.memoizedState)&&($e=!0,H&&(l=Bi,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function fr(e){var n=Xe(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do m=e(m,S.action),S=S.next;while(S!==d);At(m,n.memoizedState)||($e=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function Cf(e,n,l){var s=de,d=Xe(),m=Ae;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var S=!At((Ge||d).memoizedState,l);if(S&&(d.memoizedState=l,$e=!0),d=d.queue,mr(Mf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Ze!==null&&Ze.memoizedState.tag&1){if(s.flags|=2048,Ki(9,{destroy:void 0},Rf.bind(null,s,d,l,n),null),qe===null)throw Error(a(349));m||(dn&127)!==0||Af(s,n,l)}return l}function Af(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=de.updateQueue,n===null?(n=Ql(),de.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Rf(e,n,l,s){n.value=l,n.getSnapshot=s,Nf(n)&&If(e)}function Mf(e,n,l){return l(function(){Nf(n)&&If(e)})}function Nf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!At(e,l)}catch{return!0}}function If(e){var n=ai(e,2);n!==null&&Tt(n,e,2)}function dr(e){var n=ft();if(typeof e=="function"){var l=e;if(e=l(),hi){Mn(!0);try{l()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:e},n}function Df(e,n,l,s){return e.baseState=l,cr(e,Ge,typeof s=="function"?s:pn)}function av(e,n,l,s,d){if(ea(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};x.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,wf(n,m)):(m.next=l.next,n.pending=l.next=m)}}function wf(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=x.T,S={};x.T=S;try{var E=l(d,s),A=x.S;A!==null&&A(S,E),bf(e,n,E)}catch(D){pr(e,n,D)}finally{m!==null&&S.types!==null&&(m.types=S.types),x.T=m}}else try{m=l(d,s),bf(e,n,m)}catch(D){pr(e,n,D)}}function bf(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Uf(e,n,s)},function(s){return pr(e,n,s)}):Uf(e,n,l)}function Uf(e,n,l){n.status="fulfilled",n.value=l,xf(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,wf(e,l)))}function pr(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,xf(n),n=n.next;while(n!==s)}e.action=null}function xf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Lf(e,n){return n}function Gf(e,n){if(Ae){var l=qe.formState;if(l!==null){e:{var s=de;if(Ae){if(ze){t:{for(var d=ze,m=Pt;d.nodeType!==8;){if(!m){d=null;break t}if(d=Vt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){ze=Vt(d.nextSibling),s=d.data==="F!";break e}}bn(s)}s=!1}s&&(n=l[0])}}return l=ft(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:n},l.queue=s,l=ed.bind(null,de,s),s.dispatch=l,s=dr(!1),m=Sr.bind(null,de,!1,s.queue),s=ft(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=av.bind(null,de,d,m,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function Hf(e){var n=Xe();return Pf(n,Ge,e)}function Pf(e,n,l){if(n=cr(e,n,Lf)[0],e=$l(pn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Bo(n)}catch(S){throw S===Oi?Bl:S}else s=n;n=Xe();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(de.flags|=2048,Ki(9,{destroy:void 0},sv.bind(null,d,l),null)),[s,m,e]}function sv(e,n){e.action=n}function qf(e){var n=Xe(),l=Ge;if(l!==null)return Pf(n,l,e);Xe(),n=n.memoizedState,l=Xe();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function Ki(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=de.updateQueue,n===null&&(n=Ql(),de.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Vf(){return Xe().memoizedState}function Wl(e,n,l,s){var d=ft();de.flags|=e,d.memoizedState=Ki(1|n,{destroy:void 0},l,s===void 0?null:s)}function jl(e,n,l,s){var d=Xe();s=s===void 0?null:s;var m=d.memoizedState.inst;Ge!==null&&s!==null&&or(s,Ge.memoizedState.deps)?d.memoizedState=Ki(n,m,l,s):(de.flags|=e,d.memoizedState=Ki(1|n,m,l,s))}function zf(e,n){Wl(8390656,8,e,n)}function mr(e,n){jl(2048,8,e,n)}function rv(e){de.flags|=4;var n=de.updateQueue;if(n===null)n=Ql(),de.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Bf(e){var n=Xe().memoizedState;return rv({ref:n,nextImpl:e}),function(){if((we&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Of(e,n){return jl(4,2,e,n)}function kf(e,n){return jl(4,4,e,n)}function Ff(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Jf(e,n,l){l=l!=null?l.concat([e]):null,jl(4,4,Ff.bind(null,n,e),l)}function hr(){}function Yf(e,n){var l=Xe();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&or(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function Kf(e,n){var l=Xe();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&or(n,s[1]))return s[0];if(s=e(),hi){Mn(!0);try{e()}finally{Mn(!1)}}return l.memoizedState=[s,n],s}function gr(e,n,l){return l===void 0||(dn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Xd(),de.lanes|=e,zn|=e,l)}function Xf(e,n,l,s){return At(l,n)?l:Fi.current!==null?(e=gr(e,l,s),At(e,n)||($e=!0),e):(dn&42)===0||(dn&1073741824)!==0&&(_e&261930)===0?($e=!0,e.memoizedState=l):(e=Xd(),de.lanes|=e,zn|=e,n)}function Qf(e,n,l,s,d){var m=O.p;O.p=m!==0&&8>m?m:8;var S=x.T,E={};x.T=E,Sr(e,!1,n,l);try{var A=d(),D=x.S;if(D!==null&&D(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=iv(A,s);Oo(e,n,H,wt(e))}else Oo(e,n,s,wt(e))}catch(V){Oo(e,n,{then:function(){},status:"rejected",reason:V},wt())}finally{O.p=m,S!==null&&E.types!==null&&(S.types=E.types),x.T=S}}function uv(){}function yr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=Zf(e).queue;Qf(e,d,n,ne,l===null?uv:function(){return $f(e),l(s)})}function Zf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:ne},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $f(e){var n=Zf(e);n.next===null&&(n=e.alternate.memoizedState),Oo(e,n.next.queue,{},wt())}function vr(){return at(ll)}function Wf(){return Xe().memoizedState}function jf(){return Xe().memoizedState}function cv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=wt();e=Ln(l);var s=Gn(n,e,l);s!==null&&(Tt(s,n,l),Po(s,n,l)),n={cache:Ks()},e.payload=n;return}n=n.return}}function fv(e,n,l){var s=wt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ea(e)?td(n,l):(l=Hs(e,n,l,s),l!==null&&(Tt(l,e,s),nd(l,n,s)))}function ed(e,n,l){var s=wt();Oo(e,n,l,s)}function Oo(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ea(e))td(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,E=m(S,l);if(d.hasEagerState=!0,d.eagerState=E,At(E,S))return Ll(e,n,d,0),qe===null&&xl(),!1}catch{}finally{}if(l=Hs(e,n,d,s),l!==null)return Tt(l,e,s),nd(l,n,s),!0}return!1}function Sr(e,n,l,s){if(s={lane:2,revertLane:$r(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ea(e)){if(n)throw Error(a(479))}else n=Hs(e,l,s,2),n!==null&&Tt(n,e,2)}function ea(e){var n=e.alternate;return e===de||n!==null&&n===de}function td(e,n){Ji=Kl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function nd(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,ac(e,l)}}var ko={readContext:at,use:Zl,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};ko.useEffectEvent=Fe;var id={readContext:at,use:Zl,useCallback:function(e,n){return ft().memoizedState=[e,n===void 0?null:n],e},useContext:at,useEffect:zf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Wl(4194308,4,Ff.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Wl(4194308,4,e,n)},useInsertionEffect:function(e,n){Wl(4,2,e,n)},useMemo:function(e,n){var l=ft();n=n===void 0?null:n;var s=e();if(hi){Mn(!0);try{e()}finally{Mn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=ft();if(l!==void 0){var d=l(n);if(hi){Mn(!0);try{l(n)}finally{Mn(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=fv.bind(null,de,e),[s.memoizedState,e]},useRef:function(e){var n=ft();return e={current:e},n.memoizedState=e},useState:function(e){e=dr(e);var n=e.queue,l=ed.bind(null,de,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:hr,useDeferredValue:function(e,n){var l=ft();return gr(l,e,n)},useTransition:function(){var e=dr(!1);return e=Qf.bind(null,de,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=de,d=ft();if(Ae){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),qe===null)throw Error(a(349));(_e&127)!==0||Af(s,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,zf(Mf.bind(null,s,m,e),[e]),s.flags|=2048,Ki(9,{destroy:void 0},Rf.bind(null,s,m,l,n),null),l},useId:function(){var e=ft(),n=qe.identifierPrefix;if(Ae){var l=jt,s=Wt;l=(s&~(1<<32-Ct(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Xl++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=ov++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:vr,useFormState:Gf,useActionState:Gf,useOptimistic:function(e){var n=ft();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Sr.bind(null,de,!0,l),l.dispatch=n,[e,n]},useMemoCache:ur,useCacheRefresh:function(){return ft().memoizedState=cv.bind(null,de)},useEffectEvent:function(e){var n=ft(),l={impl:e};return n.memoizedState=l,function(){if((we&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Tr={readContext:at,use:Zl,useCallback:Yf,useContext:at,useEffect:mr,useImperativeHandle:Jf,useInsertionEffect:Of,useLayoutEffect:kf,useMemo:Kf,useReducer:$l,useRef:Vf,useState:function(){return $l(pn)},useDebugValue:hr,useDeferredValue:function(e,n){var l=Xe();return Xf(l,Ge.memoizedState,e,n)},useTransition:function(){var e=$l(pn)[0],n=Xe().memoizedState;return[typeof e=="boolean"?e:Bo(e),n]},useSyncExternalStore:Cf,useId:Wf,useHostTransitionStatus:vr,useFormState:Hf,useActionState:Hf,useOptimistic:function(e,n){var l=Xe();return Df(l,Ge,e,n)},useMemoCache:ur,useCacheRefresh:jf};Tr.useEffectEvent=Bf;var od={readContext:at,use:Zl,useCallback:Yf,useContext:at,useEffect:mr,useImperativeHandle:Jf,useInsertionEffect:Of,useLayoutEffect:kf,useMemo:Kf,useReducer:fr,useRef:Vf,useState:function(){return fr(pn)},useDebugValue:hr,useDeferredValue:function(e,n){var l=Xe();return Ge===null?gr(l,e,n):Xf(l,Ge.memoizedState,e,n)},useTransition:function(){var e=fr(pn)[0],n=Xe().memoizedState;return[typeof e=="boolean"?e:Bo(e),n]},useSyncExternalStore:Cf,useId:Wf,useHostTransitionStatus:vr,useFormState:qf,useActionState:qf,useOptimistic:function(e,n){var l=Xe();return Ge!==null?Df(l,Ge,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ur,useCacheRefresh:jf};od.useEffectEvent=Bf;function _r(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:T({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Er={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=wt(),d=Ln(s);d.payload=n,l!=null&&(d.callback=l),n=Gn(e,d,s),n!==null&&(Tt(n,e,s),Po(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=wt(),d=Ln(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=Gn(e,d,s),n!==null&&(Tt(n,e,s),Po(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=wt(),s=Ln(l);s.tag=2,n!=null&&(s.callback=n),n=Gn(e,s,l),n!==null&&(Tt(n,e,l),Po(n,e,l))}};function ld(e,n,l,s,d,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,S):n.prototype&&n.prototype.isPureReactComponent?!Do(l,s)||!Do(d,m):!0}function ad(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&Er.enqueueReplaceState(n,n.state,null)}function gi(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=T({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function sd(e){Ul(e)}function rd(e){console.error(e)}function ud(e){Ul(e)}function ta(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function cd(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Cr(e,n,l){return l=Ln(l),l.tag=3,l.payload={element:null},l.callback=function(){ta(e,n)},l}function fd(e){return e=Ln(e),e.tag=3,e}function dd(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){cd(n,l,s)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){cd(n,l,s),typeof d!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function dv(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&Vi(n,l,d,!0),l=Mt.current,l!==null){switch(l.tag){case 31:case 13:return qt===null?pa():l.alternate===null&&Je===0&&(Je=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Ol?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Xr(e,s,d)),!1;case 22:return l.flags|=65536,s===Ol?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Xr(e,s,d)),!1}throw Error(a(435,l.tag))}return Xr(e,s,d),pa(),!1}if(Ae)return n=Mt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Os&&(e=Error(a(422),{cause:s}),Uo(Lt(e,l)))):(s!==Os&&(n=Error(a(423),{cause:s}),Uo(Lt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Lt(s,l),d=Cr(e.stateNode,s,d),js(e,d),Je!==4&&(Je=2)),!1;var m=Error(a(520),{cause:s});if(m=Lt(m,l),$o===null?$o=[m]:$o.push(m),Je!==4&&(Je=2),n===null)return!0;s=Lt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=Cr(l.stateNode,s,e),js(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Bn===null||!Bn.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=fd(d),dd(d,e,l,s),js(l,d),!1}l=l.return}while(l!==null);return!1}var Ar=Error(a(461)),$e=!1;function st(e,n,l,s){n.child=e===null?gf(n,null,l,s):mi(n,e.child,l,s)}function pd(e,n,l,s,d){l=l.render;var m=n.ref;if("ref"in s){var S={};for(var E in s)E!=="ref"&&(S[E]=s[E])}else S=s;return ci(n),s=lr(e,n,l,S,m,d),E=ar(),e!==null&&!$e?(sr(e,n,d),mn(e,n,d)):(Ae&&E&&zs(n),n.flags|=1,st(e,n,s,d),n.child)}function md(e,n,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!Ps(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,hd(e,n,m,s,d)):(e=Hl(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Ur(e,d)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:Do,l(S,s)&&e.ref===n.ref)return mn(e,n,d)}return n.flags|=1,e=rn(m,s),e.ref=n.ref,e.return=n,n.child=e}function hd(e,n,l,s,d){if(e!==null){var m=e.memoizedProps;if(Do(m,s)&&e.ref===n.ref)if($e=!1,n.pendingProps=s=m,Ur(e,d))(e.flags&131072)!==0&&($e=!0);else return n.lanes=e.lanes,mn(e,n,d)}return Rr(e,n,l,s,d)}function gd(e,n,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return yd(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zl(n,m!==null?m.cachePool:null),m!==null?Sf(n,m):tr(),Tf(n);else return s=n.lanes=536870912,yd(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(zl(n,m.cachePool),Sf(n,m),Pn(),n.memoizedState=null):(e!==null&&zl(n,null),tr(),Pn());return st(e,n,d,l),n.child}function Fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function yd(e,n,l,s,d){var m=Qs();return m=m===null?null:{parent:Qe._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&zl(n,null),tr(),Tf(n),e!==null&&Vi(e,n,s,!0),n.childLanes=d,null}function na(e,n){return n=oa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function vd(e,n,l){return mi(n,e.child,null,l),e=na(n,n.pendingProps),e.flags|=2,Nt(n),n.memoizedState=null,e}function pv(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=na(n,s),n.lanes=536870912,Fo(null,e);if(ir(n),(e=ze)?(e=wp(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:Wt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},l=ef(e),l.return=n,n.child=l,lt=n,ze=null)):e=null,e===null)throw bn(n);return n.lanes=536870912,null}return na(n,s)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(ir(n),d)if(n.flags&256)n.flags&=-257,n=vd(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if($e||Vi(e,n,l,!1),d=(l&e.childLanes)!==0,$e||d){if(s=qe,s!==null&&(S=sc(s,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,ai(e,S),Tt(s,e,S),Ar;pa(),n=vd(e,n,l)}else e=m.treeContext,ze=Vt(S.nextSibling),lt=n,Ae=!0,wn=null,Pt=!1,e!==null&&of(n,e),n=na(n,s),n.flags|=4096;return n}return e=rn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ia(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Rr(e,n,l,s,d){return ci(n),l=lr(e,n,l,s,void 0,d),s=ar(),e!==null&&!$e?(sr(e,n,d),mn(e,n,d)):(Ae&&s&&zs(n),n.flags|=1,st(e,n,l,d),n.child)}function Sd(e,n,l,s,d,m){return ci(n),n.updateQueue=null,l=Ef(n,s,l,d),_f(e),s=ar(),e!==null&&!$e?(sr(e,n,m),mn(e,n,m)):(Ae&&s&&zs(n),n.flags|=1,st(e,n,l,m),n.child)}function Td(e,n,l,s,d){if(ci(n),n.stateNode===null){var m=Gi,S=l.contextType;typeof S=="object"&&S!==null&&(m=at(S)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Er,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},$s(n),S=l.contextType,m.context=typeof S=="object"&&S!==null?at(S):Gi,m.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(_r(n,l,S,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Er.enqueueReplaceState(m,m.state,null),Vo(n,s,m,d),qo(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var E=n.memoizedProps,A=gi(l,E);m.props=A;var D=m.context,H=l.contextType;S=Gi,typeof H=="object"&&H!==null&&(S=at(H));var V=l.getDerivedStateFromProps;H=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||D!==S)&&ad(n,m,s,S),xn=!1;var U=n.memoizedState;m.state=U,Vo(n,s,m,d),qo(),D=n.memoizedState,E||U!==D||xn?(typeof V=="function"&&(_r(n,l,V,s),D=n.memoizedState),(A=xn||ld(n,l,A,s,U,D,S))?(H||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=D),m.props=s,m.state=D,m.context=S,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Ws(e,n),S=n.memoizedProps,H=gi(l,S),m.props=H,V=n.pendingProps,U=m.context,D=l.contextType,A=Gi,typeof D=="object"&&D!==null&&(A=at(D)),E=l.getDerivedStateFromProps,(D=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==V||U!==A)&&ad(n,m,s,A),xn=!1,U=n.memoizedState,m.state=U,Vo(n,s,m,d),qo();var L=n.memoizedState;S!==V||U!==L||xn||e!==null&&e.dependencies!==null&&ql(e.dependencies)?(typeof E=="function"&&(_r(n,l,E,s),L=n.memoizedState),(H=xn||ld(n,l,H,s,U,L,A)||e!==null&&e.dependencies!==null&&ql(e.dependencies))?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,L,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,L,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=L),m.props=s,m.state=L,m.context=A,s=H):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&U===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,ia(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=mi(n,e.child,null,d),n.child=mi(n,null,l,d)):st(e,n,l,d),n.memoizedState=m.state,e=n.child):e=mn(e,n,d),e}function _d(e,n,l,s){return ri(),n.flags|=256,st(e,n,l,s),n.child}var Mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nr(e){return{baseLanes:e,cachePool:cf()}}function Ir(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Dt),e}function Ed(e,n,l){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(d?Hn(n):Pn(),(e=ze)?(e=wp(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:Wt,overflow:jt}:null,retryLane:536870912,hydrationErrors:null},l=ef(e),l.return=n,n.child=l,lt=n,ze=null)):e=null,e===null)throw bn(n);return cu(e)?n.lanes=32:n.lanes=536870912,null}var E=s.children;return s=s.fallback,d?(Pn(),d=n.mode,E=oa({mode:"hidden",children:E},d),s=si(s,d,l,null),E.return=n,s.return=n,E.sibling=s,n.child=E,s=n.child,s.memoizedState=Nr(l),s.childLanes=Ir(e,S,l),n.memoizedState=Mr,Fo(null,s)):(Hn(n),Dr(n,E))}var A=e.memoizedState;if(A!==null&&(E=A.dehydrated,E!==null)){if(m)n.flags&256?(Hn(n),n.flags&=-257,n=wr(e,n,l)):n.memoizedState!==null?(Pn(),n.child=e.child,n.flags|=128,n=null):(Pn(),E=s.fallback,d=n.mode,s=oa({mode:"visible",children:s.children},d),E=si(E,d,l,null),E.flags|=2,s.return=n,E.return=n,s.sibling=E,n.child=s,mi(n,e.child,null,l),s=n.child,s.memoizedState=Nr(l),s.childLanes=Ir(e,S,l),n.memoizedState=Mr,n=Fo(null,s));else if(Hn(n),cu(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var D=S.dgst;S=D,s=Error(a(419)),s.stack="",s.digest=S,Uo({value:s,source:null,stack:null}),n=wr(e,n,l)}else if($e||Vi(e,n,l,!1),S=(l&e.childLanes)!==0,$e||S){if(S=qe,S!==null&&(s=sc(S,l),s!==0&&s!==A.retryLane))throw A.retryLane=s,ai(e,s),Tt(S,e,s),Ar;uu(E)||pa(),n=wr(e,n,l)}else uu(E)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,ze=Vt(E.nextSibling),lt=n,Ae=!0,wn=null,Pt=!1,e!==null&&of(n,e),n=Dr(n,s.children),n.flags|=4096);return n}return d?(Pn(),E=s.fallback,d=n.mode,A=e.child,D=A.sibling,s=rn(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,D!==null?E=rn(D,E):(E=si(E,d,l,null),E.flags|=2),E.return=n,s.return=n,s.sibling=E,n.child=s,Fo(null,s),s=n.child,E=e.child.memoizedState,E===null?E=Nr(l):(d=E.cachePool,d!==null?(A=Qe._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=cf(),E={baseLanes:E.baseLanes|l,cachePool:d}),s.memoizedState=E,s.childLanes=Ir(e,S,l),n.memoizedState=Mr,Fo(e.child,s)):(Hn(n),l=e.child,e=l.sibling,l=rn(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function Dr(e,n){return n=oa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function oa(e,n){return e=Rt(22,e,null,n),e.lanes=0,e}function wr(e,n,l){return mi(n,e.child,null,l),e=Dr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cd(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Js(e.return,n,l)}function br(e,n,l,s,d,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=l,S.tailMode=d,S.treeForkCount=m)}function Ad(e,n,l){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var S=Ke.current,E=(S&2)!==0;if(E?(S=S&1|2,n.flags|=128):S&=1,J(Ke,S),st(e,n,s,l),s=Ae?bo:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cd(e,l,n);else if(e.tag===19)Cd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&Yl(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),br(n,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Yl(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}br(n,!0,l,null,m,s);break;case"together":br(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function mn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),zn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Vi(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=rn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=rn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Ur(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ql(e)))}function mv(e,n,l){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),Un(n,Qe,e.memoizedState.cache),ri();break;case 27:case 5:ei(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:Un(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ir(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Hn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Ed(e,n,l):(Hn(n),e=mn(e,n,l),e!==null?e.sibling:null);Hn(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(Vi(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return Ad(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(Ke,Ke.current),s)break;return null;case 22:return n.lanes=0,gd(e,n,l,n.pendingProps);case 24:Un(n,Qe,e.memoizedState.cache)}return mn(e,n,l)}function Rd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)$e=!0;else{if(!Ur(e,l)&&(n.flags&128)===0)return $e=!1,mv(e,n,l);$e=(e.flags&131072)!==0}else $e=!1,Ae&&(n.flags&1048576)!==0&&nf(n,bo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=di(n.elementType),n.type=e,typeof e=="function")Ps(e)?(s=gi(e,s),n.tag=1,n=Td(null,n,e,s,l)):(n.tag=0,n=Rr(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===K){n.tag=11,n=pd(null,n,e,s,l);break e}else if(d===k){n.tag=14,n=md(null,n,e,s,l);break e}}throw n=Ce(e)||e,Error(a(306,n,""))}}return n;case 0:return Rr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=gi(s,n.pendingProps),Td(e,n,s,d,l);case 3:e:{if(je(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Ws(e,n),Vo(n,s,null,l);var S=n.memoizedState;if(s=S.cache,Un(n,Qe,s),s!==m.cache&&Ys(n,[Qe],l,!0),qo(),s=S.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=_d(e,n,s,l);break e}else if(s!==d){d=Lt(Error(a(424)),n),Uo(d),n=_d(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ze=Vt(e.firstChild),lt=n,Ae=!0,wn=null,Pt=!0,l=gf(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ri(),s===d){n=mn(e,n,l);break e}st(e,n,s,l)}n=n.child}return n;case 26:return ia(e,n),e===null?(l=Hp(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ae||(l=n.type,e=n.pendingProps,s=Ta(he.current).createElement(l),s[ot]=n,s[mt]=e,rt(s,l,e),tt(s),n.stateNode=s):n.memoizedState=Hp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ei(n),e===null&&Ae&&(s=n.stateNode=xp(n.type,n.pendingProps,he.current),lt=n,Pt=!0,d=ze,Jn(n.type)?(fu=d,ze=Vt(s.firstChild)):ze=d),st(e,n,n.pendingProps.children,l),ia(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((d=s=ze)&&(s=Fv(s,n.type,n.pendingProps,Pt),s!==null?(n.stateNode=s,lt=n,ze=Vt(s.firstChild),Pt=!1,d=!0):d=!1),d||bn(n)),ei(n),d=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,s=m.children,au(d,m)?s=null:S!==null&&au(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=lr(e,n,lv,null,null,l),ll._currentValue=d),ia(e,n),st(e,n,s,l),n.child;case 6:return e===null&&Ae&&((e=l=ze)&&(l=Jv(l,n.pendingProps,Pt),l!==null?(n.stateNode=l,lt=n,ze=null,e=!0):e=!1),e||bn(n)),null;case 13:return Ed(e,n,l);case 4:return je(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=mi(n,null,s,l):st(e,n,s,l),n.child;case 11:return pd(e,n,n.type,n.pendingProps,l);case 7:return st(e,n,n.pendingProps,l),n.child;case 8:return st(e,n,n.pendingProps.children,l),n.child;case 12:return st(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,Un(n,n.type,s.value),st(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ci(n),d=at(d),s=s(d),n.flags|=1,st(e,n,s,l),n.child;case 14:return md(e,n,n.type,n.pendingProps,l);case 15:return hd(e,n,n.type,n.pendingProps,l);case 19:return Ad(e,n,l);case 31:return pv(e,n,l);case 22:return gd(e,n,l,n.pendingProps);case 24:return ci(n),s=at(Qe),e===null?(d=Qs(),d===null&&(d=qe,m=Ks(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:s,cache:d},$s(n),Un(n,Qe,d)):((e.lanes&l)!==0&&(Ws(e,n),Vo(n,null,null,l),qo()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Un(n,Qe,s)):(s=m.cache,Un(n,Qe,s),s!==d.cache&&Ys(n,[Qe],l,!0))),st(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function hn(e){e.flags|=4}function xr(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Wd())e.flags|=8192;else throw pi=Ol,Zs}else e.flags&=-16777217}function Md(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Bp(n))if(Wd())e.flags|=8192;else throw pi=Ol,Zs}function la(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?oc():536870912,e.lanes|=n,$i|=n)}function Jo(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Be(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function hv(e,n,l){var s=n.pendingProps;switch(Bs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(n),null;case 1:return Be(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),fn(Qe),ke(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(qi(n)?hn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ks())),Be(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(hn(n),m!==null?(Be(n),Md(n,m)):(Be(n),xr(n,d,null,s,l))):m?m!==e.memoizedState?(hn(n),Be(n),Md(n,m)):(Be(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&hn(n),Be(n),xr(n,d,e,s,l)),null;case 27:if(_i(n),l=he.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&hn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Be(n),null}e=Z.current,qi(n)?lf(n):(e=xp(d,s,l),n.stateNode=e,hn(n))}return Be(n),null;case 5:if(_i(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&hn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Be(n),null}if(m=Z.current,qi(n))lf(n);else{var S=Ta(he.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}m[ot]=n,m[mt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(rt(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&hn(n)}}return Be(n),xr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&hn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=he.current,qi(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=lt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[ot]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Ep(e.nodeValue,l)),e||bn(n,!0)}else e=Ta(e).createTextNode(s),e[ot]=n,n.stateNode=e}return Be(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=qi(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ot]=n}else ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),e=!1}else l=ks(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Nt(n),n):(Nt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Be(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=qi(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[ot]=n}else ri(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),d=!1}else d=ks(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Nt(n),n):(Nt(n),null)}return Nt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),la(n,n.updateQueue),Be(n),null);case 4:return ke(),e===null&&tu(n.stateNode.containerInfo),Be(n),null;case 10:return fn(n.type),Be(n),null;case 19:if(P(Ke),s=n.memoizedState,s===null)return Be(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)Jo(s,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Yl(e),m!==null){for(n.flags|=128,Jo(s,!1),e=m.updateQueue,n.updateQueue=e,la(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)jc(l,e),l=l.sibling;return J(Ke,Ke.current&1|2),Ae&&un(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&_t()>ca&&(n.flags|=128,d=!0,Jo(s,!1),n.lanes=4194304)}else{if(!d)if(e=Yl(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,la(n,e),Jo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!Ae)return Be(n),null}else 2*_t()-s.renderingStartTime>ca&&l!==536870912&&(n.flags|=128,d=!0,Jo(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,l=Ke.current,J(Ke,d?l&1|2:l&1),Ae&&un(n,s.treeForkCount),e):(Be(n),null);case 22:case 23:return Nt(n),nr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Be(n),n.subtreeFlags&6&&(n.flags|=8192)):Be(n),l=n.updateQueue,l!==null&&la(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&P(fi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),fn(Qe),Be(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function gv(e,n){switch(Bs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return fn(Qe),ke(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return _i(n),null;case 31:if(n.memoizedState!==null){if(Nt(n),n.alternate===null)throw Error(a(340));ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Nt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ri()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return P(Ke),null;case 4:return ke(),null;case 10:return fn(n.type),null;case 22:case 23:return Nt(n),nr(),e!==null&&P(fi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return fn(Qe),null;case 25:return null;default:return null}}function Nd(e,n){switch(Bs(n),n.tag){case 3:fn(Qe),ke();break;case 26:case 27:case 5:_i(n);break;case 4:ke();break;case 31:n.memoizedState!==null&&Nt(n);break;case 13:Nt(n);break;case 19:P(Ke);break;case 10:fn(n.type);break;case 22:case 23:Nt(n),nr(),e!==null&&P(fi);break;case 24:fn(Qe)}}function Yo(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,S=l.inst;s=m(),S.destroy=s}l=l.next}while(l!==d)}}catch(E){xe(n,n.return,E)}}function qn(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var S=s.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,d=n;var A=l,D=E;try{D()}catch(H){xe(d,A,H)}}}s=s.next}while(s!==m)}}catch(H){xe(n,n.return,H)}}function Id(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{vf(n,l)}catch(s){xe(e,e.return,s)}}}function Dd(e,n,l){l.props=gi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){xe(e,n,s)}}function Ko(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){xe(e,n,d)}}function en(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){xe(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){xe(e,n,d)}else l.current=null}function wd(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){xe(e,e.return,d)}}function Lr(e,n,l){try{var s=e.stateNode;qv(s,e.type,l,n),s[mt]=n}catch(d){xe(e,e.return,d)}}function bd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function Gr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=an));else if(s!==4&&(s===27&&Jn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Hr(e,n,l),e=e.sibling;e!==null;)Hr(e,n,l),e=e.sibling}function aa(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&Jn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(aa(e,n,l),e=e.sibling;e!==null;)aa(e,n,l),e=e.sibling}function Ud(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);rt(n,s,l),n[ot]=e,n[mt]=l}catch(m){xe(e,e.return,m)}}var gn=!1,We=!1,Pr=!1,xd=typeof WeakSet=="function"?WeakSet:Set,nt=null;function yv(e,n){if(e=e.containerInfo,ou=Na,e=Fc(e),ws(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,E=-1,A=-1,D=0,H=0,V=e,U=null;t:for(;;){for(var L;V!==l||d!==0&&V.nodeType!==3||(E=S+d),V!==m||s!==0&&V.nodeType!==3||(A=S+s),V.nodeType===3&&(S+=V.nodeValue.length),(L=V.firstChild)!==null;)U=V,V=L;for(;;){if(V===e)break t;if(U===l&&++D===d&&(E=S),U===m&&++H===s&&(A=S),(L=V.nextSibling)!==null)break;V=U,U=V.parentNode}V=L}l=E===-1||A===-1?null:{start:E,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(lu={focusedElem:e,selectionRange:l},Na=!1,nt=n;nt!==null;)if(n=nt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,nt=e;else for(;nt!==null;){switch(n=nt,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var $=gi(l.type,d);e=s.getSnapshotBeforeUpdate($,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){xe(l,l.return,oe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)ru(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ru(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,nt=e;break}nt=n.return}}function Ld(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:vn(e,l),s&4&&Yo(5,l);break;case 1:if(vn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){xe(l,l.return,S)}else{var d=gi(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){xe(l,l.return,S)}}s&64&&Id(l),s&512&&Ko(l,l.return);break;case 3:if(vn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{vf(e,n)}catch(S){xe(l,l.return,S)}}break;case 27:n===null&&s&4&&Ud(l);case 26:case 5:vn(e,l),n===null&&s&4&&wd(l),s&512&&Ko(l,l.return);break;case 12:vn(e,l);break;case 31:vn(e,l),s&4&&Pd(e,l);break;case 13:vn(e,l),s&4&&qd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Mv.bind(null,l),Yv(e,l))));break;case 22:if(s=l.memoizedState!==null||gn,!s){n=n!==null&&n.memoizedState!==null||We,d=gn;var m=We;gn=s,(We=n)&&!m?Sn(e,l,(l.subtreeFlags&8772)!==0):vn(e,l),gn=d,We=m}break;case 30:break;default:vn(e,l)}}function Gd(e){var n=e.alternate;n!==null&&(e.alternate=null,Gd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ps(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Oe=null,gt=!1;function yn(e,n,l){for(l=l.child;l!==null;)Hd(e,n,l),l=l.sibling}function Hd(e,n,l){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(yo,l)}catch{}switch(l.tag){case 26:We||en(l,n),yn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:We||en(l,n);var s=Oe,d=gt;Jn(l.type)&&(Oe=l.stateNode,gt=!1),yn(e,n,l),nl(l.stateNode),Oe=s,gt=d;break;case 5:We||en(l,n);case 6:if(s=Oe,d=gt,Oe=null,yn(e,n,l),Oe=s,gt=d,Oe!==null)if(gt)try{(Oe.nodeType===9?Oe.body:Oe.nodeName==="HTML"?Oe.ownerDocument.body:Oe).removeChild(l.stateNode)}catch(m){xe(l,n,m)}else try{Oe.removeChild(l.stateNode)}catch(m){xe(l,n,m)}break;case 18:Oe!==null&&(gt?(e=Oe,Ip(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),lo(e)):Ip(Oe,l.stateNode));break;case 4:s=Oe,d=gt,Oe=l.stateNode.containerInfo,gt=!0,yn(e,n,l),Oe=s,gt=d;break;case 0:case 11:case 14:case 15:qn(2,l,n),We||qn(4,l,n),yn(e,n,l);break;case 1:We||(en(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Dd(l,n,s)),yn(e,n,l);break;case 21:yn(e,n,l);break;case 22:We=(s=We)||l.memoizedState!==null,yn(e,n,l),We=s;break;default:yn(e,n,l)}}function Pd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{lo(e)}catch(l){xe(n,n.return,l)}}}function qd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(l){xe(n,n.return,l)}}function vv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xd),n;default:throw Error(a(435,e.tag))}}function sa(e,n){var l=vv(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=Nv.bind(null,e,s);s.then(d,d)}})}function yt(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,S=n,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(Jn(E.type)){Oe=E.stateNode,gt=!1;break e}break;case 5:Oe=E.stateNode,gt=!1;break e;case 3:case 4:Oe=E.stateNode.containerInfo,gt=!0;break e}E=E.return}if(Oe===null)throw Error(a(160));Hd(m,S,d),Oe=null,gt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vd(n,e),n=n.sibling}var Jt=null;function Vd(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(n,e),vt(e),s&4&&(qn(3,e,e.return),Yo(3,e),qn(5,e,e.return));break;case 1:yt(n,e),vt(e),s&512&&(We||l===null||en(l,l.return)),s&64&&gn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=Jt;if(yt(n,e),vt(e),s&512&&(We||l===null||en(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[To]||m[ot]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),rt(m,s,l),m[ot]=e,tt(m),s=m;break e;case"link":var S=Vp("link","href",d).get(s+(l.href||""));if(S){for(var E=0;E<S.length;E++)if(m=S[E],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(E,1);break t}}m=d.createElement(s),rt(m,s,l),d.head.appendChild(m);break;case"meta":if(S=Vp("meta","content",d).get(s+(l.content||""))){for(E=0;E<S.length;E++)if(m=S[E],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(E,1);break t}}m=d.createElement(s),rt(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[ot]=e,tt(m),s=m}e.stateNode=s}else zp(d,e.type,e.stateNode);else e.stateNode=qp(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?zp(d,e.type,e.stateNode):qp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Lr(e,e.memoizedProps,l.memoizedProps)}break;case 27:yt(n,e),vt(e),s&512&&(We||l===null||en(l,l.return)),l!==null&&s&4&&Lr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(yt(n,e),vt(e),s&512&&(We||l===null||en(l,l.return)),e.flags&32){d=e.stateNode;try{Ii(d,"")}catch($){xe(e,e.return,$)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Lr(e,d,l!==null?l.memoizedProps:d)),s&1024&&(Pr=!0);break;case 6:if(yt(n,e),vt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch($){xe(e,e.return,$)}}break;case 3:if(Ca=null,d=Jt,Jt=_a(n.containerInfo),yt(n,e),Jt=d,vt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{lo(n.containerInfo)}catch($){xe(e,e.return,$)}Pr&&(Pr=!1,zd(e));break;case 4:s=Jt,Jt=_a(e.stateNode.containerInfo),yt(n,e),vt(e),Jt=s;break;case 12:yt(n,e),vt(e);break;case 31:yt(n,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sa(e,s)));break;case 13:yt(n,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ua=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sa(e,s)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,D=gn,H=We;if(gn=D||d,We=H||A,yt(n,e),We=H,gn=D,vt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||A||gn||We||yi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(m=A.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=A.stateNode;var V=A.memoizedProps.style,U=V!=null&&V.hasOwnProperty("display")?V.display:null;E.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch($){xe(A,A.return,$)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch($){xe(A,A.return,$)}}}else if(n.tag===18){if(l===null){A=n;try{var L=A.stateNode;d?Dp(L,!0):Dp(A.stateNode,!1)}catch($){xe(A,A.return,$)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,sa(e,l))));break;case 19:yt(n,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sa(e,s)));break;case 30:break;case 21:break;default:yt(n,e),vt(e)}}function vt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(bd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=Gr(e);aa(e,m,d);break;case 5:var S=l.stateNode;l.flags&32&&(Ii(S,""),l.flags&=-33);var E=Gr(e);aa(e,E,S);break;case 3:case 4:var A=l.stateNode.containerInfo,D=Gr(e);Hr(e,D,A);break;default:throw Error(a(161))}}catch(H){xe(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function zd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;zd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function vn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ld(e,n.alternate,n),n=n.sibling}function yi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qn(4,n,n.return),yi(n);break;case 1:en(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Dd(n,n.return,l),yi(n);break;case 27:nl(n.stateNode);case 26:case 5:en(n,n.return),yi(n);break;case 22:n.memoizedState===null&&yi(n);break;case 30:yi(n);break;default:yi(n)}e=e.sibling}}function Sn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:Sn(d,m,l),Yo(4,m);break;case 1:if(Sn(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(D){xe(s,s.return,D)}if(s=m,d=s.updateQueue,d!==null){var E=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)yf(A[d],E)}catch(D){xe(s,s.return,D)}}l&&S&64&&Id(m),Ko(m,m.return);break;case 27:Ud(m);case 26:case 5:Sn(d,m,l),l&&s===null&&S&4&&wd(m),Ko(m,m.return);break;case 12:Sn(d,m,l);break;case 31:Sn(d,m,l),l&&S&4&&Pd(d,m);break;case 13:Sn(d,m,l),l&&S&4&&qd(d,m);break;case 22:m.memoizedState===null&&Sn(d,m,l),Ko(m,m.return);break;case 30:break;default:Sn(d,m,l)}n=n.sibling}}function qr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&xo(l))}function Vr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function Yt(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bd(e,n,l,s),n=n.sibling}function Bd(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Yt(e,n,l,s),d&2048&&Yo(9,n);break;case 1:Yt(e,n,l,s);break;case 3:Yt(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(d&2048){Yt(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,E=m.onPostCommit;typeof E=="function"&&E(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){xe(n,n.return,A)}}else Yt(e,n,l,s);break;case 31:Yt(e,n,l,s);break;case 13:Yt(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?Yt(e,n,l,s):Xo(e,n):m._visibility&2?Yt(e,n,l,s):(m._visibility|=2,Xi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&qr(S,n);break;case 24:Yt(e,n,l,s),d&2048&&Vr(n.alternate,n);break;default:Yt(e,n,l,s)}}function Xi(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,E=l,A=s,D=S.flags;switch(S.tag){case 0:case 11:case 15:Xi(m,S,E,A,d),Yo(8,S);break;case 23:break;case 22:var H=S.stateNode;S.memoizedState!==null?H._visibility&2?Xi(m,S,E,A,d):Xo(m,S):(H._visibility|=2,Xi(m,S,E,A,d)),d&&D&2048&&qr(S.alternate,S);break;case 24:Xi(m,S,E,A,d),d&&D&2048&&Vr(S.alternate,S);break;default:Xi(m,S,E,A,d)}n=n.sibling}}function Xo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:Xo(l,s),d&2048&&qr(s.alternate,s);break;case 24:Xo(l,s),d&2048&&Vr(s.alternate,s);break;default:Xo(l,s)}n=n.sibling}}var Qo=8192;function Qi(e,n,l){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)Od(e,n,l),e=e.sibling}function Od(e,n,l){switch(e.tag){case 26:Qi(e,n,l),e.flags&Qo&&e.memoizedState!==null&&o0(l,Jt,e.memoizedState,e.memoizedProps);break;case 5:Qi(e,n,l);break;case 3:case 4:var s=Jt;Jt=_a(e.stateNode.containerInfo),Qi(e,n,l),Jt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Qo,Qo=16777216,Qi(e,n,l),Qo=s):Qi(e,n,l));break;default:Qi(e,n,l)}}function kd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];nt=s,Jd(s,e)}kd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fd(e),e=e.sibling}function Fd(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&qn(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ra(e)):Zo(e);break;default:Zo(e)}}function ra(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];nt=s,Jd(s,e)}kd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qn(8,n,n.return),ra(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,ra(n));break;default:ra(n)}e=e.sibling}}function Jd(e,n){for(;nt!==null;){var l=nt;switch(l.tag){case 0:case 11:case 15:qn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:xo(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,nt=s;else e:for(l=e;nt!==null;){s=nt;var d=s.sibling,m=s.return;if(Gd(s),s===l){nt=null;break e}if(d!==null){d.return=m,nt=d;break e}nt=m}}}var Sv={getCacheForType:function(e){var n=at(Qe),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return at(Qe).controller.signal}},Tv=typeof WeakMap=="function"?WeakMap:Map,we=0,qe=null,ve=null,_e=0,Ue=0,It=null,Vn=!1,Zi=!1,zr=!1,Tn=0,Je=0,zn=0,vi=0,Br=0,Dt=0,$i=0,$o=null,St=null,Or=!1,ua=0,Yd=0,ca=1/0,fa=null,Bn=null,et=0,On=null,Wi=null,_n=0,kr=0,Fr=null,Kd=null,Wo=0,Jr=null;function wt(){return(we&2)!==0&&_e!==0?_e&-_e:x.T!==null?$r():rc()}function Xd(){if(Dt===0)if((_e&536870912)===0||Ae){var e=Sl;Sl<<=1,(Sl&3932160)===0&&(Sl=262144),Dt=e}else Dt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Dt}function Tt(e,n,l){(e===qe&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(ji(e,0),kn(e,_e,Dt,!1)),So(e,l),((we&2)===0||e!==qe)&&(e===qe&&((we&2)===0&&(vi|=l),Je===4&&kn(e,_e,Dt,!1)),tn(e))}function Qd(e,n,l){if((we&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||vo(e,n),d=s?Cv(e,n):Kr(e,n,!0),m=s;do{if(d===0){Zi&&!s&&kn(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!_v(l)){d=Kr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var E=e;d=$o;var A=E.current.memoizedState.isDehydrated;if(A&&(ji(E,S).flags|=256),S=Kr(E,S,!1),S!==2){if(zr&&!A){E.errorRecoveryDisabledLanes|=m,vi|=m,d=4;break e}m=St,St=d,m!==null&&(St===null?St=m:St.push.apply(St,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){ji(e,0),kn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:kn(s,n,Dt,!Vn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=ua+300-_t(),10<d)){if(kn(s,n,Dt,!Vn),_l(s,0,!0)!==0)break e;_n=n,s.timeoutHandle=Mp(Zd.bind(null,s,l,St,fa,Or,n,Dt,vi,$i,Vn,m,"Throttled",-0,0),d);break e}Zd(s,l,St,fa,Or,n,Dt,vi,$i,Vn,m,null,-0,0)}}break}while(!0);tn(e)}function Zd(e,n,l,s,d,m,S,E,A,D,H,V,U,L){if(e.timeoutHandle=-1,V=n.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},Od(n,m,V);var $=(m&62914560)===m?ua-_t():(m&4194048)===m?Yd-_t():0;if($=l0(V,$),$!==null){_n=m,e.cancelPendingCommit=$(op.bind(null,e,n,m,l,s,d,S,E,A,H,V,null,U,L)),kn(e,m,S,!D);return}}op(e,n,m,l,s,d,S,E,A)}function _v(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!At(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function kn(e,n,l,s){n&=~Br,n&=~vi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-Ct(d),S=1<<m;s[m]=-1,d&=~S}l!==0&&lc(e,l,n)}function da(){return(we&6)===0?(jo(0),!1):!0}function Yr(){if(ve!==null){if(Ue===0)var e=ve.return;else e=ve,cn=ui=null,rr(e),ki=null,Go=0,e=ve;for(;e!==null;)Nd(e.alternate,e),e=e.return;ve=null}}function ji(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Bv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),_n=0,Yr(),qe=e,ve=l=rn(e.current,null),_e=n,Ue=0,It=null,Vn=!1,Zi=vo(e,n),zr=!1,$i=Dt=Br=vi=zn=Je=0,St=$o=null,Or=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Ct(s),m=1<<d;n|=e[d],s&=~m}return Tn=n,xl(),l}function $d(e,n){de=null,x.H=ko,n===Oi||n===Bl?(n=pf(),Ue=3):n===Zs?(n=pf(),Ue=4):Ue=n===Ar?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,It=n,ve===null&&(Je=1,ta(e,Lt(n,e.current)))}function Wd(){var e=Mt.current;return e===null?!0:(_e&4194048)===_e?qt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===qt:!1}function jd(){var e=x.H;return x.H=ko,e===null?ko:e}function ep(){var e=x.A;return x.A=Sv,e}function pa(){Je=4,Vn||(_e&4194048)!==_e&&Mt.current!==null||(Zi=!0),(zn&134217727)===0&&(vi&134217727)===0||qe===null||kn(qe,_e,Dt,!1)}function Kr(e,n,l){var s=we;we|=2;var d=jd(),m=ep();(qe!==e||_e!==n)&&(fa=null,ji(e,n)),n=!1;var S=Je;e:do try{if(Ue!==0&&ve!==null){var E=ve,A=It;switch(Ue){case 8:Yr(),S=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(n=!0);var D=Ue;if(Ue=0,It=null,eo(e,E,A,D),l&&Zi){S=0;break e}break;default:D=Ue,Ue=0,It=null,eo(e,E,A,D)}}Ev(),S=Je;break}catch(H){$d(e,H)}while(!0);return n&&e.shellSuspendCounter++,cn=ui=null,we=s,x.H=d,x.A=m,ve===null&&(qe=null,_e=0,xl()),S}function Ev(){for(;ve!==null;)tp(ve)}function Cv(e,n){var l=we;we|=2;var s=jd(),d=ep();qe!==e||_e!==n?(fa=null,ca=_t()+500,ji(e,n)):Zi=vo(e,n);e:do try{if(Ue!==0&&ve!==null){n=ve;var m=It;t:switch(Ue){case 1:Ue=0,It=null,eo(e,n,m,1);break;case 2:case 9:if(ff(m)){Ue=0,It=null,np(n);break}n=function(){Ue!==2&&Ue!==9||qe!==e||(Ue=7),tn(e)},m.then(n,n);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:ff(m)?(Ue=0,It=null,np(n)):(Ue=0,It=null,eo(e,n,m,7));break;case 5:var S=null;switch(ve.tag){case 26:S=ve.memoizedState;case 5:case 27:var E=ve;if(S?Bp(S):E.stateNode.complete){Ue=0,It=null;var A=E.sibling;if(A!==null)ve=A;else{var D=E.return;D!==null?(ve=D,ma(D)):ve=null}break t}}Ue=0,It=null,eo(e,n,m,5);break;case 6:Ue=0,It=null,eo(e,n,m,6);break;case 8:Yr(),Je=6;break e;default:throw Error(a(462))}}Av();break}catch(H){$d(e,H)}while(!0);return cn=ui=null,x.H=s,x.A=d,we=l,ve!==null?0:(qe=null,_e=0,xl(),Je)}function Av(){for(;ve!==null&&!Kg();)tp(ve)}function tp(e){var n=Rd(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,n===null?ma(e):ve=n}function np(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Sd(l,n,n.pendingProps,n.type,void 0,_e);break;case 11:n=Sd(l,n,n.pendingProps,n.type.render,n.ref,_e);break;case 5:rr(n);default:Nd(l,n),n=ve=jc(n,Tn),n=Rd(l,n,Tn)}e.memoizedProps=e.pendingProps,n===null?ma(e):ve=n}function eo(e,n,l,s){cn=ui=null,rr(n),ki=null,Go=0;var d=n.return;try{if(dv(e,d,n,l,_e)){Je=1,ta(e,Lt(l,e.current)),ve=null;return}}catch(m){if(d!==null)throw ve=d,m;Je=1,ta(e,Lt(l,e.current)),ve=null;return}n.flags&32768?(Ae||s===1?e=!0:Zi||(_e&536870912)!==0?e=!1:(Vn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Mt.current,s!==null&&s.tag===13&&(s.flags|=16384))),ip(n,e)):ma(n)}function ma(e){var n=e;do{if((n.flags&32768)!==0){ip(n,Vn);return}e=n.return;var l=hv(n.alternate,n,Tn);if(l!==null){ve=l;return}if(n=n.sibling,n!==null){ve=n;return}ve=n=e}while(n!==null);Je===0&&(Je=5)}function ip(e,n){do{var l=gv(e.alternate,e);if(l!==null){l.flags&=32767,ve=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){ve=e;return}ve=e=l}while(e!==null);Je=6,ve=null}function op(e,n,l,s,d,m,S,E,A){e.cancelPendingCommit=null;do ha();while(et!==0);if((we&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=Gs,iy(e,l,m,S,E,A),e===qe&&(ve=qe=null,_e=0),Wi=n,On=e,_n=l,kr=m,Fr=d,Kd=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Iv(yl,function(){return up(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=x.T,x.T=null,d=O.p,O.p=2,S=we,we|=4;try{yv(e,n,l)}finally{we=S,O.p=d,x.T=s}}et=1,lp(),ap(),sp()}}function lp(){if(et===1){et=0;var e=On,n=Wi,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=x.T,x.T=null;var s=O.p;O.p=2;var d=we;we|=4;try{Vd(n,e);var m=lu,S=Fc(e.containerInfo),E=m.focusedElem,A=m.selectionRange;if(S!==E&&E&&E.ownerDocument&&kc(E.ownerDocument.documentElement,E)){if(A!==null&&ws(E)){var D=A.start,H=A.end;if(H===void 0&&(H=D),"selectionStart"in E)E.selectionStart=D,E.selectionEnd=Math.min(H,E.value.length);else{var V=E.ownerDocument||document,U=V&&V.defaultView||window;if(U.getSelection){var L=U.getSelection(),$=E.textContent.length,oe=Math.min(A.start,$),Pe=A.end===void 0?oe:Math.min(A.end,$);!L.extend&&oe>Pe&&(S=Pe,Pe=oe,oe=S);var N=Oc(E,oe),R=Oc(E,Pe);if(N&&R&&(L.rangeCount!==1||L.anchorNode!==N.node||L.anchorOffset!==N.offset||L.focusNode!==R.node||L.focusOffset!==R.offset)){var I=V.createRange();I.setStart(N.node,N.offset),L.removeAllRanges(),oe>Pe?(L.addRange(I),L.extend(R.node,R.offset)):(I.setEnd(R.node,R.offset),L.addRange(I))}}}}for(V=[],L=E;L=L.parentNode;)L.nodeType===1&&V.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<V.length;E++){var q=V[E];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Na=!!ou,lu=ou=null}finally{we=d,O.p=s,x.T=l}}e.current=n,et=2}}function ap(){if(et===2){et=0;var e=On,n=Wi,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=x.T,x.T=null;var s=O.p;O.p=2;var d=we;we|=4;try{Ld(e,n.alternate,n)}finally{we=d,O.p=s,x.T=l}}et=3}}function sp(){if(et===4||et===3){et=0,Xg();var e=On,n=Wi,l=_n,s=Kd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?et=5:(et=0,Wi=On=null,rp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Bn=null),fs(l),n=n.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(yo,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=x.T,d=O.p,O.p=2,x.T=null;try{for(var m=e.onRecoverableError,S=0;S<s.length;S++){var E=s[S];m(E.value,{componentStack:E.stack})}}finally{x.T=n,O.p=d}}(_n&3)!==0&&ha(),tn(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Jr?Wo++:(Wo=0,Jr=e):Wo=0,jo(0)}}function rp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function ha(){return lp(),ap(),sp(),up()}function up(){if(et!==5)return!1;var e=On,n=kr;kr=0;var l=fs(_n),s=x.T,d=O.p;try{O.p=32>l?32:l,x.T=null,l=Fr,Fr=null;var m=On,S=_n;if(et=0,Wi=On=null,_n=0,(we&6)!==0)throw Error(a(331));var E=we;if(we|=4,Fd(m.current),Bd(m,m.current,S,l),we=E,jo(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(yo,m)}catch{}return!0}finally{O.p=d,x.T=s,rp(e,n)}}function cp(e,n,l){n=Lt(l,n),n=Cr(e.stateNode,n,2),e=Gn(e,n,2),e!==null&&(So(e,2),tn(e))}function xe(e,n,l){if(e.tag===3)cp(e,e,l);else for(;n!==null;){if(n.tag===3){cp(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Bn===null||!Bn.has(s))){e=Lt(l,e),l=fd(2),s=Gn(n,l,2),s!==null&&(dd(l,s,n,e),So(s,2),tn(s));break}}n=n.return}}function Xr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Tv;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(zr=!0,d.add(l),e=Rv.bind(null,e,n,l),n.then(e,e))}function Rv(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,qe===e&&(_e&l)===l&&(Je===4||Je===3&&(_e&62914560)===_e&&300>_t()-ua?(we&2)===0&&ji(e,0):Br|=l,$i===_e&&($i=0)),tn(e)}function fp(e,n){n===0&&(n=oc()),e=ai(e,n),e!==null&&(So(e,n),tn(e))}function Mv(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),fp(e,l)}function Nv(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),fp(e,l)}function Iv(e,n){return ss(e,n)}var ga=null,to=null,Qr=!1,ya=!1,Zr=!1,Fn=0;function tn(e){e!==to&&e.next===null&&(to===null?ga=to=e:to=to.next=e),ya=!0,Qr||(Qr=!0,wv())}function jo(e,n){if(!Zr&&ya){Zr=!0;do for(var l=!1,s=ga;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var S=s.suspendedLanes,E=s.pingedLanes;m=(1<<31-Ct(42|e)+1)-1,m&=d&~(S&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,hp(s,m))}else m=_e,m=_l(s,s===qe?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||vo(s,m)||(l=!0,hp(s,m));s=s.next}while(l);Zr=!1}}function Dv(){dp()}function dp(){ya=Qr=!1;var e=0;Fn!==0&&zv()&&(e=Fn);for(var n=_t(),l=null,s=ga;s!==null;){var d=s.next,m=pp(s,n);m===0?(s.next=null,l===null?ga=d:l.next=d,d===null&&(to=l)):(l=s,(e!==0||(m&3)!==0)&&(ya=!0)),s=d}et!==0&&et!==5||jo(e),Fn!==0&&(Fn=0)}function pp(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-Ct(m),E=1<<S,A=d[S];A===-1?((E&l)===0||(E&s)!==0)&&(d[S]=ny(E,n)):A<=n&&(e.expiredLanes|=E),m&=~E}if(n=qe,l=_e,l=_l(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&rs(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||vo(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&rs(s),fs(l)){case 2:case 8:l=nc;break;case 32:l=yl;break;case 268435456:l=ic;break;default:l=yl}return s=mp.bind(null,e),l=ss(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&rs(s),e.callbackPriority=2,e.callbackNode=null,2}function mp(e,n){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ha()&&e.callbackNode!==l)return null;var s=_e;return s=_l(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Qd(e,s,n),pp(e,_t()),e.callbackNode!=null&&e.callbackNode===l?mp.bind(null,e):null)}function hp(e,n){if(ha())return null;Qd(e,n,!0)}function wv(){Ov(function(){(we&6)!==0?ss(tc,Dv):dp()})}function $r(){if(Fn===0){var e=zi;e===0&&(e=vl,vl<<=1,(vl&261888)===0&&(vl=256)),Fn=e}return Fn}function gp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rl(""+e)}function yp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function bv(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var m=gp((d[mt]||null).action),S=s.submitter;S&&(n=(n=S[mt]||null)?gp(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var E=new Dl("action","action",null,s,d);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Fn!==0){var A=S?yp(d,S):new FormData(d);yr(l,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(E.preventDefault(),A=S?yp(d,S):new FormData(d),yr(l,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var Wr=0;Wr<Ls.length;Wr++){var jr=Ls[Wr],Uv=jr.toLowerCase(),xv=jr[0].toUpperCase()+jr.slice(1);Ft(Uv,"on"+xv)}Ft(Kc,"onAnimationEnd"),Ft(Xc,"onAnimationIteration"),Ft(Qc,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Qy,"onTransitionRun"),Ft(Zy,"onTransitionStart"),Ft($y,"onTransitionCancel"),Ft(Zc,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function vp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var S=s.length-1;0<=S;S--){var E=s[S],A=E.instance,D=E.currentTarget;if(E=E.listener,A!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=D;try{m(d)}catch(H){Ul(H)}d.currentTarget=null,m=A}else for(S=0;S<s.length;S++){if(E=s[S],A=E.instance,D=E.currentTarget,E=E.listener,A!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=D;try{m(d)}catch(H){Ul(H)}d.currentTarget=null,m=A}}}}function Se(e,n){var l=n[ds];l===void 0&&(l=n[ds]=new Set);var s=e+"__bubble";l.has(s)||(Sp(n,e,2,!1),l.add(s))}function eu(e,n,l){var s=0;n&&(s|=4),Sp(l,e,s,n)}var va="_reactListening"+Math.random().toString(36).slice(2);function tu(e){if(!e[va]){e[va]=!0,fc.forEach(function(l){l!=="selectionchange"&&(Lv.has(l)||eu(l,!1,e),eu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[va]||(n[va]=!0,eu("selectionchange",!1,n))}}function Sp(e,n,l,s){switch(Xp(n)){case 2:var d=r0;break;case 8:d=u0;break;default:d=gu}l=d.bind(null,n,l,e),d=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function nu(e,n,l,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var E=s.stateNode.containerInfo;if(E===d)break;if(S===4)for(S=s.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;E!==null;){if(S=Ci(E),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){s=m=S;continue e}E=E.parentNode}}s=s.return}Cc(function(){var D=m,H=Ss(l),V=[];e:{var U=$c.get(e);if(U!==void 0){var L=Dl,$=e;switch(e){case"keypress":if(Nl(l)===0)break e;case"keydown":case"keyup":L=Ny;break;case"focusin":$="focus",L=Rs;break;case"focusout":$="blur",L=Rs;break;case"beforeblur":case"afterblur":L=Rs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=wy;break;case Kc:case Xc:case Qc:L=vy;break;case Zc:L=Uy;break;case"scroll":case"scrollend":L=py;break;case"wheel":L=Ly;break;case"copy":case"cut":case"paste":L=Ty;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Ic;break;case"toggle":case"beforetoggle":L=Hy}var oe=(n&4)!==0,Pe=!oe&&(e==="scroll"||e==="scrollend"),N=oe?U!==null?U+"Capture":null:U;oe=[];for(var R=D,I;R!==null;){var q=R;if(I=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||I===null||N===null||(q=Eo(R,N),q!=null&&oe.push(tl(R,q,I))),Pe)break;R=R.return}0<oe.length&&(U=new L(U,$,null,l,H),V.push({event:U,listeners:oe}))}}if((n&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",U&&l!==vs&&($=l.relatedTarget||l.fromElement)&&(Ci($)||$[Ei]))break e;if((L||U)&&(U=H.window===H?H:(U=H.ownerDocument)?U.defaultView||U.parentWindow:window,L?($=l.relatedTarget||l.toElement,L=D,$=$?Ci($):null,$!==null&&(Pe=f($),oe=$.tag,$!==Pe||oe!==5&&oe!==27&&oe!==6)&&($=null)):(L=null,$=D),L!==$)){if(oe=Mc,q="onMouseLeave",N="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Ic,q="onPointerLeave",N="onPointerEnter",R="pointer"),Pe=L==null?U:_o(L),I=$==null?U:_o($),U=new oe(q,R+"leave",L,l,H),U.target=Pe,U.relatedTarget=I,q=null,Ci(H)===D&&(oe=new oe(N,R+"enter",$,l,H),oe.target=I,oe.relatedTarget=Pe,q=oe),Pe=q,L&&$)t:{for(oe=Gv,N=L,R=$,I=0,q=N;q;q=oe(q))I++;q=0;for(var ie=R;ie;ie=oe(ie))q++;for(;0<I-q;)N=oe(N),I--;for(;0<q-I;)R=oe(R),q--;for(;I--;){if(N===R||R!==null&&N===R.alternate){oe=N;break t}N=oe(N),R=oe(R)}oe=null}else oe=null;L!==null&&Tp(V,U,L,oe,!1),$!==null&&Pe!==null&&Tp(V,Pe,$,oe,!0)}}e:{if(U=D?_o(D):window,L=U.nodeName&&U.nodeName.toLowerCase(),L==="select"||L==="input"&&U.type==="file")var Me=Hc;else if(Lc(U))if(Pc)Me=Yy;else{Me=Fy;var j=ky}else L=U.nodeName,!L||L.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?D&&ys(D.elementType)&&(Me=Hc):Me=Jy;if(Me&&(Me=Me(e,D))){Gc(V,Me,l,H);break e}j&&j(e,U,D),e==="focusout"&&D&&U.type==="number"&&D.memoizedProps.value!=null&&gs(U,"number",U.value)}switch(j=D?_o(D):window,e){case"focusin":(Lc(j)||j.contentEditable==="true")&&(Ui=j,bs=D,wo=null);break;case"focusout":wo=bs=Ui=null;break;case"mousedown":Us=!0;break;case"contextmenu":case"mouseup":case"dragend":Us=!1,Jc(V,l,H);break;case"selectionchange":if(Xy)break;case"keydown":case"keyup":Jc(V,l,H)}var pe;if(Ns)e:{switch(e){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else bi?Uc(e,l)&&(Ee="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Dc&&l.locale!=="ko"&&(bi||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&bi&&(pe=Ac()):(In=H,Es="value"in In?In.value:In.textContent,bi=!0)),j=Sa(D,Ee),0<j.length&&(Ee=new Nc(Ee,e,null,l,H),V.push({event:Ee,listeners:j}),pe?Ee.data=pe:(pe=xc(l),pe!==null&&(Ee.data=pe)))),(pe=qy?Vy(e,l):zy(e,l))&&(Ee=Sa(D,"onBeforeInput"),0<Ee.length&&(j=new Nc("onBeforeInput","beforeinput",null,l,H),V.push({event:j,listeners:Ee}),j.data=pe)),bv(V,e,D,l,H)}vp(V,n)})}function tl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Sa(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Eo(e,l),d!=null&&s.unshift(tl(e,d,m)),d=Eo(e,n),d!=null&&s.push(tl(e,d,m))),e.tag===3)return s;e=e.return}return[]}function Gv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tp(e,n,l,s,d){for(var m=n._reactName,S=[];l!==null&&l!==s;){var E=l,A=E.alternate,D=E.stateNode;if(E=E.tag,A!==null&&A===s)break;E!==5&&E!==26&&E!==27||D===null||(A=D,d?(D=Eo(l,m),D!=null&&S.unshift(tl(l,D,A))):d||(D=Eo(l,m),D!=null&&S.push(tl(l,D,A)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var Hv=/\r\n?/g,Pv=/\u0000|\uFFFD/g;function _p(e){return(typeof e=="string"?e:""+e).replace(Hv,`
`).replace(Pv,"")}function Ep(e,n){return n=_p(n),_p(e)===n}function He(e,n,l,s,d,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ii(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ii(e,""+s);break;case"className":Cl(e,"class",s);break;case"tabIndex":Cl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Cl(e,l,s);break;case"style":_c(e,s,m);break;case"data":if(n!=="object"){Cl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Rl(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&He(e,n,"name",d.name,d,null),He(e,n,"formEncType",d.formEncType,d,null),He(e,n,"formMethod",d.formMethod,d,null),He(e,n,"formTarget",d.formTarget,d,null)):(He(e,n,"encType",d.encType,d,null),He(e,n,"method",d.method,d,null),He(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Rl(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=an);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Rl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Se("beforetoggle",e),Se("toggle",e),El(e,"popover",s);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":El(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=fy.get(l)||l,El(e,l,s))}}function iu(e,n,l,s,d,m){switch(l){case"style":_c(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Ii(e,s):(typeof s=="number"||typeof s=="bigint")&&Ii(e,""+s);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"onClick":s!=null&&(e.onclick=an);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[mt]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):El(e,l,s)}}}function rt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:He(e,n,m,S,l,null)}}d&&He(e,n,"srcSet",l.srcSet,l,null),s&&He(e,n,"src",l.src,l,null);return;case"input":Se("invalid",e);var E=m=S=d=null,A=null,D=null;for(s in l)if(l.hasOwnProperty(s)){var H=l[s];if(H!=null)switch(s){case"name":d=H;break;case"type":S=H;break;case"checked":A=H;break;case"defaultChecked":D=H;break;case"value":m=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:He(e,n,s,H,l,null)}}yc(e,m,E,A,D,S,d,!1);return;case"select":Se("invalid",e),s=S=m=null;for(d in l)if(l.hasOwnProperty(d)&&(E=l[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":S=E;break;case"multiple":s=E;default:He(e,n,d,E,l,null)}n=m,l=S,e.multiple=!!s,n!=null?Ni(e,!!s,n,!1):l!=null&&Ni(e,!!s,l,!0);return;case"textarea":Se("invalid",e),m=d=s=null;for(S in l)if(l.hasOwnProperty(S)&&(E=l[S],E!=null))switch(S){case"value":s=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:He(e,n,S,E,l,null)}Sc(e,s,d,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:He(e,n,A,s,l,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(s=0;s<el.length;s++)Se(el[s],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(s=l[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:He(e,n,D,s,l,null)}return;default:if(ys(n)){for(H in l)l.hasOwnProperty(H)&&(s=l[H],s!==void 0&&iu(e,n,H,s,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(s=l[E],s!=null&&He(e,n,E,s,l,null))}function qv(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,E=null,A=null,D=null,H=null;for(L in l){var V=l[L];if(l.hasOwnProperty(L)&&V!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=V;default:s.hasOwnProperty(L)||He(e,n,L,null,s,V)}}for(var U in s){var L=s[U];if(V=l[U],s.hasOwnProperty(U)&&(L!=null||V!=null))switch(U){case"type":m=L;break;case"name":d=L;break;case"checked":D=L;break;case"defaultChecked":H=L;break;case"value":S=L;break;case"defaultValue":E=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:L!==V&&He(e,n,U,L,s,V)}}hs(e,S,E,A,D,H,m,d);return;case"select":L=S=E=U=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":L=A;default:s.hasOwnProperty(m)||He(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=l[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":U=m;break;case"defaultValue":E=m;break;case"multiple":S=m;default:m!==A&&He(e,n,d,m,s,A)}n=E,l=S,s=L,U!=null?Ni(e,!!l,U,!1):!!s!=!!l&&(n!=null?Ni(e,!!l,n,!0):Ni(e,!!l,l?[]:"",!1));return;case"textarea":L=U=null;for(E in l)if(d=l[E],l.hasOwnProperty(E)&&d!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:He(e,n,E,null,s,d)}for(S in s)if(d=s[S],m=l[S],s.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":U=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&He(e,n,S,d,s,m)}vc(e,U,L);return;case"option":for(var $ in l)if(U=l[$],l.hasOwnProperty($)&&U!=null&&!s.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:He(e,n,$,null,s,U)}for(A in s)if(U=s[A],L=l[A],s.hasOwnProperty(A)&&U!==L&&(U!=null||L!=null))switch(A){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:He(e,n,A,U,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in l)U=l[oe],l.hasOwnProperty(oe)&&U!=null&&!s.hasOwnProperty(oe)&&He(e,n,oe,null,s,U);for(D in s)if(U=s[D],L=l[D],s.hasOwnProperty(D)&&U!==L&&(U!=null||L!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:He(e,n,D,U,s,L)}return;default:if(ys(n)){for(var Pe in l)U=l[Pe],l.hasOwnProperty(Pe)&&U!==void 0&&!s.hasOwnProperty(Pe)&&iu(e,n,Pe,void 0,s,U);for(H in s)U=s[H],L=l[H],!s.hasOwnProperty(H)||U===L||U===void 0&&L===void 0||iu(e,n,H,U,s,L);return}}for(var N in l)U=l[N],l.hasOwnProperty(N)&&U!=null&&!s.hasOwnProperty(N)&&He(e,n,N,null,s,U);for(V in s)U=s[V],L=l[V],!s.hasOwnProperty(V)||U===L||U==null&&L==null||He(e,n,V,U,s,L)}function Cp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,S=d.initiatorType,E=d.duration;if(m&&E&&Cp(S)){for(S=0,E=d.responseEnd,s+=1;s<l.length;s++){var A=l[s],D=A.startTime;if(D>E)break;var H=A.transferSize,V=A.initiatorType;H&&Cp(V)&&(A=A.responseEnd,S+=H*(A<E?1:(E-D)/(A-D)))}if(--s,n+=8*(m+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ou=null,lu=null;function Ta(e){return e.nodeType===9?e:e.ownerDocument}function Ap(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function au(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var su=null;function zv(){var e=window.event;return e&&e.type==="popstate"?e===su?!1:(su=e,!0):(su=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,Bv=typeof clearTimeout=="function"?clearTimeout:void 0,Np=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof Np<"u"?function(e){return Np.resolve(null).then(e).catch(kv)}:Mp;function kv(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function Ip(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),lo(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")nl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,nl(l);for(var m=l.firstChild;m;){var S=m.nextSibling,E=m.nodeName;m[To]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&nl(e.ownerDocument.body);l=d}while(l);lo(n)}function Dp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function ru(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ru(l),ps(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Fv(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[To])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function Jv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Vt(e.nextSibling),e===null))return null;return e}function wp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function uu(e){return e.data==="$?"||e.data==="$~"}function cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yv(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Vt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var fu=null;function bp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Vt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Up(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function xp(e,n,l){switch(n=Ta(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function nl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ps(e)}var zt=new Map,Lp=new Set;function _a(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=O.d;O.d={f:Kv,r:Xv,D:Qv,C:Zv,L:$v,m:Wv,X:e0,S:jv,M:t0};function Kv(){var e=En.f(),n=da();return e||n}function Xv(e){var n=Ai(e);n!==null&&n.tag===5&&n.type==="form"?$f(n):En.r(e)}var no=typeof document>"u"?null:document;function Gp(e,n,l){var s=no;if(s&&typeof n=="string"&&n){var d=Ut(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Lp.has(d)||(Lp.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),rt(n,"link",e),tt(n),s.head.appendChild(n)))}}function Qv(e){En.D(e),Gp("dns-prefetch",e,null)}function Zv(e,n){En.C(e,n),Gp("preconnect",e,n)}function $v(e,n,l){En.L(e,n,l);var s=no;if(s&&e&&n){var d='link[rel="preload"][as="'+Ut(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+Ut(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+Ut(l.imageSizes)+'"]')):d+='[href="'+Ut(e)+'"]';var m=d;switch(n){case"style":m=io(e);break;case"script":m=oo(e)}zt.has(m)||(e=T({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),zt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(il(m))||n==="script"&&s.querySelector(ol(m))||(n=s.createElement("link"),rt(n,"link",e),tt(n),s.head.appendChild(n)))}}function Wv(e,n){En.m(e,n);var l=no;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Ut(s)+'"][href="'+Ut(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=oo(e)}if(!zt.has(m)&&(e=T({rel:"modulepreload",href:e},n),zt.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ol(m)))return}s=l.createElement("link"),rt(s,"link",e),tt(s),l.head.appendChild(s)}}}function jv(e,n,l){En.S(e,n,l);var s=no;if(s&&e){var d=Ri(s).hoistableStyles,m=io(e);n=n||"default";var S=d.get(m);if(!S){var E={loading:0,preload:null};if(S=s.querySelector(il(m)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},l),(l=zt.get(m))&&du(e,l);var A=S=s.createElement("link");tt(A),rt(A,"link",e),A._p=new Promise(function(D,H){A.onload=D,A.onerror=H}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ea(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:E},d.set(m,S)}}}function e0(e,n){En.X(e,n);var l=no;if(l&&e){var s=Ri(l).hoistableScripts,d=oo(e),m=s.get(d);m||(m=l.querySelector(ol(d)),m||(e=T({src:e,async:!0},n),(n=zt.get(d))&&pu(e,n),m=l.createElement("script"),tt(m),rt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function t0(e,n){En.M(e,n);var l=no;if(l&&e){var s=Ri(l).hoistableScripts,d=oo(e),m=s.get(d);m||(m=l.querySelector(ol(d)),m||(e=T({src:e,async:!0,type:"module"},n),(n=zt.get(d))&&pu(e,n),m=l.createElement("script"),tt(m),rt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Hp(e,n,l,s){var d=(d=he.current)?_a(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=io(l.href),l=Ri(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=io(l.href);var m=Ri(d).hoistableStyles,S=m.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=d.querySelector(il(e)))&&!m._p&&(S.instance=m,S.state.loading=5),zt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},zt.set(e,l),m||n0(d,e,l,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oo(l),l=Ri(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function io(e){return'href="'+Ut(e)+'"'}function il(e){return'link[rel="stylesheet"]['+e+"]"}function Pp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function n0(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),rt(n,"link",l),tt(n),e.head.appendChild(n))}function oo(e){return'[src="'+Ut(e)+'"]'}function ol(e){return"script[async]"+e}function qp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Ut(l.href)+'"]');if(s)return n.instance=s,tt(s),s;var d=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),tt(s),rt(s,"style",d),Ea(s,l.precedence,e),n.instance=s;case"stylesheet":d=io(l.href);var m=e.querySelector(il(d));if(m)return n.state.loading|=4,n.instance=m,tt(m),m;s=Pp(l),(d=zt.get(d))&&du(s,d),m=(e.ownerDocument||e).createElement("link"),tt(m);var S=m;return S._p=new Promise(function(E,A){S.onload=E,S.onerror=A}),rt(m,"link",s),n.state.loading|=4,Ea(m,l.precedence,e),n.instance=m;case"script":return m=oo(l.src),(d=e.querySelector(ol(m)))?(n.instance=d,tt(d),d):(s=l,(d=zt.get(m))&&(s=T({},l),pu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),tt(d),rt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,Ea(s,l.precedence,e));return n.instance}function Ea(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,S=0;S<s.length;S++){var E=s[S];if(E.dataset.precedence===n)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function du(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function pu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ca=null;function Vp(e,n,l){if(Ca===null){var s=new Map,d=Ca=new Map;d.set(l,s)}else d=Ca,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[To]||m[ot]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var E=s.get(S);E?E.push(m):s.set(S,[m])}}return s}function zp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function i0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Bp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function o0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=io(s.href),m=n.querySelector(il(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Aa.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,tt(m);return}m=n.ownerDocument||n,s=Pp(s),(d=zt.get(d))&&du(s,d),m=m.createElement("link"),tt(m);var S=m;S._p=new Promise(function(E,A){S.onload=E,S.onerror=A}),rt(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Aa.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var mu=0;function l0(e,n){return e.stylesheets&&e.count===0&&Ma(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Ma(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&mu===0&&(mu=62500*Vv());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ma(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>mu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function Aa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ma(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ra=null;function Ma(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ra=new Map,n.forEach(a0,e),Ra=null,Aa.call(e))}function a0(e,n){if(!(n.state.loading&4)){var l=Ra.get(e);if(l)var s=l.get(null);else{l=new Map,Ra.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),s=S)}s&&l.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),m=l.get(S)||s,m===s&&l.set(null,d),l.set(S,d),this.count++,s=Aa.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:B,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function s0(e,n,l,s,d,m,S,E,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.hiddenUpdates=us(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Op(e,n,l,s,d,m,S,E,A,D,H,V){return e=new s0(e,n,l,S,A,D,H,V,E),n=1,m===!0&&(n|=24),m=Rt(3,null,null,n),e.current=m,m.stateNode=e,n=Ks(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},$s(m),e}function kp(e){return e?(e=Gi,e):Gi}function Fp(e,n,l,s,d,m){d=kp(d),s.context===null?s.context=d:s.pendingContext=d,s=Ln(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=Gn(e,s,n),l!==null&&(Tt(l,e,n),Po(l,e,n))}function Jp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function hu(e,n){Jp(e,n),(e=e.alternate)&&Jp(e,n)}function Yp(e){if(e.tag===13||e.tag===31){var n=ai(e,67108864);n!==null&&Tt(n,e,67108864),hu(e,67108864)}}function Kp(e){if(e.tag===13||e.tag===31){var n=wt();n=cs(n);var l=ai(e,n);l!==null&&Tt(l,e,n),hu(e,n)}}var Na=!0;function r0(e,n,l,s){var d=x.T;x.T=null;var m=O.p;try{O.p=2,gu(e,n,l,s)}finally{O.p=m,x.T=d}}function u0(e,n,l,s){var d=x.T;x.T=null;var m=O.p;try{O.p=8,gu(e,n,l,s)}finally{O.p=m,x.T=d}}function gu(e,n,l,s){if(Na){var d=yu(s);if(d===null)nu(e,n,s,Ia,l),Qp(e,s);else if(f0(d,e,n,l,s))s.stopPropagation();else if(Qp(e,s),n&4&&-1<c0.indexOf(e)){for(;d!==null;){var m=Ai(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=ti(m.pendingLanes);if(S!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var A=1<<31-Ct(S);E.entanglements[1]|=A,S&=~A}tn(m),(we&6)===0&&(ca=_t()+500,jo(0))}}break;case 31:case 13:E=ai(m,2),E!==null&&Tt(E,m,2),da(),hu(m,2)}if(m=yu(s),m===null&&nu(e,n,s,Ia,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else nu(e,n,s,null,l)}}function yu(e){return e=Ss(e),vu(e)}var Ia=null;function vu(e){if(Ia=null,e=Ci(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ia=e,null}function Xp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qg()){case tc:return 2;case nc:return 8;case yl:case Zg:return 32;case ic:return 268435456;default:return 32}default:return 32}}var Su=!1,Yn=null,Kn=null,Xn=null,al=new Map,sl=new Map,Qn=[],c0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qp(e,n){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function rl(e,n,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=Ai(n),n!==null&&Yp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function f0(e,n,l,s,d){switch(n){case"focusin":return Yn=rl(Yn,e,n,l,s,d),!0;case"dragenter":return Kn=rl(Kn,e,n,l,s,d),!0;case"mouseover":return Xn=rl(Xn,e,n,l,s,d),!0;case"pointerover":var m=d.pointerId;return al.set(m,rl(al.get(m)||null,e,n,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,sl.set(m,rl(sl.get(m)||null,e,n,l,s,d)),!0}return!1}function Zp(e){var n=Ci(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,uc(e.priority,function(){Kp(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,uc(e.priority,function(){Kp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Da(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=yu(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);vs=s,l.target.dispatchEvent(s),vs=null}else return n=Ai(l),n!==null&&Yp(n),e.blockedOn=l,!1;n.shift()}return!0}function $p(e,n,l){Da(e)&&l.delete(n)}function d0(){Su=!1,Yn!==null&&Da(Yn)&&(Yn=null),Kn!==null&&Da(Kn)&&(Kn=null),Xn!==null&&Da(Xn)&&(Xn=null),al.forEach($p),sl.forEach($p)}function wa(e,n){e.blockedOn===n&&(e.blockedOn=null,Su||(Su=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,d0)))}var ba=null;function Wp(e){ba!==e&&(ba=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ba===e&&(ba=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(vu(s||l)===null)continue;break}var m=Ai(l);m!==null&&(e.splice(n,3),n-=3,yr(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function lo(e){function n(A){return wa(A,e)}Yn!==null&&wa(Yn,e),Kn!==null&&wa(Kn,e),Xn!==null&&wa(Xn,e),al.forEach(n),sl.forEach(n);for(var l=0;l<Qn.length;l++){var s=Qn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Qn.length&&(l=Qn[0],l.blockedOn===null);)Zp(l),l.blockedOn===null&&Qn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],S=d[mt]||null;if(typeof m=="function")S||Wp(l);else if(S){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[mt]||null)E=S.formAction;else if(vu(d)!==null)continue}else E=S.action;typeof E=="function"?l[s+1]=E:(l.splice(s,3),s-=3),Wp(l)}}}function jp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Tu(e){this._internalRoot=e}Ua.prototype.render=Tu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=wt();Fp(l,s,e,n,null,null)},Ua.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Fp(e.current,2,null,e,null,null),da(),n[Ei]=null}};function Ua(e){this._internalRoot=e}Ua.prototype.unstable_scheduleHydration=function(e){if(e){var n=rc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Qn.length&&n!==0&&n<Qn[l].priority;l++);Qn.splice(l,0,e),l===0&&Zp(e)}};var em=t.version;if(em!=="19.2.3")throw Error(a(527,em,"19.2.3"));O.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var p0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{yo=xa.inject(p0),Et=xa}catch{}}return cl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=sd,m=rd,S=ud;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Op(e,1,!1,null,null,l,s,null,d,m,S,jp),e[Ei]=n.current,tu(e),new Tu(n)},cl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=sd,S=rd,E=ud,A=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=Op(e,1,!0,n,l??null,s,d,A,m,S,E,jp),n.context=kp(null),l=n.current,s=wt(),s=cs(s),d=Ln(s),d.callback=null,Gn(l,d,s),l=s,n.current.lanes=l,So(n,l),tn(n),e[Ei]=n.current,tu(e),new Ua(n)},cl.version="19.2.3",cl}var cm;function A0(){if(cm)return Cu.exports;cm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Cu.exports=C0(),Cu.exports}var R0=A0();const M0=Qh(R0),N0="modulepreload",I0=function(i,t){return new URL(i,t).href},fm={},Wn=function(t,o,a){let r=Promise.resolve();if(o&&o.length>0){let p=function(v){return Promise.all(v.map(T=>Promise.resolve(T).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const g=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),h=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));r=p(o.map(v=>{if(v=I0(v,a),v in fm)return;fm[v]=!0;const T=v.endsWith(".css"),_=T?'[rel="stylesheet"]':"";if(!!a)for(let G=g.length-1;G>=0;G--){const b=g[G];if(b.href===v&&(!T||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${_}`))return;const w=document.createElement("link");if(w.rel=T?"stylesheet":N0,T||(w.as="script"),w.crossOrigin="",w.href=v,h&&w.setAttribute("nonce",h),document.head.appendChild(w),T)return new Promise((G,b)=>{w.addEventListener("load",G),w.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${v}`)))})}))}function f(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return r.then(p=>{for(const g of p||[])g.status==="rejected"&&f(g.reason);return t().catch(f)})};var D0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let w0,b0;function U0(){return{geminiUrl:w0,vertexUrl:b0}}function x0(i,t,o,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=U0();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An{}function Y(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,t.slice(f+1),o[h])}else for(const h of y)c(h,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],t.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function L0(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),f=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Du(i,r,f,0,p)}}function Du(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Du(y,t,o,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,v]of Object.entries(y)){const T=[];for(const _ of o.slice(a))_==="*"?T.push(h):T.push(_);c(p,T,v)}for(const h of g)delete p[h]}}else{const p=i;f in p&&Du(p[f],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ju(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G0(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function H0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],q0(p)),t}function P0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],V0(p)),t}function q0(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>z0(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function V0(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>B0(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function z0(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],K0(o)),t}function B0(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],X0(o)),t}function O0(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function k0(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function F0(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],J0(p)),t}function J0(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function $h(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Y0(p)),t}function Y0(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function K0(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Ju(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function X0(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Ju(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var dm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(dm||(dm={}));var pm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(pm||(pm={}));var mm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(mm||(mm={}));var $n;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})($n||($n={}));var hm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(hm||(hm={}));var gm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(gm||(gm={}));var ym;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(ym||(ym={}));var vm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(vm||(vm={}));var Sm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Sm||(Sm={}));var Tm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Tm||(Tm={}));var _m;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(_m||(_m={}));var Em;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Em||(Em={}));var Cm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Cm||(Cm={}));var Am;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Am||(Am={}));var Rm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Rm||(Rm={}));var Mm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Mm||(Mm={}));var Nm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Nm||(Nm={}));var Im;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Im||(Im={}));var Dm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Dm||(Dm={}));var ka;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ka||(ka={}));var wm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wm||(wm={}));var bm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bm||(bm={}));var Um;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Um||(Um={}));var wu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(wu||(wu={}));var xm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(xm||(xm={}));var Lm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Lm||(Lm={}));var Gm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Gm||(Gm={}));var Hm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Hm||(Hm={}));var Pm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Pm||(Pm={}));var qm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qm||(qm={}));var Vm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Vm||(Vm={}));var zm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(zm||(zm={}));var Bm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Bm||(Bm={}));var Om;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Om||(Om={}));var km;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(km||(km={}));var Fm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fm||(Fm={}));var Jm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Jm||(Jm={}));var Ym;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ym||(Ym={}));var Km;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Km||(Km={}));var Xm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Xm||(Xm={}));var Qm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Qm||(Qm={}));var Zm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Zm||(Zm={}));var $m;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})($m||($m={}));var Wm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Wm||(Wm={}));var jm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(jm||(jm={}));var eh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(eh||(eh={}));var th;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(th||(th={}));var nh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(nh||(nh={}));var ih;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ih||(ih={}));var oh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(oh||(oh={}));var lh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(lh||(lh={}));var ah;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(ah||(ah={}));var sh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(sh||(sh={}));var rh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rh||(rh={}));var uh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(uh||(uh={}));var ro;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(ro||(ro={}));class bu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class fl{get text(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const T=[];for(const _ of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,w]of Object.entries(_))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(w!==null||w!==void 0)&&T.push(C);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,h+=_.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const T of(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,C]of Object.entries(T))_!=="inlineData"&&(C!==null||C!==void 0)&&v.push(_);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,a,r,f,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,a,r,f,p,g,y,h;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class ch{}class fh{}class Q0{}class Z0{}class $0{}class W0{}class dh{}class ph{}class mh{}class j0{}class Fa{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Fa;let r;const f=t;return o?r=P0(f):r=H0(f),Object.assign(a,r),a}}class hh{}class gh{}class yh{}class vh{}class eS{}class tS{}class nS{}class Yu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Yu,f=F0(t);return Object.assign(a,f),a}}class iS{}class oS{}class lS{}class Sh{}class aS{get text(){var t,o,a;let r="",f=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,a;let r="";const f=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&f.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class sS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ku{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ku,f=$h(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Wh(i,t){const o=Ie(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function jh(i){return Array.isArray(i)?i.map(t=>Ja(t)):[Ja(i)]}function Ja(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function eg(i){const t=Ja(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function tg(i){const t=Ja(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Th(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function ng(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Th(t)):[Th(i)]}function Uu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function _h(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Eh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ct(i){if(i==null)throw new Error("ContentUnion is required");return Uu(i)?i:{role:"user",parts:ng(i)}}function Xu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=ct(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=ct(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>ct(o)):[ct(t)]}function Bt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(_h(i)||Eh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ct(i)]}const t=[],o=[],a=Uu(i[0]);for(const r of i){const f=Uu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(_h(r)||Eh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:ng(o)}),t}function rS(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values($n).includes(o[0].toUpperCase())?o[0].toUpperCase():$n.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values($n).includes(a.toUpperCase())?a.toUpperCase():$n.TYPE_UNSPECIFIED})}}function co(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&rS(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values($n).includes(g.toUpperCase())?g.toUpperCase():$n.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=co(g);else if(a.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(co(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,v]of Object.entries(g))y[h]=co(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function Qu(i){return co(i)}function Zu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function $u(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function po(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=co(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=co(t.response));return i}function mo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function uS(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Rn(i,t){if(typeof t!="string")throw new Error("name must be a string");return uS(i,t,"cachedContents")}function ig(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function jn(i){return Ju(i)}function cS(i){return i!=null&&typeof i=="object"&&"name"in i}function fS(i){return i!=null&&typeof i=="object"&&"video"in i}function dS(i){return i!=null&&typeof i=="object"&&"uri"in i}function og(i){var t;let o;if(cS(i)&&(o=i.name),!(dS(i)&&(o=i.uri,o===void 0))&&!(fS(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function lg(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function ag(i){for(const t of["models","tunedModels","publisherModels"])if(pS(i,t))return i[t];return[]}function pS(i,t){return i!==null&&typeof i=="object"&&t in i}function mS(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function hS(i,t={}){const o=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=mS(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function sg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function gS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function rg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function ho(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function ug(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>$S(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function vS(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function SS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ba(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],ug(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],yS(rg(h))),t}function xu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],ug(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],TS(T));const _=u(i,["outputConfig"]);_!=null&&c(t,["dest"],vS(rg(_)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function TS(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function _S(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>ZS(i,p))),c(o,["requests","requests"],f)}return o}function ES(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function CS(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function AS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ho(i,a)),o}function RS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ho(i,a)),o}function MS(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],NS(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),c(t,["safetyRatings"],_)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function NS(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function cg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>oT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function IS(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function DS(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],SS(gS(r))),o}function Ch(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],_S(i,sg(i,r)));const f=u(t,["config"]);return f!=null&&IS(f,o),o}function wS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Ie(i,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],ES(sg(i,r)));const f=u(t,["config"]);return f!=null&&DS(f,o),o}function bS(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function US(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],VS(i,r));const f=u(t,["config"]);return f!=null&&bS(f,o),o}function xS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ho(i,a)),o}function LS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ho(i,a)),o}function GS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function HS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function PS(i,t){const o={},a=u(t,["contents"]);if(a!=null){let f=Xu(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],qS(r,o)),L0(o,{"requests[].*":"requests[].request.*"})),o}function qS(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function VS(i,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],PS(i,r)),o}function zS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function BS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function OS(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function kS(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],cg(ct(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const b=u(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Qu(z));const F=u(t,["responseJsonSchema"]);if(F!=null&&c(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=u(t,["safetySettings"]);if(o!==void 0&&B!=null){let ye=B;Array.isArray(ye)&&(ye=ye.map(Ce=>lT(Ce))),c(o,["safetySettings"],ye)}const K=u(t,["tools"]);if(o!==void 0&&K!=null){let ye=mo(K);Array.isArray(ye)&&(ye=ye.map(Ce=>sT(po(Ce)))),c(o,["tools"],ye)}const ee=u(t,["toolConfig"]);if(o!==void 0&&ee!=null&&c(o,["toolConfig"],aT(ee)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(t,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],Rn(i,te));const k=u(t,["responseModalities"]);k!=null&&c(a,["responseModalities"],k);const me=u(t,["mediaResolution"]);me!=null&&c(a,["mediaResolution"],me);const X=u(t,["speechConfig"]);if(X!=null&&c(a,["speechConfig"],Zu(X)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=u(t,["thinkingConfig"]);fe!=null&&c(a,["thinkingConfig"],fe);const Te=u(t,["imageConfig"]);Te!=null&&c(a,["imageConfig"],QS(Te));const Le=u(t,["enableEnhancedCivicAnswers"]);return Le!=null&&c(a,["enableEnhancedCivicAnswers"],Le),a}function FS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>MS(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function JS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ho(i,a)),o}function YS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ho(i,a)),o}function KS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function XS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function QS(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function ZS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let g=Bt(r);Array.isArray(g)&&(g=g.map(y=>cg(y))),c(o,["request","contents"],g)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],kS(i,p,u(o,["request"],{}))),o}function $S(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],FS(o));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function WS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function jS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function eT(i){const t={},o=u(i,["config"]);return o!=null&&WS(o,t),t}function tT(i){const t={},o=u(i,["config"]);return o!=null&&jS(o,t),t}function nT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Ba(p))),c(t,["batchJobs"],f)}return t}function iT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>xu(p))),c(t,["batchJobs"],f)}return t}function oT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],zS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],BS(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],CS(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function lT(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function aT(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],OS(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function sT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],KS(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],XS(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Cn||(Cn={}));class Ti{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rT extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ti(Cn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Ch(this.apiClient,t),a=o._url,r=Y("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const _=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=_,T.request=C}h.push(T)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=wS(this.apiClient,t);return g=Y("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}else{const h=Ch(this.apiClient,t);return g=Y("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ba(v))}}async createEmbeddingsInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=US(this.apiClient,t);return f=Y("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ba(y))}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=YS(this.apiClient,t);return g=Y("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>xu(v))}else{const h=JS(this.apiClient,t);return g=Y("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ba(v))}}async cancel(t){var o,a,r,f;let p="",g={};if(this.apiClient.isVertexAI()){const y=RS(this.apiClient,t);p=Y("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=AS(this.apiClient,t);p=Y("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=tT(t);return g=Y("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=iT(v),_=new Sh;return Object.assign(_,T),_})}else{const h=eT(t);return g=Y("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=nT(v),_=new Sh;return Object.assign(_,T),_})}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=LS(this.apiClient,t);return g=Y("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>HS(v))}else{const h=xS(this.apiClient,t);return g=Y("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>GS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uT(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Ah(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>UT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function cT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Bt(p);Array.isArray(v)&&(v=v.map(T=>Ah(T))),c(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Ah(ct(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>LT(T))),c(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],xT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function fT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let T=Bt(p);Array.isArray(T)&&(T=T.map(_=>_)),c(t,["contents"],T)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],ct(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(_=>GT(_))),c(t,["tools"],T)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function dT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Wh(i,a));const r=u(t,["config"]);return r!=null&&cT(r,o),o}function pT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Wh(i,a));const r=u(t,["config"]);return r!=null&&fT(r,o),o}function mT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Rn(i,a)),o}function hT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Rn(i,a)),o}function gT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function yT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function vT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function ST(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function TT(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function _T(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function ET(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Rn(i,a)),o}function CT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Rn(i,a)),o}function AT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function RT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function MT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function NT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function IT(i){const t={},o=u(i,["config"]);return o!=null&&MT(o,t),t}function DT(i){const t={},o=u(i,["config"]);return o!=null&&NT(o,t),t}function wT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function bT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function UT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],vT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],ST(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],uT(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function xT(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],TT(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function LT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],AT(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],RT(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function GT(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(_=>_T(_))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function HT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function PT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function qT(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],Rn(i,a));const r=u(t,["config"]);return r!=null&&HT(r,o),o}function VT(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],Rn(i,a));const r=u(t,["config"]);return r!=null&&PT(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zT extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ti(Cn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=pT(this.apiClient,t);return g=Y("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=dT(this.apiClient,t);return g=Y("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=CT(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=ET(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=hT(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=yT(v),_=new yh;return Object.assign(_,T),_})}else{const h=mT(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=gT(v),_=new yh;return Object.assign(_,T),_})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=VT(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const h=qT(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=DT(t);return g=Y("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=bT(v),_=new vh;return Object.assign(_,T),_})}else{const h=IT(t);return g=Y("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=wT(v),_=new vh;return Object.assign(_,T),_})}}}function Ya(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Rh(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(i){return this instanceof se?(this.v=i,this):new se(i)}function Kt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(w){return Promise.resolve(w).then(C,T)}}function g(C,w){a[C]&&(r[C]=function(G){return new Promise(function(b,z){f.push([C,G,b,z])>1||y(C,G)})},w&&(r[C]=w(r[C])))}function y(C,w){try{h(a[C](w))}catch(G){_(f[0][3],G)}}function h(C){C.value instanceof se?Promise.resolve(C.value.v).then(v,T):_(f[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function _(C,w){C(w),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Xt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Rh=="function"?Rh(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=i[f]&&function(p){return new Promise(function(g,y){p=i[f](p),r(g,y,p.done,p.value)})}}function r(f,p,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:fg(o)}function fg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function OT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Mh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),f&&!fg(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class kT{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new FT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class FT{constructor(t,o,a,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),OT(f)}async sendMessage(t){var o;await this.sendPromise;const a=ct(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,g;const y=await r,h=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let _=[];v!=null&&(_=(g=v.slice(T))!==null&&g!==void 0?g:[]);const C=h?[h]:[];this.recordHistory(a,C,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=ct(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const o=t?Mh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Kt(this,arguments,function*(){var r,f,p,g,y,h;const v=[];try{for(var T=!0,_=Xt(t),C;C=yield se(_.next()),r=C.done,!r;T=!0){g=C.value,T=!1;const w=g;if(BT(w)){const G=(h=(y=w.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;G!==void 0&&v.push(G)}yield yield se(w)}}catch(w){f={error:w}}finally{try{!T&&!r&&(p=_.return)&&(yield se(p.call(_)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Mh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Qa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JT(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function YT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function KT(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],og(o)),t}function XT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function QT(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],og(o)),t}function ZT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function $T(i){const t={},o=u(i,["config"]);return o!=null&&ZT(o,t),t}function WT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jT extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ti(Cn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=$T(t);return f=Y("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=WT(y),v=new iS;return Object.assign(v,h),v})}}async createInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JT(t);return f=Y("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=YT(y),v=new oS;return Object.assign(v,h),v})}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=QT(t);return f=Y("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=KT(t);return f=Y("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=XT(y),v=new lS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oa(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function e_(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>g_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function t_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function n_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function i_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function o_(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const b=u(i,["routingConfig"]);b!=null&&c(t,["routingConfig"],b);const z=u(i,["seed"]);z!=null&&c(t,["seed"],z);const F=u(i,["speechConfig"]);F!=null&&c(t,["speechConfig"],F);const B=u(i,["stopSequences"]);B!=null&&c(t,["stopSequences"],B);const K=u(i,["temperature"]);K!=null&&c(t,["temperature"],K);const ee=u(i,["thinkingConfig"]);ee!=null&&c(t,["thinkingConfig"],ee);const te=u(i,["topK"]);te!=null&&c(t,["topK"],te);const k=u(i,["topP"]);if(k!=null&&c(t,["topP"],k),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function l_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function a_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function s_(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],$u(T));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],e_(ct(w)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let te=mo(G);Array.isArray(te)&&(te=te.map(k=>v_(po(k)))),c(t,["setup","tools"],te)}const b=u(i,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],y_(b));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const B=u(i,["realtimeInputConfig"]);t!==void 0&&B!=null&&c(t,["setup","realtimeInputConfig"],B);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&c(t,["setup","contextWindowCompression"],K);const ee=u(i,["proactivity"]);if(t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function r_(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],o_(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],$u(T));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],ct(w));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let k=mo(G);Array.isArray(k)&&(k=k.map(me=>S_(po(me)))),c(t,["setup","tools"],k)}const b=u(i,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],b);const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const B=u(i,["realtimeInputConfig"]);t!==void 0&&B!=null&&c(t,["setup","realtimeInputConfig"],B);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&c(t,["setup","contextWindowCompression"],K);const ee=u(i,["proactivity"]);t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee);const te=u(i,["explicitVadSignal"]);return t!==void 0&&te!=null&&c(t,["setup","explicitVadSignal"],te),o}function u_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],s_(r,o)),o}function c_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],r_(r,o)),o}function f_(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function d_(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function p_(i){const t={},o=u(i,["media"]);if(o!=null){let h=jh(o);Array.isArray(h)&&(h=h.map(v=>Oa(v))),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Oa(tg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Oa(eg(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function m_(i){const t={},o=u(i,["media"]);if(o!=null){let h=jh(o);Array.isArray(h)&&(h=h.map(v=>v)),c(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],tg(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],eg(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function h_(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],T_(p));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function g_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],t_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],n_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Oa(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function y_(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function v_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],l_(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],a_(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function S_(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(_=>i_(_))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function T_(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["promptTokensDetails"],C)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["responseTokensDetails"],C)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["toolUsePromptTokensDetails"],C)}const _=u(i,["trafficType"]);return _!=null&&c(t,["trafficType"],_),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function __(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function E_(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],C_(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(C=>C)),c(t,["safetyRatings"],_)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function C_(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function A_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let f=Bt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function R_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function M_(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],N_(a)),t}function N_(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Za(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>HE(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function I_(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function D_(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function w_(i,t){const o={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],ct(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>hg(g))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],_E(f)),o}function b_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=Bt(r);Array.isArray(p)&&(p=p.map(g=>Za(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&D_(f),o}function U_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=Bt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&w_(f,o),o}function x_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function L_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function G_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ie(i,a)),o}function H_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ie(i,a)),o}function P_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function q_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function V_(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const G=u(i,["outputCompressionQuality"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","compressionQuality"],G);const b=u(i,["addWatermark"]);t!==void 0&&b!=null&&c(t,["parameters","addWatermark"],b);const z=u(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const F=u(i,["editMode"]);t!==void 0&&F!=null&&c(t,["parameters","editMode"],F);const B=u(i,["baseSteps"]);return t!==void 0&&B!=null&&c(t,["parameters","editConfig","baseSteps"],B),o}function z_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>OE(y))),c(o,["instances[0]","referenceImages"],g)}const p=u(t,["config"]);return p!=null&&V_(p,o),o}function B_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>$a(f))),c(t,["generatedImages"],r)}return t}function O_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function k_(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),o}function F_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let g=Xu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const f=u(t,["config"]);f!=null&&O_(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Ie(i,p)),o}function J_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=Xu(i,r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&k_(f,o),o}function Y_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function K_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>M_(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function X_(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function Q_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Z_(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function $_(i){const t={},o=u(i,["mode"]);o!=null&&c(t,["mode"],o);const a=u(i,["allowedFunctionNames"]);if(a!=null&&c(t,["allowedFunctionNames"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function W_(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function j_(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Za(ct(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const b=u(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Qu(z));const F=u(t,["responseJsonSchema"]);if(F!=null&&c(a,["responseJsonSchema"],F),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=u(t,["safetySettings"]);if(o!==void 0&&B!=null){let ye=B;Array.isArray(ye)&&(ye=ye.map(Ce=>kE(Ce))),c(o,["safetySettings"],ye)}const K=u(t,["tools"]);if(o!==void 0&&K!=null){let ye=mo(K);Array.isArray(ye)&&(ye=ye.map(Ce=>ZE(po(Ce)))),c(o,["tools"],ye)}const ee=u(t,["toolConfig"]);if(o!==void 0&&ee!=null&&c(o,["toolConfig"],QE(ee)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(t,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],Rn(i,te));const k=u(t,["responseModalities"]);k!=null&&c(a,["responseModalities"],k);const me=u(t,["mediaResolution"]);me!=null&&c(a,["mediaResolution"],me);const X=u(t,["speechConfig"]);if(X!=null&&c(a,["speechConfig"],Zu(X)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=u(t,["thinkingConfig"]);fe!=null&&c(a,["thinkingConfig"],fe);const Te=u(t,["imageConfig"]);Te!=null&&c(a,["imageConfig"],ME(Te));const Le=u(t,["enableEnhancedCivicAnswers"]);return Le!=null&&c(a,["enableEnhancedCivicAnswers"],Le),a}function eE(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],ct(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const g=u(t,["topK"]);g!=null&&c(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&c(a,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const _=u(t,["logprobs"]);_!=null&&c(a,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const w=u(t,["frequencyPenalty"]);w!=null&&c(a,["frequencyPenalty"],w);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const b=u(t,["responseMimeType"]);b!=null&&c(a,["responseMimeType"],b);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Qu(z));const F=u(t,["responseJsonSchema"]);F!=null&&c(a,["responseJsonSchema"],F);const B=u(t,["routingConfig"]);B!=null&&c(a,["routingConfig"],B);const K=u(t,["modelSelectionConfig"]);K!=null&&c(a,["modelConfig"],K);const ee=u(t,["safetySettings"]);if(o!==void 0&&ee!=null){let x=ee;Array.isArray(x)&&(x=x.map(O=>O)),c(o,["safetySettings"],x)}const te=u(t,["tools"]);if(o!==void 0&&te!=null){let x=mo(te);Array.isArray(x)&&(x=x.map(O=>hg(po(O)))),c(o,["tools"],x)}const k=u(t,["toolConfig"]);o!==void 0&&k!=null&&c(o,["toolConfig"],k);const me=u(t,["labels"]);o!==void 0&&me!=null&&c(o,["labels"],me);const X=u(t,["cachedContent"]);o!==void 0&&X!=null&&c(o,["cachedContent"],Rn(i,X));const fe=u(t,["responseModalities"]);fe!=null&&c(a,["responseModalities"],fe);const Te=u(t,["mediaResolution"]);Te!=null&&c(a,["mediaResolution"],Te);const Le=u(t,["speechConfig"]);Le!=null&&c(a,["speechConfig"],Zu(Le));const ye=u(t,["audioTimestamp"]);ye!=null&&c(a,["audioTimestamp"],ye);const Ce=u(t,["thinkingConfig"]);Ce!=null&&c(a,["thinkingConfig"],Ce);const Ve=u(t,["imageConfig"]);if(Ve!=null&&c(a,["imageConfig"],NE(Ve)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return a}function Nh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=Bt(r);Array.isArray(p)&&(p=p.map(g=>Za(g))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],j_(i,f,o)),o}function Ih(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["contents"]);if(r!=null){let p=Bt(r);Array.isArray(p)&&(p=p.map(g=>g)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],eE(i,f,o)),o}function Dh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>E_(h))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function wh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(v=>v)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function tE(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const _=u(i,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&c(t,["parameters","outputOptions","compressionQuality"],_),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function nE(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&c(t,["parameters","includeRaiReason"],_);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const w=u(i,["outputMimeType"]);t!==void 0&&w!=null&&c(t,["parameters","outputOptions","mimeType"],w);const G=u(i,["outputCompressionQuality"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","compressionQuality"],G);const b=u(i,["addWatermark"]);t!==void 0&&b!=null&&c(t,["parameters","addWatermark"],b);const z=u(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const F=u(i,["imageSize"]);t!==void 0&&F!=null&&c(t,["parameters","sampleImageSize"],F);const B=u(i,["enhancePrompt"]);return t!==void 0&&B!=null&&c(t,["parameters","enhancePrompt"],B),o}function iE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&tE(f,o),o}function oE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&nE(f,o),o}function lE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>yE(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],pg(r)),t}function aE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>$a(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],mg(r)),t}function sE(i,t){const o={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Wa(v));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let _=T;Array.isArray(_)&&(_=_.map(C=>uC(C))),c(t,["instances[0]","referenceImages"],_)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function rE(i,t){const o={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const _=u(i,["negativePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","negativePrompt"],_);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const w=u(i,["generateAudio"]);t!==void 0&&w!=null&&c(t,["parameters","generateAudio"],w);const G=u(i,["lastFrame"]);t!==void 0&&G!=null&&c(t,["instances[0]","lastFrame"],Qt(G));const b=u(i,["referenceImages"]);if(t!==void 0&&b!=null){let B=b;Array.isArray(B)&&(B=B.map(K=>cC(K))),c(t,["instances[0]","referenceImages"],B)}const z=u(i,["mask"]);t!==void 0&&z!=null&&c(t,["instances[0]","mask"],rC(z));const F=u(i,["compressionQuality"]);return t!==void 0&&F!=null&&c(t,["parameters","compressionQuality"],F),o}function uE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],pE(p)),t}function cE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],mE(p)),t}function fE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Wa(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],gg(p));const g=u(t,["source"]);g!=null&&hE(g,o);const y=u(t,["config"]);return y!=null&&sE(y,o),o}function dE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Qt(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],yg(p));const g=u(t,["source"]);g!=null&&gE(g,o);const y=u(t,["config"]);return y!=null&&rE(y,o),o}function pE(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>SE(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function mE(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>TE(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function hE(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Wa(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],gg(f)),o}function gE(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Qt(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],yg(f)),o}function yE(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],IE(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],pg(r)),t}function $a(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],dg(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],mg(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function vE(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],dg(o));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function SE(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],aC(o)),t}function TE(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],sC(o)),t}function _E(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const _=u(i,["responseLogprobs"]);_!=null&&c(t,["responseLogprobs"],_);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const w=u(i,["responseModalities"]);w!=null&&c(t,["responseModalities"],w);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const b=u(i,["routingConfig"]);b!=null&&c(t,["routingConfig"],b);const z=u(i,["seed"]);z!=null&&c(t,["seed"],z);const F=u(i,["speechConfig"]);F!=null&&c(t,["speechConfig"],F);const B=u(i,["stopSequences"]);B!=null&&c(t,["stopSequences"],B);const K=u(i,["temperature"]);K!=null&&c(t,["temperature"],K);const ee=u(i,["thinkingConfig"]);ee!=null&&c(t,["thinkingConfig"],ee);const te=u(i,["topK"]);te!=null&&c(t,["topK"],te);const k=u(i,["topP"]);if(k!=null&&c(t,["topP"],k),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function EE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ie(i,a)),o}function CE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Ie(i,a)),o}function AE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function RE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function ME(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function NE(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const f=u(i,["outputCompressionQuality"]);return f!=null&&c(t,["imageOutputOptions","compressionQuality"],f),t}function IE(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],jn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function dg(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Wa(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],jn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Qt(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function DE(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],lg(i,g)),a}function wE(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const g=u(t,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],lg(i,g)),a}function bE(i,t){const o={},a=u(t,["config"]);return a!=null&&DE(i,a,o),o}function UE(i,t){const o={},a=u(t,["config"]);return a!=null&&wE(i,a,o),o}function xE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=ag(r);Array.isArray(f)&&(f=f.map(p=>Lu(p))),c(t,["models"],f)}return t}function LE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=ag(r);Array.isArray(f)&&(f=f.map(p=>Gu(p))),c(t,["models"],f)}return t}function GE(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Lu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],$E(p));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const _=u(i,["topP"]);_!=null&&c(t,["topP"],_);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const w=u(i,["thinking"]);return w!=null&&c(t,["thinking"],w),t}function Gu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(_=>X_(_))),c(t,["endpoints"],T)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],WE(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(_=>_)),c(t,["checkpoints"],T)}return t}function HE(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],Q_(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],Z_(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],__(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function PE(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Qt(o)),t}function qE(i,t){const o={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&c(t,["parameters","enhancePrompt"],_);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function VE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["source"]);r!=null&&BE(r,o);const f=u(t,["config"]);return f!=null&&qE(f,o),o}function zE(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>$a(r))),c(t,["generatedImages"],a)}return t}function BE(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Qt(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>PE(g))),c(t,["instances[0]","productImages"],p)}return o}function OE(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Qt(o));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],GE(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],I_(p));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function pg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function mg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function kE(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function FE(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Qt(o)),t}function JE(i,t){const o={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function YE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["source"]);r!=null&&XE(r,o);const f=u(t,["config"]);return f!=null&&JE(f,o),o}function KE(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>vE(r))),c(t,["generatedMasks"],a)}return t}function XE(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Qt(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],FE(f)),o}function QE(i){const t={},o=u(i,["functionCallingConfig"]);o!=null&&c(t,["functionCallingConfig"],$_(o));const a=u(i,["retrievalConfig"]);return a!=null&&c(t,["retrievalConfig"],a),t}function ZE(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],AE(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],RE(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function hg(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(_=>W_(_))),c(t,["functionDeclarations"],T)}const a=u(i,["retrieval"]);a!=null&&c(t,["retrieval"],a);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(t,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=u(i,["codeExecution"]);p!=null&&c(t,["codeExecution"],p);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(t,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function $E(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function WE(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function jE(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function eC(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function tC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],Ie(i,a));const r=u(t,["config"]);return r!=null&&jE(r,o),o}function nC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&eC(r,o),o}function iC(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const _=u(i,["numberOfImages"]);t!==void 0&&_!=null&&c(t,["parameters","sampleCount"],_);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function oC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Ie(i,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Qt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&iC(p,o),o}function lC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>$a(f))),c(t,["generatedImages"],r)}return t}function aC(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],jn(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function sC(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function rC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Qt(o));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function uC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Wa(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function cC(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Qt(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function gg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function yg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],jn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function dC(i){const t={},o=u(i,["config"]);return o!=null&&fC(o,t),t}function pC(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function mC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&pC(a,t),t}function hC(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function gC(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function yC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],SC(p)),t}function vC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&gC(r,t),t}function SC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function TC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function _C(i){const t={},o=u(i,["config"]);return o!=null&&TC(o,t),t}function EC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function vg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function CC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&vg(a,t),t}function AC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RC="Content-Type",MC="X-Server-Timeout",NC="User-Agent",Hu="x-goog-api-client",IC="1.34.0",DC=`google-genai-sdk/${IC}`,wC="v1beta1",bC="v1beta";class UC{constructor(t){var o,a;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:wC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:bC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&xC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await bh(r),new bu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await bh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Kt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield se(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(v,{stream:!0});try{const w=JSON.parse(T);if("error"in w){const G=JSON.parse(JSON.stringify(w.error)),b=G.status,z=G.code,F=`got status: ${b}. ${JSON.stringify(w)}`;if(z>=400&&z<600)throw new Qa({message:F,status:z})}}catch(w){if(w.name==="ApiError")throw w}p+=T;let _=-1,C=0;for(;;){_=-1,C=0;for(const b of y){const z=p.indexOf(b);z!==-1&&(_===-1||z<_)&&(_=z,C=b.length)}if(_===-1)break;const w=p.substring(0,_);p=p.substring(_+C);const G=w.trim();if(G.startsWith(g)){const b=G.substring(g.length).trim();try{const z=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield se(new bu(z))}catch(z){throw new Error(`exception parsing stream chunk ${b}. ${z}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=DC+" "+this.clientOptions.userAgentExtra;return t[NC]=o,t[Hu]=o,t[RC]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(MC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=Y("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,o,a){var r;const f=this.clientOptions.uploader,p=await f.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),T={};a!=null&&vg(a,T);const _=await this.fetchUploadUrl(h,g,y,v,T,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(o,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,f,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function bh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new Qa({message:r,status:o}):new Error(r)}}function xC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const g=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=a(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LC="mcp_used/unknown";let GC=!1;function Sg(i){for(const t of i)if(HC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return GC}function Tg(i){var t;const o=(t=i[Hu])!==null&&t!==void 0?t:"";i[Hu]=(o+` ${LC}`).trimStart()}function HC(i){return i!==null&&typeof i=="object"&&i instanceof Wu}function PC(i){return Kt(this,arguments,function*(o,a=100){let r,f=0;for(;f<a;){const p=yield se(o.listTools({cursor:r}));for(const g of p.tools)yield yield se(g),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Wu{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Wu(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Xt(PC(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const T=r;p.push(T);const _=T.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=v}}catch(T){o={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),hS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qC(i,t,o){const a=new sS;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class VC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=OC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(B=>{h=B}),T=t.callbacks,_=function(){h({})},C=this.apiClient,w={onopen:_,onmessage:B=>{qC(C,T.onmessage,B)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(B){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(B){}},G=this.webSocketFactory.create(y,BC(p),w);G.connect(),await v;const F={setup:{model:Ie(this.apiClient,t.model)}};return G.send(JSON.stringify(F)),new zC(G,this.apiClient)}}class zC{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=d_(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=f_(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(ro.PLAY)}pause(){this.sendPlaybackControl(ro.PAUSE)}stop(){this.sendPlaybackControl(ro.STOP)}resetContext(){this.sendPlaybackControl(ro.RESET_CONTEXT)}close(){this.conn.close()}}function BC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function OC(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FC(i,t,o){const a=new aS;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=h_(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class JC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new VC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,f,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&Sg(t.config.tools)&&Tg(T);const _=QC(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,v);else{const X=this.apiClient.getApiKey();let fe="BidiGenerateContent",Te="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),fe="BidiGenerateContentConstrained",Te="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${fe}?${Te}=${X}`}let C=()=>{};const w=new Promise(X=>{C=X}),G=t.callbacks,b=function(){var X;(X=G==null?void 0:G.onopen)===null||X===void 0||X.call(G),C({})},z=this.apiClient,F={onopen:b,onmessage:X=>{FC(z,G.onmessage,X)},onerror:(o=G==null?void 0:G.onerror)!==null&&o!==void 0?o:function(X){},onclose:(a=G==null?void 0:G.onclose)!==null&&a!==void 0?a:function(X){}},B=this.webSocketFactory.create(v,XC(_),F);B.connect(),await w;let K=Ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const X=this.apiClient.getProject(),fe=this.apiClient.getLocation();K=`projects/${X}/locations/${fe}/`+K}let ee={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ka.AUDIO]}:t.config.responseModalities=[ka.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],k=[];for(const X of te)if(this.isCallableTool(X)){const fe=X;k.push(await fe.tool())}else k.push(X);k.length>0&&(t.config.tools=k);const me={model:K,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?ee=c_(this.apiClient,me):ee=u_(this.apiClient,me),delete ee.config,B.send(JSON.stringify(ee)),new KC(B,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const YC={turnComplete:!0};class KC{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Bt(o.turns),t.isVertexAI()||(a=a.map(r=>Za(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(kC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},YC),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:m_(t)}:o={realtimeInput:p_(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function XC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function QC(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uh=10;function xh(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(fo(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function fo(i){return"callTool"in i&&typeof i.callTool=="function"}function ZC(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>fo(r)))!==null&&a!==void 0?a:!1}function Lh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(fo(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function Gh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C extends An{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,f,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!ZC(o)||xh(o.config))return await this.generateContentInternal(y);const h=Lh(o);if(h.length>0){const G=h.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${G}.`)}let v,T;const _=Bt(y.contents),C=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:Uh;let w=0;for(;w<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const G=v.candidates[0].content,b=[];for(const z of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(fo(z)){const B=await z.callTool(v.functionCalls);b.push(...B)}w++,T={role:"user",parts:b},y.contents=Bt(y.contents),y.contents.push(G),y.contents.push(T),Gh(y.config)&&(_.push(G),_.push(T))}return Gh(y.config)&&(v.automaticFunctionCallingHistory=_),v},this.generateContentStream=async o=>{var a,r,f,p,g;if(this.maybeMoveToResponseJsonSchem(o),xh(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const y=Lh(o);if(y.length>0){const T=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(f=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let g;return f?g={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Ti(Cn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,f,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>fo(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Sg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Tg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,a,r;const f=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(fo(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(t){var o,a,r;const f=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Uh;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,T){return Kt(this,arguments,function*(){for(var _,C,w,G,b,z;g<f;){p&&(g++,p=!1);const ee=yield se(h.processParamsMaybeAddMcpUsage(T)),te=yield se(h.generateContentStreamInternal(ee)),k=[],me=[];try{for(var F=!0,B=(C=void 0,Xt(te)),K;K=yield se(B.next()),_=K.done,!_;F=!0){G=K.value,F=!1;const X=G;if(yield yield se(X),X.candidates&&(!((b=X.candidates[0])===null||b===void 0)&&b.content)){me.push(X.candidates[0].content);for(const fe of(z=X.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(g<f&&fe.functionCall){if(!fe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(fe.functionCall.name)){const Te=yield se(v.get(fe.functionCall.name).callTool([fe.functionCall]));k.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${fe.functionCall.name}`)}}}}catch(X){C={error:X}}finally{try{!F&&!_&&(w=B.return)&&(yield se(w.call(B)))}finally{if(C)throw C.error}}if(k.length>0){p=!0;const X=new fl;X.candidates=[{content:{role:"user",parts:k}}],yield yield se(X);const fe=[];fe.push(...me),fe.push({role:"user",parts:k});const Te=Bt(T.contents).concat(fe);T.contents=Te}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Ih(this.apiClient,t);return g=Y("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=wh(v),_=new fl;return Object.assign(_,T),_})}else{const h=Nh(this.apiClient,t);return g=Y("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=Dh(v),_=new fl;return Object.assign(_,T),_})}}async generateContentStreamInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=Ih(this.apiClient,t);return g=Y("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(T){return Kt(this,arguments,function*(){var _,C,w,G;try{for(var b=!0,z=Xt(T),F;F=yield se(z.next()),_=F.done,!_;b=!0){G=F.value,b=!1;const B=G,K=wh(yield se(B.json()));K.sdkHttpResponse={headers:B.headers};const ee=new fl;Object.assign(ee,K),yield yield se(ee)}}catch(B){C={error:B}}finally{try{!b&&!_&&(w=z.return)&&(yield se(w.call(z)))}finally{if(C)throw C.error}}})})}else{const h=Nh(this.apiClient,t);return g=Y("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(T){return Kt(this,arguments,function*(){var _,C,w,G;try{for(var b=!0,z=Xt(T),F;F=yield se(z.next()),_=F.done,!_;b=!0){G=F.value,b=!1;const B=G,K=Dh(yield se(B.json()));K.sdkHttpResponse={headers:B.headers};const ee=new fl;Object.assign(ee,K),yield yield se(ee)}}catch(B){C={error:B}}finally{try{!b&&!_&&(w=z.return)&&(yield se(w.call(z)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=J_(this.apiClient,t);return g=Y("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=K_(v),_=new ch;return Object.assign(_,T),_})}else{const h=F_(this.apiClient,t);return g=Y("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=Y_(v),_=new ch;return Object.assign(_,T),_})}}async generateImagesInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=oE(this.apiClient,t);return g=Y("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=aE(v),_=new fh;return Object.assign(_,T),_})}else{const h=iE(this.apiClient,t);return g=Y("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=lE(v),_=new fh;return Object.assign(_,T),_})}}async editImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=z_(this.apiClient,t);return f=Y("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=B_(y),v=new Q0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=oC(this.apiClient,t);return f=Y("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=lC(y),v=new Z0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=VE(this.apiClient,t);return f=Y("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=zE(y),v=new $0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=YE(this.apiClient,t);return f=Y("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=KE(y),v=new W0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=CE(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Gu(v))}else{const h=EE(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Lu(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=UE(this.apiClient,t);return g=Y("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=LE(v),_=new dh;return Object.assign(_,T),_})}else{const h=bE(this.apiClient,t);return g=Y("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=xE(v),_=new dh;return Object.assign(_,T),_})}}async update(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=nC(this.apiClient,t);return g=Y("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Gu(v))}else{const h=tC(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Lu(v))}}async delete(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=H_(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=q_(v),_=new ph;return Object.assign(_,T),_})}else{const h=G_(this.apiClient,t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=P_(v),_=new ph;return Object.assign(_,T),_})}}async countTokens(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=U_(this.apiClient,t);return g=Y("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=L_(v),_=new mh;return Object.assign(_,T),_})}else{const h=b_(this.apiClient,t);return g=Y("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=x_(v),_=new mh;return Object.assign(_,T),_})}}async computeTokens(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=A_(this.apiClient,t);return f=Y("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=R_(y),v=new j0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=dE(this.apiClient,t);return g=Y("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const T=cE(v),_=new Fa;return Object.assign(_,T),_})}else{const h=fE(this.apiClient,t);return g=Y("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const T=uE(v),_=new Fa;return Object.assign(_,T),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC extends An{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=k0(t);return g=Y("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const h=O0(t);return g=Y("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=G0(t);return f=Y("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function eA(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>uA(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function tA(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],rA(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function nA(i,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],tA(i,a,o)),o}function iA(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function oA(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lA(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function aA(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function sA(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],$u(T));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","thinkingConfig"],_);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&c(t,["setup","systemInstruction"],eA(ct(w)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let te=mo(G);Array.isArray(te)&&(te=te.map(k=>fA(po(k)))),c(t,["setup","tools"],te)}const b=u(i,["sessionResumption"]);t!==void 0&&b!=null&&c(t,["setup","sessionResumption"],cA(b));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const F=u(i,["outputAudioTranscription"]);t!==void 0&&F!=null&&c(t,["setup","outputAudioTranscription"],F);const B=u(i,["realtimeInputConfig"]);t!==void 0&&B!=null&&c(t,["setup","realtimeInputConfig"],B);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&c(t,["setup","contextWindowCompression"],K);const ee=u(i,["proactivity"]);if(t!==void 0&&ee!=null&&c(t,["setup","proactivity"],ee),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function rA(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Ie(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],sA(r,o)),o}function uA(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],iA(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],oA(p));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],jC(y));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&c(t,["videoMetadata"],_),t}function cA(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function fA(i){const t={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["googleSearchRetrieval"]);a!=null&&c(t,["googleSearchRetrieval"],a);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(t,["fileSearch"],f);const p=u(i,["codeExecution"]);if(p!=null&&c(t,["codeExecution"],p),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],lA(g));const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],aA(y));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dA(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function pA(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=dA(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class mA extends An{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=nA(this.apiClient,t);f=Y("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=pA(g,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hA(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function gA(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&hA(a,t),t}function yA(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function vA(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function SA(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&vA(a,t),t}function TA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _A extends An{constructor(t){super(),this.apiClient=t,this.list=async o=>new Ti(Cn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yA(t);return f=Y("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=gA(t);r=Y("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=SA(t);return f=Y("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=TA(y),v=new eS;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EA extends An{constructor(t,o=new _A(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new Ti(Cn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=dC(t);return f=Y("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=hC(t);return f=Y("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=mC(t);r=Y("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_C(t);return f=Y("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=EC(y),v=new tS;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=CC(t);return f=Y("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=AC(y),v=new nS;return Object.assign(v,h),v})}}async importFile(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vC(t);return f=Y("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=yC(y),v=new Yu;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _g=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return _g=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const CA=()=>_g();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const qu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ot extends Error{}class pt extends Ot{constructor(t,o,a,r){super(`${pt.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new ja({message:a,cause:qu(o)});const f=o;return t===400?new Cg(t,f,a,r):t===401?new Ag(t,f,a,r):t===403?new Rg(t,f,a,r):t===404?new Mg(t,f,a,r):t===409?new Ng(t,f,a,r):t===422?new Ig(t,f,a,r):t===429?new Dg(t,f,a,r):t>=500?new wg(t,f,a,r):new pt(t,f,a,r)}}class Vu extends pt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ja extends pt{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Eg extends ja{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Cg extends pt{}class Ag extends pt{}class Rg extends pt{}class Mg extends pt{}class Ng extends pt{}class Ig extends pt{}class Dg extends pt{}class wg extends pt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AA=/^[a-z][a-z0-9+.-]*:/i,RA=i=>AA.test(i);let zu=i=>(zu=Array.isArray,zu(i));const MA=zu;let NA=MA;const Hh=NA;function IA(i){if(!i)return!0;for(const t in i)return!1;return!0}function DA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const wA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ot(`${i} must be an integer`);if(t<0)throw new Ot(`${i} must be a positive integer`);return t},bA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const so="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const LA=()=>{var i,t,o,a,r;const f=xA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":so,"X-Stainless-OS":qh(Deno.build.os),"X-Stainless-Arch":Ph(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":so,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":so,"X-Stainless-OS":qh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Ph((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=GA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":so,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":so,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function GA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const Ph=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",qh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let La;const HA=()=>La??(La=LA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function bg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function qA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return bg({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Ug(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function VA(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Nu(i,t,o){return xg(),new File(i,t??"unknown_file",o)}function BA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const OA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",kA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Lg(i),FA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function JA(i,t,o){if(xg(),i=await i,kA(i))return i instanceof File?i:Nu([await i.arrayBuffer()],i.name);if(FA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Nu(await Bu(r),t,o)}const a=await Bu(i);if(t||(t=BA(i)),!(o!=null&&o.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Nu(a,t,o)}async function Bu(i){var t,o,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Lg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(OA(i))try{for(var g=!0,y=Xt(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;p.push(...await Bu(v))}}catch(v){o={error:v}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${YA(i)}`)}return p}function YA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gg{constructor(t){this._client=t}}Gg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Vh=Object.freeze(Object.create(null)),KA=(i=Hg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((v,T,_)=>{var C,w,G;/[?#]/.test(T)&&(r=!0);const b=a[_];let z=(r?encodeURIComponent:i)(""+b);return _!==a.length&&(b==null||typeof b=="object"&&b.toString===((G=Object.getPrototypeOf((w=Object.getPrototypeOf((C=b.hasOwnProperty)!==null&&C!==void 0?C:Vh))!==null&&w!==void 0?w:Vh))===null||G===void 0?void 0:G.toString))&&(z=b+"",f.push({start:v.length+T.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),v+T+(_===a.length?"":z)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)f.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(f.sort((v,T)=>v.start-T.start),f.length>0){let v=0;const T=f.reduce((_,C)=>{const w=" ".repeat(C.start-v),G="^".repeat(C.length);return v=C.start+C.length,_+w+G},"");throw new Ot(`Path parameters result in path with invalid segments:
${f.map(_=>_.error).join(`
`)}
${p}
${T}`)}return p}),Ga=KA(Hg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pg extends Gg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,f=Ya(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new Ot("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new Ot("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ga`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Ga`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Ga`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,g=Ya(f,["api_version"]);return this._client.get(Ga`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Pg._key=Object.freeze(["interactions"]);class qg extends Pg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XA(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ha;function ju(i){let t;return(Ha??(t=new globalThis.TextEncoder,Ha=t.encode.bind(t)))(i)}let Pa;function zh(i){let t;return(Pa??(t=new globalThis.TextDecoder,Pa=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class es{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ju(t):t;this.buffer=XA([this.buffer,o]);const a=[];let r;for(;(r=QA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(zh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=zh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}es.NEWLINE_CHARS=new Set([`
`,"\r"]);es.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function QA(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function ZA(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ka={off:0,error:200,warn:300,info:400,debug:500},Bh=(i,t,o)=>{if(i){if(DA(Ka,i))return i;dt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ka))}`)}};function hl(){}function qa(i,t,o){return!t||Ka[i]>Ka[o]?hl:t[i].bind(t)}const $A={error:hl,warn:hl,info:hl,debug:hl};let Oh=new WeakMap;function dt(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return $A;const r=Oh.get(o);if(r&&r[0]===a)return r[1];const f={error:qa("error",o,a),warn:qa("warn",o,a),info:qa("info",o,a),debug:qa("debug",o,a)};return Oh.set(o,[a,f]),f}const Si=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uo{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const f=a?dt(a):console;function p(){return Kt(this,arguments,function*(){var y,h,v,T;if(r)throw new Ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,w=Xt(WA(t,o)),G;G=yield se(w.next()),y=G.done,!y;C=!0){T=G.value,C=!1;const b=T;if(!_)if(b.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield se(JSON.parse(b.data))}catch(z){throw f.error("Could not parse message into JSON:",b.data),f.error("From chunk:",b.raw),z}}}catch(b){h={error:b}}finally{try{!C&&!y&&(v=w.return)&&(yield se(v.call(w)))}finally{if(h)throw h.error}}_=!0}catch(b){if(Pu(b))return yield se(void 0);throw b}finally{_||o.abort()}})}return new uo(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function f(){return Kt(this,arguments,function*(){var y,h,v,T;const _=new es,C=Ug(t);try{for(var w=!0,G=Xt(C),b;b=yield se(G.next()),y=b.done,!y;w=!0){T=b.value,w=!1;const z=T;for(const F of _.decode(z))yield yield se(F)}}catch(z){h={error:z}}finally{try{!w&&!y&&(v=G.return)&&(yield se(v.call(G)))}finally{if(h)throw h.error}}for(const z of _.flush())yield yield se(z)})}function p(){return Kt(this,arguments,function*(){var y,h,v,T;if(r)throw new Ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var C=!0,w=Xt(f()),G;G=yield se(w.next()),y=G.done,!y;C=!0){T=G.value,C=!1;const b=T;_||b&&(yield yield se(JSON.parse(b)))}}catch(b){h={error:b}}finally{try{!C&&!y&&(v=w.return)&&(yield se(v.call(w)))}finally{if(h)throw h.error}}_=!0}catch(b){if(Pu(b))return yield se(void 0);throw b}finally{_||o.abort()}})}return new uo(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),o.push(p)}return f.shift()}});return[new uo(()=>r(t),this.controller,this.client),new uo(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return bg({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await o.next();if(f)return a.close();const p=ju(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function WA(i,t){return Kt(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ot("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ot("Attempted to iterate over a response with no body");const g=new eR,y=new es,h=Ug(i.body);try{for(var v=!0,T=Xt(jA(h)),_;_=yield se(T.next()),a=_.done,!a;v=!0){p=_.value,v=!1;const C=p;for(const w of y.decode(C)){const G=g.decode(w);G&&(yield yield se(G))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(f=T.return)&&(yield se(f.call(T)))}finally{if(r)throw r.error}}for(const C of y.flush()){const w=g.decode(C);w&&(yield yield se(w))}})}function jA(i){return Kt(this,arguments,function*(){var o,a,r,f;let p=new Uint8Array;try{for(var g=!0,y=Xt(i),h;h=yield se(y.next()),o=h.done,!o;g=!0){f=h.value,g=!1;const v=f;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?ju(v):v;let _=new Uint8Array(p.length+T.length);_.set(p),_.set(T,p.length),p=_;let C;for(;(C=ZA(p))!==-1;)yield yield se(p.slice(0,C)),p=p.slice(C)}}catch(v){a={error:v}}finally{try{!g&&!o&&(r=y.return)&&(yield se(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield se(p))})}class eR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=tR(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function tR(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nR(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var g;if(t.options.stream)return dt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):uo.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await o.json():await o.text()})();return dt(i).debug(`[${a}] response parsed`,Si({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ec extends Promise{constructor(t,o,a=nR){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new ec(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vg=Symbol("brand.privateNullableHeaders");function*iR(i){if(!i)return;if(Vg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Hh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Hh(a[1])?a[1]:[a[1]];let p=!1;for(const g of f)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const dl=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[f,p]of iR(a)){const g=f.toLowerCase();r.has(g)||(t.delete(f),r.add(g)),p===null?(t.delete(f),o.add(g)):(t.append(f,p),o.delete(g))}}return{[Vg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iu=i=>{var t,o,a,r,f,p;if(typeof globalThis.process<"u")return(a=(o=(t=D0)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zg;class ts{constructor(t){var o,a,r,f,p,g,y,{baseURL:h=Iu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Iu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=t,_=Ya(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:T},_),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:ts.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(p=(f=Bh(C.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Bh(Iu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:w,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:PA(),this.encoder=zA,this._options=C,this.apiKey=v,this.apiVersion=T,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=dl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return dl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return dl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new Ot(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${so}`}defaultIdempotencyKey(){return`stainless-node-retry-${CA()}`}makeStatusError(t,o,a,r){return pt.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=RA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return IA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new ec(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,f,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:v,timeout:T}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:v,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,w=Date.now();if(dt(this).debug(`[${_}] sending request`,Si({retryOfRequestLogID:a,method:g.method,url:v,options:g,headers:h.headers})),!((f=g.signal)===null||f===void 0)&&f.aborted)throw new Vu;const G=new AbortController,b=await this.fetchWithTimeout(v,h,T,G).catch(qu),z=Date.now();if(b instanceof globalThis.Error){const B=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Vu;const K=Pu(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(o)return dt(this).info(`[${_}] connection ${K?"timed out":"failed"} - ${B}`),dt(this).debug(`[${_}] connection ${K?"timed out":"failed"} (${B})`,Si({retryOfRequestLogID:a,url:v,durationMs:z-w,message:b.message})),this.retryRequest(g,o,a??_);throw dt(this).info(`[${_}] connection ${K?"timed out":"failed"} - error; no more retries left`),dt(this).debug(`[${_}] connection ${K?"timed out":"failed"} (error; no more retries left)`,Si({retryOfRequestLogID:a,url:v,durationMs:z-w,message:b.message})),K?new Eg:new ja({cause:b})}const F=`[${_}${C}] ${h.method} ${v} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${z-w}ms`;if(!b.ok){const B=await this.shouldRetry(b);if(o&&B){const X=`retrying, ${o} attempts remaining`;return await VA(b.body),dt(this).info(`${F} - ${X}`),dt(this).debug(`[${_}] response error (${X})`,Si({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,durationMs:z-w})),this.retryRequest(g,o,a??_,b.headers)}const K=B?"error; no more retries left":"error; not retryable";dt(this).info(`${F} - ${K}`);const ee=await b.text().catch(X=>qu(X).message),te=bA(ee),k=te?void 0:ee;throw dt(this).debug(`[${_}] response error (${K})`,Si({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,message:k,durationMs:Date.now()-w})),this.makeStatusError(b.status,te,k,b.headers)}return dt(this).info(F),dt(this).debug(`[${_}] response start`,Si({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,durationMs:z-w})),{response:b,options:g,controller:G,requestLogID:_,retryOfRequestLogID:a,startTime:w}}async fetchWithTimeout(t,o,a,r){const f=o||{},{signal:p,method:g}=f,y=Ya(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(h)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var f;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await UA(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,p=Math.min(.5*Math.pow(2,f),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,f;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=p,T=this.buildURL(y,h,v);"timeout"in p&&wA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:_,body:C}=this.buildBody({options:p}),w=await this.buildHeaders({options:t,method:g,bodyHeaders:_,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:w},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=dl([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),HA()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=dl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:qA(t)}:this.encoder({body:t,headers:a})}}ts.DEFAULT_TIMEOUT=6e4;class it extends ts{constructor(){super(...arguments),this.interactions=new qg(this)}}zg=it;it.GeminiNextGenAPIClient=zg;it.GeminiNextGenAPIClientError=Ot;it.APIError=pt;it.APIConnectionError=ja;it.APIConnectionTimeoutError=Eg;it.APIUserAbortError=Vu;it.NotFoundError=Mg;it.ConflictError=Ng;it.RateLimitError=Dg;it.BadRequestError=Cg;it.AuthenticationError=Ag;it.InternalServerError=wg;it.PermissionDeniedError=Rg;it.UnprocessableEntityError=Ig;it.toFile=JA;it.Interactions=qg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function lR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function aR(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function sR(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function rR(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function uR(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],kh(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],kh(C))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const _=u(i,["beta"]);return t!==void 0&&_!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],_),a}function cR(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&_R(f);const p=u(i,["config"]);return p!=null&&rR(p,o),o}function fR(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&ER(f,o,t);const p=u(i,["config"]);return p!=null&&uR(p,o,t),o}function dR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function pR(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function mR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function hR(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function gR(i,t){const o={},a=u(i,["config"]);return a!=null&&mR(a,o),o}function yR(i,t){const o={},a=u(i,["config"]);return a!=null&&hR(a,o),o}function vR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Bg(g))),c(o,["tuningJobs"],p)}return o}function SR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>Ou(g))),c(o,["tuningJobs"],p)}return o}function TR(i,t){const o={},a=u(i,["name"]);a!=null&&c(o,["model"],a);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function _R(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function ER(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Bg(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],ig(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const T=u(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const _=u(i,["_self"]);return _!=null&&c(o,["tunedModel"],TR(_)),o}function Ou(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],ig(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const T=u(i,["description"]);T!=null&&c(o,["description"],T);const _=u(i,["baseModel"]);_!=null&&c(o,["baseModel"],_);const C=u(i,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const w=u(i,["preTunedModel"]);w!=null&&c(o,["preTunedModel"],w);const G=u(i,["supervisedTuningSpec"]);G!=null&&c(o,["supervisedTuningSpec"],G);const b=u(i,["preferenceOptimizationSpec"]);b!=null&&c(o,["preferenceOptimizationSpec"],b);const z=u(i,["tuningDataStats"]);z!=null&&c(o,["tuningDataStats"],z);const F=u(i,["encryptionSpec"]);F!=null&&c(o,["encryptionSpec"],F);const B=u(i,["partnerModelTuningSpec"]);B!=null&&c(o,["partnerModelTuningSpec"],B);const K=u(i,["customBaseModel"]);K!=null&&c(o,["customBaseModel"],K);const ee=u(i,["experiment"]);ee!=null&&c(o,["experiment"],ee);const te=u(i,["labels"]);te!=null&&c(o,["labels"],te);const k=u(i,["outputUri"]);k!=null&&c(o,["outputUri"],k);const me=u(i,["pipelineJob"]);me!=null&&c(o,["pipelineJob"],me);const X=u(i,["serviceAccount"]);X!=null&&c(o,["serviceAccount"],X);const fe=u(i,["tunedModelDisplayName"]);fe!=null&&c(o,["tunedModelDisplayName"],fe);const Te=u(i,["veoTuningSpec"]);return Te!=null&&c(o,["veoTuningSpec"],Te),o}function CR(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function kh(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AR extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Ti(Cn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:wu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=pR(t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>Ou(v))}else{const h=dR(t);return g=Y("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>Bg(v))}}async listInternal(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=yR(t);return g=Y("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=SR(v),_=new hh;return Object.assign(_,T),_})}else{const h=gR(t);return g=Y("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=vR(v),_=new hh;return Object.assign(_,T),_})}}async cancel(t){var o,a,r,f;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=lR(t);return g=Y("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=sR(v),_=new gh;return Object.assign(_,T),_})}else{const h=oR(t);return g=Y("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:v.headers},_})),p.then(v=>{const T=aR(v),_=new gh;return Object.assign(_,T),_})}}async tuneInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const g=fR(t,t);return f=Y("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Ou(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cR(t);return f=Y("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>CR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RR{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MR=1024*1024*8,NR=3,IR=1e3,DR=2,Xa="x-goog-upload-status";async function wR(i,t,o){var a;const r=await Og(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Xa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function bR(i,t,o){var a;const r=await Og(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Xa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=$h(f),g=new Ku;return Object.assign(g,p),g}async function Og(i,t,o){var a,r;let f=0,p=0,g=new bu(new Response),y="upload";for(f=i.size;p<f;){const h=Math.min(MR,f-p),v=i.slice(p,p+h);p+h>=f&&(y+=", finalize");let T=0,_=IR;for(;T<NR&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Xa]));)T++,await xR(_),_=_*DR;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Xa])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function UR(i){return{size:i.size,type:i.type}}function xR(i){return new Promise(t=>setTimeout(t,i))}class LR{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await wR(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await bR(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await UR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GR{create(t,o,a){return new HR(t,o,a)}}class HR{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fh="x-goog-api-key";class PR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Fh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Fh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qR="gl-node/";class ns{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new it({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=x0(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new PR(this.apiKey);this.apiClient=new UC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:qR+"web",uploader:new LR,downloader:new RR}),this.models=new $C(this.apiClient),this.live=new JC(this.apiClient,r,new GR),this.batches=new rT(this.apiClient),this.chats=new kT(this.models,this.apiClient),this.caches=new zT(this.apiClient),this.files=new jT(this.apiClient),this.operations=new WC(this.apiClient),this.authTokens=new mA(this.apiClient),this.tunings=new AR(this.apiClient),this.fileSearchStores=new EA(this.apiClient)}}const bM={Creator:"",Caregiver:"",Ruler:"",Magician:"",Hero:"",Outlaw:"",Explorer:"",Sage:"",Jester:"",Everyman:"",Innocent:"",Lover:"",Orphan:""},Va={ISTJ:"        .                             .",ISFJ:"          .                ,           .",INFJ:"          .             ,                .",INTJ:"        .          ,        .            .",ISTP:"         .             ,     .            .",ISFP:"        .                   .             .",INFP:"         .                     .   ,      .",INTP:"         .            ,         .          .",ESTP:"        .                .      ,      .",ESFP:"          .                .              .",ENFP:"         .                  .          .",ENTP:"        .                   .            .",ESTJ:"        .              .                .",ESFJ:"         .                .               .",ENFJ:"           .                .             .",ENTJ:"         .              .              .","1w9":"          .       ,                     .","1w2":"            .       ,          .           .","2w1":"         .             .                   .","2w3":"         .              .                   .","3w2":"          .               .               .","3w4":"         .             .                  .","4w3":"        .            .                  .","4w5":"        .                .               .","5w4":"        .                .                 .","5w6":"        .                 .                 .","6w5":"        .                  .               .","6w7":"          .               .                .","7w6":"        .                  .               .","7w8":"        .               .               .","8w7":"       .                .          ,        .","8w9":"       .                  .                .","9w8":"         .               .          ,        .","9w1":"       .               .                    .",Creator:"() (A)       .               ,              .",Caregiver:"          .               .                 .",Ruler:"          .               .               .",Magician:"          .               .                .",Hero:"         .                .                 .",Outlaw:"         .               .                 .",Explorer:"          .               .                .",Sage:"         .                 .             .",Jester:"         .               .                .",Everyman:"         .                .              .",Orphan:"         .                .              .",Innocent:"          .               .                  .",Lover:"          .                 .               ."},VR=i=>i==="1234",is=(i,t)=>{const o=i.message||String(i);return console.error(`[${t.toUpperCase()} API Error]:`,i),o.includes("exceeded your current quota")||o.includes("quota exceeded")||o.includes("429")?"API  (Quota) .          .":o.includes("API key not valid")||o.includes("INVALID_ARGUMENT")||o.includes("401")||o.includes("403")?"  API .      .":o.includes("Requested entity was not found")||o.includes("model not found")||o.includes("404")?" AI       .":o.includes("overloaded")||o.includes("503")||o.includes("500")||o.includes("deadline exceeded")?"AI      .     .":`   : ${o}`},os=i=>{if(!i)return"{}";let t=i.replace(/<think>[\s\S]*?<\/think>/gi,"").trim();try{const o=t.match(/```(?:json)?\s*([\s\S]*?)\s*```/i);if(o&&o[1])t=o[1].trim();else{const T=t.indexOf("{"),_=t.indexOf("[");let C=-1;T!==-1&&_!==-1?C=Math.min(T,_):T!==-1?C=T:_!==-1&&(C=_),C!==-1&&(t=t.substring(C))}let a=t,r=0,f=0,p=!1,g="";for(let T=0;T<a.length;T++){const _=a[T];_==='"'&&g!=="\\"&&(p=!p),p||(_==="{"?r++:_==="}"?r--:_==="["?f++:_==="]"&&f--),g=_}for(p&&(a+='"');f>0;)a+="]",f--;for(;r>0;)a+="}",r--;const y=a.indexOf("{"),h=a.indexOf("[");let v=-1;return y!==-1&&(h===-1||y<h)?v=y:h!==-1&&(v=h),v===-1?"{}":(a=a.substring(v),a.replace(/,\s*([\]}])/g,"$1").replace(/(?:\/\*[\s\S]*?\*\/)|(?:\/\/\s.*)/g,"").trim())}catch(o){return console.warn("JSON    :",o),"{}"}},kg=i=>i?i.replace(/[\u200B-\u200D\uFEFF\u00A0]/g,"").replace(/\r\n|\r/g,`
`).replace(/[ \t]{2,}/g," ").replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"").replace(/\n{3,}/g,`

`).trim():"",zR=i=>{var G,b,z,F,B,K,ee,te,k,me,X,fe,Te,Le,ye,Ce,Ve;const t=i||{};let o=t.characterName||t.character_name||"   ";typeof o!="string"&&(o=JSON.stringify(o)),o=o.replace(/[\[\]]/g,"").trim();let a=typeof t.mbti=="string"?t.mbti:((G=t.mbti)==null?void 0:G.type)||((b=t.mbti)==null?void 0:b.code)||"UNKNOWN",r=String(a).split("-")[0].toUpperCase().substring(0,4);const f=Va[r]||(typeof t.mbti=="object"?((z=t.mbti)==null?void 0:z.description)||((F=t.mbti)==null?void 0:F.reason):t.mbtiReason||t.mbti_reason||"   ");let p=typeof t.enneagram=="string"?t.enneagram:((B=t.enneagram)==null?void 0:B.type)||((K=t.enneagram)==null?void 0:K.code)||"4w5";p=String(p).toLowerCase();const g=Va[p]||(typeof t.enneagram=="object"?((ee=t.enneagram)==null?void 0:ee.description)||((te=t.enneagram)==null?void 0:te.motivation):t.enneagramReason||t.enneagram_reason||"   ");let y=typeof t.archetype=="string"?t.archetype:((k=t.archetype)==null?void 0:k.name)||((me=t.archetype)==null?void 0:me.type)||"Everyman";y=String(y).trim();const h=Object.keys(Va).find(x=>x.toLowerCase()===y.toLowerCase()),v=h?Va[h]:typeof t.archetype=="object"?((X=t.archetype)==null?void 0:X.description)||((fe=t.archetype)==null?void 0:fe.logic):t.archetypeReason||t.archetype_reason||"  ",T=x=>{const O=parseInt(x);return isNaN(O)?50:Math.max(0,Math.min(100,O))},_=t.symbolicImage||t.symbol_image||{},C=String(_.symbol||t.symbol||t.symbolic_item||""),w=String(_.description||_.reason||t.symbolicDescription||t.symbol_description||" .");return{characterName:o,oneLineSummary:t.oneLineSummary||t.one_line_summary||t.summary||" .",mbti:{type:r,description:f},enneagram:{type:p,description:g},archetype:{name:h||y,description:v},big5:{openness:T(((Te=t.big5)==null?void 0:Te.openness)??t.openness),conscientiousness:T(((Le=t.big5)==null?void 0:Le.conscientiousness)??t.conscientiousness),extraversion:T(((ye=t.big5)==null?void 0:ye.extraversion)??t.extraversion),agreeableness:T(((Ce=t.big5)==null?void 0:Ce.agreeableness)??t.agreeableness),neuroticism:T(((Ve=t.big5)==null?void 0:Ve.neuroticism)??t.neuroticism)},symbolicImage:{symbol:C,description:w},detailedAnalysis:t.detailedAnalysis||t.detailed_analysis||"",hiddenPsychology:t.hiddenPsychology||t.hidden_psychology||t.shadow||"",subconsciousMotivation:t.subconsciousMotivation||t.subconscious_motivation||t.motivation||"",synergy:t.synergy||t.relationship_synergy||t.strengths||"",growthAdvice:t.growthAdvice||t.growth_advice||t.advice||"",shareSummary:t.shareSummary||t.share_summary||""}},BR=i=>{const t=i||{};let o=t.characterReactions||t.character_reactions;o&&typeof o=="object"&&!Array.isArray(o)&&(o=Object.entries(o).map(([r,f])=>({...typeof f=="object"?f:{innerThought:String(f)},name:r})));const a=Array.isArray(o)?o.map(r=>{let f=r.emotions||r.emotion_scores||{};(typeof f!="object"||Array.isArray(f))&&(f={joy:0,anger:0,sadness:0,fear:0,trust:5});let p=String(r.name||"").replace(/[\[\]]/g,"").trim();return{id:r.id||crypto.randomUUID(),name:p,stressLevel:parseInt(r.stressLevel??r.stress_level??50),emotions:{joy:parseInt(f.joy??0),anger:parseInt(f.anger??0),sadness:parseInt(f.sadness??0),fear:parseInt(f.fear??0),trust:parseInt(f.trust??5)},emotion:r.emotion||r.current_emotion||"",innerThought:String(r.innerThought||r.inner_thought||"   .")}}):[];return{score:parseInt(t.score??t.scene_score??50),keywords:Array.isArray(t.keywords)?t.keywords:[],summary:t.summary||t.analysis_summary||"   .",emotionalTone:t.emotionalTone||t.emotional_tone||"",characterReactions:a}},OR=i=>{const t=i||{},o=Array.isArray(t.strengths)?t.strengths:Array.isArray(t.synergy)?t.synergy:typeof t.synergy=="string"?[t.synergy]:[],a=Array.isArray(t.conflicts)?t.conflicts:Array.isArray(t.conflict_points)?t.conflict_points:Array.isArray(t.weaknesses)?t.weaknesses:[];return{relationshipTitle:t.relationshipTitle||t.relationship_title||" ",chemistryScore:parseInt(t.chemistryScore||t.chemistry_score)||50,definition:t.definition||t.relationship_definition||"",strengths:o.length>0?o:["   ."],conflicts:a.length>0?a:["   ."],advice:t.advice||t.relationship_advice||"",shareSummary:t.shareSummary||t.share_summary||"",narrativeSummary:t.narrativeSummary||t.narrative_summary||""}},ls=async(i,t,o,a=!0)=>{var T,_,C,w,G,b;const f={openai:{endpoint:"https://api.openai.com/v1/chat/completions",model:"gpt-4o-mini"},claude:{endpoint:"https://api.anthropic.com/v1/messages",model:"claude-3-5-sonnet-latest"},openrouter:{endpoint:"https://openrouter.ai/api/v1/chat/completions",model:"deepseek/deepseek-chat"}}[i],p={"Content-Type":"application/json"};let g={};i==="openai"||i==="openrouter"?(p.Authorization=`Bearer ${t}`,g={model:f.model,messages:[{role:"user",content:o+(a?`

IMPORTANT: Respond ONLY with a valid JSON object.`:"")}],...a?{response_format:{type:"json_object"}}:{}}):i==="claude"&&(p["x-api-key"]=t,p["anthropic-version"]="2023-06-01",p["dangerously-allow-browser"]="true",g={model:f.model,max_tokens:4096,messages:[{role:"user",content:o+`

CRITICAL: Respond ONLY with a valid JSON object.`}]});const y=await fetch(f.endpoint,{method:"POST",headers:p,body:JSON.stringify(g)});if(!y.ok){const F=((T=(await y.json().catch(()=>({}))).error)==null?void 0:T.message)||y.statusText;throw new Error(F)}const h=await y.json(),v=i==="claude"?(C=(_=h.content)==null?void 0:_[0])==null?void 0:C.text:(b=(G=(w=h.choices)==null?void 0:w[0])==null?void 0:G.message)==null?void 0:b.content;return a?JSON.parse(os(v)):v},UM=async(i,t)=>{var a;if(VR(t))return!0;const o="Hello, respond with 'OK' only.";try{if(i==="gemini"){const r=t||void 0;if(!r)throw new Error("API   .");return((a=(await new ns({apiKey:r}).models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{thinkingConfig:{thinkingBudget:0}}})).text)==null?void 0:a.includes("OK"))||!1}return await ls(i,t,o,!1),!0}catch(r){throw new Error(is(r,i))}},kR=async(i,t,o,a="",r=[])=>{const f=kg(i.description),p=r.length>0?`### NARRATIVE HISTORY ###
${r.map(y=>{var h;return`[${y.date}] ${((h=y.analysis)==null?void 0:h.summary)||y.content}`}).join(`
`)}`:"",g=`         . "${i.name}"    .
     : ${f}. 
    ${p}

    CRITICAL INSTRUCTIONS:
    1.      JSON .
    2. 'big5'  (openness, conscientiousness, extraversion, agreeableness, neuroticism)  0 100   .
    3. 'mbti' 4 , 'archetype'   . (Creator, Sage  12)
    4.       : 'characterName', 'oneLineSummary', 'mbti', 'enneagram', 'archetype', 'big5', 'symbolicImage', 'detailedAnalysis', 'hiddenPsychology', 'subconsciousMotivation', 'synergy', 'growthAdvice', 'shareSummary'.
    5. 'detailedAnalysis', 'hiddenPsychology'      ,     "()"       . ( 300 )
    6. 'growthAdvice'           300  .
    7. 'symbolicImage'  {"symbol": "", "description": "  "}  .    .
    8. 'synergy'  (Strengths)           300  .
    9. 'oneLineSummary'      (10-13 ).
    10. 'shareSummary'  '{name}   ::MBTI:{mbti}, :{enneagram}, :{archetype}    {oneLineSummary} . #haraspersona'   archetype   .
  `;try{let y;if(t==="gemini"){const v=await new ns({apiKey:o||void 0}).models.generateContent({model:"gemini-3-pro-preview",contents:g,config:{responseMimeType:"application/json"}});y=JSON.parse(os(v.text||"{}"))}else y=await ls(t,o,g);return zR(y)}catch(y){throw new Error(is(y,t))}},FR=async(i,t,o,a,r="")=>{const f=`      . ${i.characterName} ${t.characterName}     .
    : ${r}
    
    CRITICAL INSTRUCTIONS:
    1.    JSON  .
    2. 'strengths' 'conflicts'  3       (Array) .
    3. 'chemistryScore' 0~100   .
    4. 'definition' 'advice'  200    .
    5. 'advice'        .
  `;try{let p;if(o==="gemini"){const y=await new ns({apiKey:a||void 0}).models.generateContent({model:"gemini-3-pro-preview",contents:f,config:{responseMimeType:"application/json"}});p=JSON.parse(os(y.text||"{}"))}else p=await ls(o,a,f);return OR(p)}catch(p){throw new Error(is(p,o))}},xM=async(i,t,o,a,r,f=[])=>{const p=kg(i),g=r.map(h=>`: ${h.name} (MBTI: ${h.analysisData.mbti.type}, : ${h.analysisData.oneLineSummary})`).join(`
---
`),y=`         .   .

     : ${t}
     : "${p}"
    
       : 
    ${g}

    CRITICAL INSTRUCTIONS:
    1.     JSON .  (score, keywords, summary, emotionalTone, characterReactions)   .
    2.       '  '  .        .
    3. 'score':   (0~100 ).
    4. 'keywords':  ,  ,     1~12    3~5.
    5. 'summary':       .
    6. 'emotionalTone':     ( ).
    7. 'characterReactions':      .
       - 'name':  .
       - 'stressLevel':       (0~100 ,    ).
       - 'emotions': {joy, anger, sadness, fear, trust}  0~10 .
       - 'emotion':     
       - 'innerThought':    100~200   .
  `;try{let h;if(o==="gemini"){const T=await new ns({apiKey:a||void 0}).models.generateContent({model:"gemini-3-pro-preview",contents:y,config:{responseMimeType:"application/json"}});h=JSON.parse(os(T.text||"{}"))}else h=await ls(o,a,y);return BR(h)}catch(h){throw new Error(is(h,o))}},JR="HarasPersona_Integrated_DB",YR=4,Ye={PROFILES:"profiles",LOGS:"logs",META:"metadata",ANALYSIS:"analysis_data",NOTES:"notes_data",IMAGES:"profile_images",GALLERY:"gallery_data",BANNERS:"banners_data"},gl=()=>new Promise((i,t)=>{const o=indexedDB.open(JR,YR);o.onupgradeneeded=a=>{const r=a.target.result;Object.values(Ye).forEach(f=>{r.objectStoreNames.contains(f)||r.createObjectStore(f,{keyPath:"id"})})},o.onsuccess=()=>i(o.result),o.onerror=()=>t(o.error)}),Jh=async i=>{const t=await gl();return new Promise((o,a)=>{const p=t.transaction(i,"readonly").objectStore(i).getAll();p.onsuccess=()=>o(p.result||[]),p.onerror=()=>a(p.error)})},pl=async(i,t)=>{const o=await gl();return new Promise((a,r)=>{const g=o.transaction(i,"readonly").objectStore(i).get(t);g.onsuccess=()=>a(g.result||null),g.onerror=()=>r(g.error)})},nn=async(i,t)=>{const o=await gl();return new Promise((a,r)=>{const g=o.transaction(i,"readwrite").objectStore(i).put(t);g.onsuccess=()=>a(),g.onerror=()=>r(g.error)})},Yh=async(i,t)=>{const o=await gl();return new Promise((a,r)=>{const g=o.transaction(i,"readwrite").objectStore(i).delete(t);g.onsuccess=()=>a(),g.onerror=()=>r(g.error)})},ao=(i,t)=>{try{const o=localStorage.getItem(i);return o?JSON.parse(o):t}catch{return t}},Kh=i=>{var o;let t=String(i.name||((o=i.analysisData)==null?void 0:o.characterName)||"Unknown").trim();return t=t.replace(/[\[\]]/g,""),{...i,id:i.id||crypto.randomUUID(),name:t,aliases:Array.isArray(i.aliases)?i.aliases:[],labels:Array.isArray(i.labels)?i.labels:[],biography:Array.isArray(i.biography)?i.biography:[],additionalImages:Array.isArray(i.additionalImages)?i.additionalImages:[],galleryImages:Array.isArray(i.galleryImages)?i.galleryImages:[]}},KR=i=>({...i,characters:Array.isArray(i.characters)?i.characters:[]}),ce={migrateLegacyData:async()=>{const i=localStorage.getItem("hpersona_logs_v2");if(i){const t=JSON.parse(i);for(const o of t)await nn(Ye.LOGS,o);localStorage.removeItem("hpersona_logs_v2")}},loadProfiles:async()=>{const i=await Jh(Ye.PROFILES),t=[];for(const o of i){const a=o.id,[r,f,p,g,y]=await Promise.all([pl(Ye.ANALYSIS,a),pl(Ye.NOTES,a),pl(Ye.IMAGES,a),pl(Ye.GALLERY,a),pl(Ye.BANNERS,a)]),h={...o,analysisData:(r==null?void 0:r.data)||o.analysisData,notes:(f==null?void 0:f.notes)||o.notes,appearance:(f==null?void 0:f.appearance)||o.appearance,imageUrl:(p==null?void 0:p.imageUrl)||o.imageUrl,thumbnailUrl:(p==null?void 0:p.thumbnailUrl)||o.thumbnailUrl,galleryImages:(g==null?void 0:g.images)||o.galleryImages||[],additionalImages:(y==null?void 0:y.images)||o.additionalImages||[]};t.push(Kh(h))}return t},addOrUpdateProfile:async i=>{if(!i||!i.name||typeof i.name!="string"||i.name.trim()==="")return console.warn("Invalid profile data: Name is required."),await ce.loadProfiles();const t=Kh(i);t.analysisData&&(t.analysisData.characterName=t.name);const a=(await ce.loadProfiles()).find(C=>C.name.trim().toLowerCase()===t.name.trim().toLowerCase());a&&(t.id=a.id);const r=t.id,f={...t},{analysisData:p,notes:g,appearance:y,imageUrl:h,thumbnailUrl:v,galleryImages:T,additionalImages:_}=t;return delete f.analysisData,delete f.notes,delete f.appearance,delete f.imageUrl,delete f.thumbnailUrl,delete f.galleryImages,delete f.additionalImages,await Promise.all([nn(Ye.PROFILES,f),nn(Ye.ANALYSIS,{id:r,data:p}),nn(Ye.NOTES,{id:r,notes:g,appearance:y}),nn(Ye.IMAGES,{id:r,imageUrl:h,thumbnailUrl:v}),nn(Ye.GALLERY,{id:r,images:T}),nn(Ye.BANNERS,{id:r,images:_})]),await ce.loadProfiles()},deleteProfile:async i=>(await Promise.all(Object.values(Ye).map(t=>Yh(t,i))),await ce.loadProfiles()),loadLogs:async()=>(await Jh(Ye.LOGS)).map(KR).sort((t,o)=>(o.timestamp||0)-(t.timestamp||0)),saveLog:async i=>nn(Ye.LOGS,i),deleteLog:async i=>Yh(Ye.LOGS,i),loadNarrativeCategories:async()=>ao("hpersona_nav_cats_v2",[{id:"default",name:""}]),saveNarrativeCategories:async i=>{localStorage.setItem("hpersona_nav_cats_v2",JSON.stringify(i))},renameNarrativeCategory:async(i,t)=>{const a=(await ce.loadNarrativeCategories()).map(r=>r.id===i?{...r,name:t}:r);return await ce.saveNarrativeCategories(a),a},loadDDays:async()=>ao("hpersona_ddays_v2",[]),saveDDays:async i=>localStorage.setItem("hpersona_ddays_v2",JSON.stringify(i)),loadRelationships:async()=>ao("hpersona_saved_rels_v2",[]),saveRelationships:async i=>localStorage.setItem("hpersona_saved_rels_v2",JSON.stringify(i)),saveRelationshipResult:async(i,t,o)=>{const a=await ce.loadRelationships(),r=[i,t].sort().join("_"),f=[...a.filter(p=>p.id!==r),{id:r,char1Name:i,char2Name:t,result:o,timestamp:Date.now()}];return await ce.saveRelationships(f),f},loadProviderSettings:async()=>ao("hpersona_settings_v2",{activeProvider:"gemini",keys:{gemini:"",openai:"",claude:"",openrouter:""},verifiedProviders:[],timezoneOffset:9}),saveProviderSettings:async i=>{localStorage.setItem("hpersona_settings_v2",JSON.stringify(i))},wipeStorageInternal:async(i=!1)=>{try{const o=(await gl()).transaction(Object.values(Ye),"readwrite");Object.values(Ye).forEach(a=>o.objectStore(a).clear()),await new Promise(a=>{o.oncomplete=a})}catch(t){console.error("IDB Wipe Error:",t)}if(i){const t=localStorage.getItem("hpersona_settings_v2"),o=localStorage.getItem("psychopersona_theme"),a=localStorage.getItem("psychopersona_custom_colors");localStorage.clear(),t&&localStorage.setItem("hpersona_settings_v2",t),o&&localStorage.setItem("psychopersona_theme",o),a&&localStorage.setItem("psychopersona_custom_colors",a)}else localStorage.clear()},clearAllData:async()=>{await ce.wipeStorageInternal(!1),window.location.reload()},createSystemBackup:async()=>{const i={version:20,timestamp:Date.now(),profiles:await ce.loadProfiles(),logs:await ce.loadLogs(),relationships:await ce.loadRelationships(),categories:await ce.loadNarrativeCategories(),ddays:await ce.loadDDays(),providerSettings:await ce.loadProviderSettings(),manualRelationshipTypes:ao("psychopersona_manual_relationship_types",{}),themeId:localStorage.getItem("psychopersona_theme")||"morning",customColors:ao("psychopersona_custom_colors",void 0)||void 0,sortOrder:localStorage.getItem("hpersona_log_sort_order")||"latest"},t=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=URL.createObjectURL(t),a=document.createElement("a");a.href=o,a.download=`HarasPersona_FullBackup_${new Date().toISOString().split("T")[0]}.json`,a.click(),URL.revokeObjectURL(o)},restoreSystemBackup:async i=>{var t;try{const o=i&&typeof i=="object",a=o&&Array.isArray(i.profiles),r=o&&Array.isArray(i.logs);if(!o||!a||!r)return!1;const f=await ce.loadProviderSettings();if(await ce.wipeStorageInternal(!0),a)for(const h of i.profiles)await ce.addOrUpdateProfile(h);if(r)for(const h of i.logs)await nn(Ye.LOGS,h);i.relationships&&await ce.saveRelationships(i.relationships),i.categories&&await ce.saveNarrativeCategories(i.categories),i.ddays&&await ce.saveDDays(i.ddays);const p=(t=i.providerSettings)==null?void 0:t.keys,g=p&&Object.values(p).some(h=>!!h),y=i.providerSettings&&g?i.providerSettings:f;return await ce.saveProviderSettings(y),i.manualRelationshipTypes&&localStorage.setItem("psychopersona_manual_relationship_types",JSON.stringify(i.manualRelationshipTypes)),i.themeId&&localStorage.setItem("psychopersona_theme",i.themeId),i.customColors&&localStorage.setItem("psychopersona_custom_colors",JSON.stringify(i.customColors)),i.sortOrder&&localStorage.setItem("hpersona_log_sort_order",i.sortOrder),!0}catch{return!1}},createNarrativeBackup:async()=>{const i={type:"narrative_data",timestamp:Date.now(),logs:await ce.loadLogs(),categories:await ce.loadNarrativeCategories(),ddays:await ce.loadDDays()},t=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=URL.createObjectURL(t),a=document.createElement("a");a.href=o,a.download=`HarasPersona_NarrativeBackup_${new Date().toISOString().split("T")[0]}.json`,a.click(),URL.revokeObjectURL(o)},restoreNarrativeBackup:async i=>{try{if(!i||i.type!=="narrative_data")throw new Error("   ");if(i.logs)for(const t of i.logs)await nn(Ye.LOGS,t);if(i.categories){const o=[...await ce.loadNarrativeCategories()];for(const a of i.categories)o.some(r=>r.id===a.id)||o.push(a);await ce.saveNarrativeCategories(o)}if(i.ddays){const o=[...await ce.loadDDays()];for(const a of i.ddays)o.some(r=>r.id===a.id)||o.push(a);await ce.saveDDays(o)}return!0}catch(t){throw t}},exportCharacter:i=>{const t=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),o=URL.createObjectURL(t),a=document.createElement("a");a.href=o,a.download=`${i.name}_persona.json`,a.click(),URL.revokeObjectURL(o)}};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QR=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,a)=>a?a.toUpperCase():o.toLowerCase()),Xh=i=>{const t=QR(i);return t.charAt(0).toUpperCase()+t.slice(1)},Fg=(...i)=>i.filter((t,o,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===o).join(" ").trim(),ZR=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=le.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:r="",children:f,iconNode:p,...g},y)=>le.createElement("svg",{ref:y,...$R,width:t,height:t,stroke:i,strokeWidth:a?Number(o)*24/Number(t):o,className:Fg("lucide",r),...!f&&!ZR(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,v])=>le.createElement(h,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=(i,t)=>{const o=le.forwardRef(({className:a,...r},f)=>le.createElement(WR,{ref:f,iconNode:t,className:Fg(`lucide-${XR(Xh(i))}`,`lucide-${i}`,a),...r}));return o.displayName=Xh(i),o};/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],eM=on("book-open",jR);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nM=on("chevron-left",tM);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oM=on("chevron-right",iM);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],aM=on("circle-x",lM);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ku=on("loader-circle",sM);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uM=on("menu",rM);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],fM=on("panel-left-close",cM);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pM=on("settings",dM);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],hM=on("sparkles",mM);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yM=on("user",gM),vM=({isVisible:i,message:t="AI   ...",onCancel:o})=>i?Q.jsx("div",{className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-black/80 backdrop-blur-md transition-opacity animate-fade-in cursor-wait",children:Q.jsxs("div",{className:"glass-panel p-8 rounded-3xl flex flex-col items-center gap-6 border-t border-white/10 shadow-2xl max-w-sm w-full mx-4",children:[Q.jsxs("div",{className:"relative",children:[Q.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur-xl opacity-20 animate-pulse rounded-full"}),Q.jsx(ku,{size:48,className:"text-indigo-400 animate-spin relative z-10"}),Q.jsx(hM,{size:24,className:"text-amber-300 absolute -top-2 -right-2 animate-bounce z-10"})]}),Q.jsxs("div",{className:"text-center space-y-2",children:[Q.jsx("h3",{className:"text-xl font-bold text-white",children:"  "}),Q.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:t})]}),o&&Q.jsxs("button",{onClick:o,className:"mt-2 px-6 py-2 rounded-full border border-rose-500/30 text-rose-400 hover:bg-rose-500/10 transition-all text-xs font-bold flex items-center gap-2 cursor-pointer pointer-events-auto",children:[Q.jsx(aM,{size:14}),"  "]})]})}):null,SM=le.lazy(()=>Wn(()=>import("./AnalysisResultView-HKnVg2-s.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)),TM=le.lazy(()=>Wn(()=>import("./SettingsModal-7Z52D3Bj.js"),__vite__mapDeps([8,9,5,10,11,6,12]),import.meta.url)),_M=le.lazy(()=>Wn(()=>import("./RelationshipResultView-C8zAw9XX.js").then(i=>i.a),__vite__mapDeps([13,14,6,3]),import.meta.url)),EM=le.lazy(()=>Wn(()=>import("./NarrativeView-jPGAhNdo.js"),__vite__mapDeps([15,9,5,10,16,17,13,14,6,3,2,4,12,18]),import.meta.url)),CM=le.lazy(()=>Wn(()=>import("./ErrorModal-BaWmsst-.js"),__vite__mapDeps([19,5]),import.meta.url)),AM=le.lazy(()=>Wn(()=>import("./SaveConflictModal-2Z4pPUi1.js"),__vite__mapDeps([20,10]),import.meta.url)),RM=le.lazy(()=>Wn(()=>import("./ApiKeyGuard-CUDxlAHo.js"),__vite__mapDeps([21,11,10,18,14,7]),import.meta.url)),MM=le.lazy(()=>Wn(()=>import("./CharacterDashboard-B63Q-REV.js"),__vite__mapDeps([22,2,17,13,14,6,3,9,5,10,1,18]),import.meta.url)),NM=({size:i=24,className:t=""})=>Q.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[Q.jsx("circle",{cx:"11",cy:"5",r:"3"}),Q.jsx("path",{d:"M12 10 L 4 15"}),Q.jsx("path",{d:"M12 8 L 20 11"}),Q.jsx("path",{d:"M12 8 L 12 16"}),Q.jsx("path",{d:"M12 16 L 8 15"}),Q.jsx("path",{d:"M12 16 L 16 21"})]}),za={peach:{id:"peach",name:"Peach Fuzz",colors:{bgFrom:"#fff1f2",bgTo:"#ffe4e6",glassBg:"rgba(255, 255, 255, 0.4)",glassBorder:"rgba(251, 113, 133, 0.2)",accentPrimary:"#fb7185",textPrimary:"#4c0519"}},morning:{id:"morning",name:"Morning Mist",colors:{bgFrom:"#f0f9ff",bgTo:"#e0f2fe",glassBg:"rgba(255, 255, 255, 0.4)",glassBorder:"rgba(56, 189, 248, 0.2)",accentPrimary:"#38bdf8",textPrimary:"#0f172a"}},mint:{id:"mint",name:"Mint Sorbet",colors:{bgFrom:"#f0fdf4",bgTo:"#dcfce7",glassBg:"rgba(255, 255, 255, 0.4)",glassBorder:"rgba(74, 222, 128, 0.2)",accentPrimary:"#4ade80",textPrimary:"#064e3b"}},lilac:{id:"lilac",name:"Lilac Soft",colors:{bgFrom:"#faf5ff",bgTo:"#f3e8ff",glassBg:"rgba(255, 255, 255, 0.4)",glassBorder:"rgba(192, 132, 252, 0.2)",accentPrimary:"#c084fc",textPrimary:"#3b0764"}},ocean:{id:"ocean",name:"Deep Ocean",colors:{bgFrom:"#0c4a6e",bgTo:"#0f766e",glassBg:"rgba(15, 118, 110, 0.5)",glassBorder:"rgba(45, 212, 191, 0.3)",accentPrimary:"#2dd4bf",textPrimary:"#f0fdfa"}},aurora:{id:"aurora",name:"Aurora Borealis",colors:{bgFrom:"#022c22",bgTo:"#1e1b4b",glassBg:"rgba(30, 27, 75, 0.6)",glassBorder:"rgba(52, 211, 153, 0.3)",accentPrimary:"#34d399",textPrimary:"#ecfdf5"}},custom:{id:"custom",name:"Custom Theme",colors:{bgFrom:"#f8fafc",bgTo:"#f1f5f9",glassBg:"rgba(255,255,255,0.4)",glassBorder:"rgba(0,0,0,0.1)",accentPrimary:"#6366f1",textPrimary:"#1e293b"}}},Jg=i=>{if(!i||!i.startsWith("#"))return .5;const t=i.substring(1),o=parseInt(t,16),a=o>>16&255,r=o>>8&255,f=o>>0&255,p=[a,r,f].map(g=>(g/=255,g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4)));return .2126*p[0]+.7152*p[1]+.0722*p[2]},ml=i=>Jg(i)>.5?"#0f172a":"#f8fafc",IM=()=>{var go;const[i,t]=le.useState("narrative"),[o,a]=le.useState("list"),[r,f]=le.useState(null),[p,g]=le.useState(null),[y,h]=le.useState(null),[v,T]=le.useState(null),[_,C]=le.useState(null),[w,G]=le.useState(""),[b,z]=le.useState([]),[F,B]=le.useState([]),[K,ee]=le.useState([]),[te,k]=le.useState(!1),[me,X]=le.useState(null),[fe,Te]=le.useState(!1),[Le,ye]=le.useState(!1),[Ce,Ve]=le.useState(window.innerWidth<1024),[x,O]=le.useState(()=>{try{return localStorage.getItem("psychopersona_theme")||"morning"}catch{return"morning"}}),[ne,De]=le.useState(()=>{try{const W=localStorage.getItem("psychopersona_custom_colors");return W?JSON.parse(W):{bgFrom:"#f8fafc",bgTo:"#f1f5f9",accent:"#6366f1"}}catch{return{bgFrom:"#f8fafc",bgTo:"#f1f5f9",accent:"#6366f1"}}}),[ae,M]=le.useState(null),P=le.useCallback(async()=>{try{z(await ce.loadProfiles()),B(await ce.loadRelationships()),ee(await ce.loadLogs())}catch(W){console.error("   :",W)}},[]),J=le.useCallback(async()=>{try{await ce.migrateLegacyData();const W=await ce.loadProviderSettings();M(W),await P();const ge=localStorage.getItem("psychopersona_theme"),be=localStorage.getItem("psychopersona_custom_colors");ge&&O(ge),be&&De(JSON.parse(be))}catch(W){console.error(" :",W)}},[P]);le.useEffect(()=>{J()},[J]),le.useEffect(()=>{const W=()=>{window.innerWidth<1024&&Ve(!0)};return window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]),le.useEffect(()=>{let W=za[x]||za.morning;if(x==="custom"){const be=Jg(ne.bgTo);W={id:"custom",name:"Custom",colors:{bgFrom:ne.bgFrom,bgTo:ne.bgTo,glassBg:be>.5?"rgba(255, 255, 255, 0.4)":"rgba(0, 0, 0, 0.3)",glassBorder:be>.5?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.1)",accentPrimary:ne.accent,textPrimary:ml(ne.bgTo)}}}const ge=document.documentElement;ge.style.setProperty("--bg-from",W.colors.bgFrom),ge.style.setProperty("--bg-to",W.colors.bgTo),ge.style.setProperty("--glass-bg",W.colors.glassBg),ge.style.setProperty("--glass-border",W.colors.glassBorder),ge.style.setProperty("--text-primary",W.colors.textPrimary),ge.style.setProperty("--accent-primary",W.colors.accentPrimary),ge.style.setProperty("--accent-text",ml(W.colors.accentPrimary));try{localStorage.setItem("psychopersona_theme",x)}catch{}},[x,ne]);const Z=le.useCallback(async W=>{try{await ce.addOrUpdateProfile(W),await P()}catch(ge){console.error("  :",ge)}},[P]),re=le.useCallback(async W=>{try{await ce.deleteProfile(W),await P()}catch(ge){console.error("  :",ge)}},[P]),he=le.useCallback(async W=>{try{M(W),await ce.saveProviderSettings(W)}catch(ge){console.error("  :",ge)}},[]),Re=le.useCallback((W,ge)=>{if(W&&ge){const be=b.find(kt=>kt.name===W),$t=b.find(kt=>kt.name===ge);be&&$t&&(T({...be.analysisData,thumbnailUrl:be.thumbnailUrl,imageUrl:be.imageUrl}),C({...$t.analysisData,thumbnailUrl:$t.thumbnailUrl,imageUrl:$t.imageUrl}))}else T(null),C(null);h(null),t("single"),a("relationship")},[b]),je=le.useMemo(()=>{if(!ae)return"";const W=ae.keys[ae.activeProvider];return W||(ae.activeProvider,"")},[ae]),ke=le.useMemo(()=>ae&&Object.values(ae.keys).some(ge=>!!ge)||!1,[ae]),ei=async(W,ge,be)=>{if(ae){k(!0),X(null);try{const kt={...await FR(W,ge,ae.activeProvider,je,be),character1Name:W.characterName,character2Name:ge.characterName};T(W),C(ge),h(kt),await ce.saveRelationshipResult(W.characterName,ge.characterName,kt),await P()}catch($t){X({message:$t.message,screen:"Relationship Lab"})}finally{k(!1)}}},_i=async(W,ge=[])=>{if(ae){k(!0),X(null);try{const be=await kR(W,ae.activeProvider,je,"",ge);b.find(kt=>kt.name===be.characterName)?(g(be),ye(!0)):(await ce.addOrUpdateProfile({id:crypto.randomUUID(),name:be.characterName,aliases:[],biography:[],analysisData:be,labels:[],notes:"",hairColor:"#0c0c0cff",eyeColor:"#319497ff"}),await P(),f(be))}catch(be){X({message:be.message,screen:"Analysis"})}finally{k(!1)}}};if(!ae)return Q.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-slate-900",children:Q.jsx(ku,{className:"animate-spin text-indigo-500"})});if(!ke&&!fe)return Q.jsx(RM,{settings:ae,onUpdate:he});const Zt=(x==="custom"?ne.accent:(go=za[x])==null?void 0:go.colors.accentPrimary)||"#6366f1";return Q.jsxs("div",{className:"h-screen w-screen overflow-hidden flex flex-row transition-colors duration-700 font-sans",style:{background:"radial-gradient(ellipse at top left, var(--bg-to), var(--bg-from))",color:"var(--text-primary)"},children:[Q.jsx(vM,{isVisible:te}),Q.jsxs(le.Suspense,{fallback:null,children:[Q.jsx(CM,{error:me,onClose:()=>X(null),onOpenSettings:()=>Te(!0)}),Q.jsx(AM,{isOpen:Le,existingName:(p==null?void 0:p.characterName)||"",onOverwrite:async()=>{await ce.addOrUpdateProfile({id:crypto.randomUUID(),name:p.characterName,aliases:[],biography:[],analysisData:p,labels:[],notes:"",hairColor:"#6366f1",eyeColor:"#ffffff"}),await P(),f(p),g(null),ye(!1)},onRename:async W=>{await ce.addOrUpdateProfile({id:crypto.randomUUID(),name:W,aliases:[],biography:[],analysisData:{...p,characterName:W},labels:[],notes:"",hairColor:"#6366f1",eyeColor:"#ffffff"}),await P(),f({...p,characterName:W}),g(null),ye(!1)},onCancel:()=>{ye(!1),g(null)}})]}),Q.jsx("main",{className:"flex-1 h-full relative overflow-hidden flex flex-col",children:Q.jsx("div",{className:"flex-1 h-full overflow-y-auto custom-scrollbar relative",children:Q.jsxs(le.Suspense,{fallback:Q.jsx("div",{className:"flex items-center justify-center h-full",children:Q.jsx(ku,{className:"animate-spin text-indigo-500",size:32})}),children:[i==="narrative"&&Q.jsx(EM,{apiKey:je,provider:ae.activeProvider,savedCharacters:b,onUpdateProfile:Z,onNavigateToCharacter:W=>{const ge=b.find(be=>be.id===W||be.name===W);ge?(f(ge.analysisData),t("single"),a("list")):(f(null),G(W),t("single"),a("new"))},timezoneOffset:ae.timezoneOffset}),i==="single"&&Q.jsx("div",{className:"p-4 md:p-8 max-w-7xl mx-auto min-h-full flex flex-col justify-center",children:y&&v&&_?Q.jsx(_M,{result:y,char1:v,char2:_,onReset:()=>{h(null),a("relationship")}}):r?Q.jsx(SM,{result:r,onReset:()=>{f(null),a("list")},isSaved:b.some(W=>W.name===r.characterName),onSave:async()=>{const W=b.find(ge=>ge.name===r.characterName);W&&(await ce.addOrUpdateProfile({...W,analysisData:r}),await P())}}):Q.jsx(MM,{isLoading:te,savedCharacters:b,savedRelationships:F,narrativeLogs:K,onSubmitAnalysis:_i,onSelectCharacter:async W=>{const ge=b.find(be=>be.name===W);ge&&f(ge.analysisData)},onUpdateProfile:Z,onDeleteProfile:re,activeTab:o,onTabChange:a,onAnalyzeRelationship:ei,onNavigateToRelLab:Re,preSelectedRelChars:v&&_?[v.characterName,_.characterName]:void 0,initialNameForNew:w})})]})})}),Ce&&Q.jsx("button",{onClick:()=>Ve(!1),className:"md:hidden fixed top-12 right-4 z-[60] p-3 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-white shadow-xl",children:Q.jsx(uM,{size:14})}),Q.jsxs("nav",{className:`transition-all duration-300 ease-in-out border-l flex flex-col shrink-0 z-50 shadow-2xl relative ${Ce?"w-0 md:w-20 opacity-0 md:opacity-100 overflow-hidden":"w-64 md:w-72 opacity-100"}`,style:{borderColor:"var(--glass-border)",backgroundColor:"var(--glass-bg)"},children:[Q.jsxs("div",{className:`h-24 flex items-center border-b ${Ce?"justify-center":"justify-center md:justify-start md:px-8"}`,style:{borderColor:"var(--glass-border)"},children:[Q.jsx("button",{onClick:()=>window.location.reload(),className:"mx-2 p-2 rounded-xl transition-transform hover:scale-110 shadow-lg shrink-0 cursor-pointer",style:{backgroundColor:Zt,color:ml(Zt)},children:Q.jsx(NM,{size:28})}),!Ce&&Q.jsx("div",{className:"ml-3",children:Q.jsxs("h1",{className:"font-bold text-lg leading-tight",style:{color:"var(--text-primary)"},children:["Haras",Q.jsx("br",{}),"Persona"]})}),!Ce&&Q.jsx("button",{onClick:()=>Ve(!0),className:"md:hidden ml-auto p-2 text-white/50",children:Q.jsx(fM,{size:20})})]}),Q.jsxs("div",{className:`flex-1 py-8 px-2 space-y-2 overflow-y-auto ${!Ce&&"px-4"}`,children:[Q.jsxs("button",{onClick:()=>{t("narrative"),window.innerWidth<1024&&Ve(!0)},className:`w-full flex items-center justify-start gap-4 p-3 rounded-xl transition-all group ${i==="narrative"?"shadow-md":"hover:bg-white/5"}`,style:{backgroundColor:i==="narrative"?Zt:"transparent",color:i==="narrative"?ml(Zt):"var(--text-primary)"},children:[Q.jsx(eM,{size:24})," ",!Ce&&Q.jsx("span",{className:"font-bold text-sm",children:" "})]}),Q.jsxs("button",{onClick:()=>{f(null),h(null),T(null),C(null),t("single"),a("list"),G(""),window.innerWidth<1024&&Ve(!0)},className:`w-full flex items-center justify-start gap-4 p-3 rounded-xl transition-all group ${i==="single"?"shadow-md":"hover:bg-white/5"}`,style:{backgroundColor:i==="single"?Zt:"transparent",color:i==="single"?ml(Zt):"var(--text-primary)"},children:[Q.jsx(yM,{size:24})," ",!Ce&&Q.jsx("span",{className:"font-bold text-sm",children:" "})]})]}),Q.jsxs("div",{className:"p-4 border-t space-y-2",style:{borderColor:"var(--glass-border)"},children:[Q.jsx("button",{onClick:()=>Ve(!Ce),className:"hidden md:flex w-full items-center justify-center p-2 rounded-xl hover:bg-black/5 transition-colors",children:Ce?Q.jsx(oM,{size:20}):Q.jsxs("div",{className:"flex items-center gap-2 ml-auto opacity-50",children:[Q.jsx("span",{className:"text-xs font-bold",children:""}),Q.jsx(nM,{size:16})]})}),Q.jsxs("button",{onClick:()=>{Te(!0),window.innerWidth<1024&&Ve(!0)},className:"w-full flex items-center justify-start gap-3 p-3 rounded-xl hover:bg-white/5 transition-all",children:[Q.jsx(pM,{size:20})," ",!Ce&&Q.jsx("span",{className:"font-bold text-sm",children:""})]})]})]}),Q.jsx(le.Suspense,{fallback:null,children:Q.jsx(TM,{isOpen:fe,onClose:()=>Te(!1),settings:ae,onUpdateSettings:he,currentTheme:x,setTheme:O,presets:za,customColors:ne,setCustomColors:De})})]})};ce.migrateLegacyData();const Yg=document.getElementById("root");if(!Yg)throw new Error("Could not find root element to mount to");const DM=M0.createRoot(Yg);DM.render(Q.jsx(Zh.StrictMode,{children:Q.jsx(IM,{})}));export{bM as A,eM as B,oM as C,ku as L,uM as M,Zh as R,hM as S,yM as U,Wn as _,ce as a,vM as b,on as c,pM as d,nM as e,xM as f,Qh as g,E0 as h,Fu as i,Q as j,wM as k,Va as l,le as r,kg as s,UM as v};
