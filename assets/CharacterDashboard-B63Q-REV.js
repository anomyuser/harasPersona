const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CharacterDetailModal-DrNM4Yex.js","./index-C_wzGI65.js","./index-aTbFjHjq.css","./CharacterNetworkMap-DJ63oPHJ.js","./RelationshipResultView-C8zAw9XX.js","./zap-Dr0CanHx.js","./check-CnWv8MG4.js","./share-2-C1cidaT2.js","./RadarChart-WSvIaYqw.js","./MessageModal-Bc43eunZ.js","./circle-check-PvNHOdUm.js","./circle-alert-GAaP9RL_.js","./save-1MyjOGRJ.js","./palette-Dqo3fuZ-.js"])))=>i.map(i=>d[i]);
import{c as $,r as d,j as e,L as V,s as P,S as K,a as X,_ as Q}from"./index-C_wzGI65.js";import{S as Y}from"./RadarChart-WSvIaYqw.js";import{U as L,L as Z,C as ee,b as ae}from"./CharacterNetworkMap-DJ63oPHJ.js";import{A as re}from"./AnalysisChart-CSuGhAmo.js";import{M as q,X as te,U as W,D as se,T as le}from"./MessageModal-Bc43eunZ.js";import{B as ne,F as oe}from"./share-2-C1cidaT2.js";import{C as ie}from"./RelationshipResultView-C8zAw9XX.js";import{A as ce}from"./arrow-right-D6q25A9g.js";import"./circle-check-PvNHOdUm.js";import"./circle-alert-GAaP9RL_.js";import"./zap-Dr0CanHx.js";import"./check-CnWv8MG4.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],J=$("arrow-right-left",de);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],pe=$("file-braces",me);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],he=$("git-compare",xe);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],be=$("network",ue),fe=({onSubmit:f,isLoading:g,initialName:h=""})=>{const[y,k]=d.useState(h),[p,x]=d.useState("");d.useEffect(()=>{h&&k(h)},[h]);const b=i=>{i.preventDefault(),y.trim()&&f({name:P(y),description:P(p)})};return e.jsxs("div",{className:"w-full max-w-lg mx-auto glass-panel p-8 rounded-3xl shadow-2xl animate-fade-in border border-white/5",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-indigo-500",children:"HarasPersona"}),e.jsx("p",{className:"text-slate-400",children:"캐릭터 분석 도우미"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-300 mb-2",children:"캐릭터 이름 / 키워드"}),e.jsx("input",{id:"name",type:"text",required:!0,value:y,onChange:i=>k(i.target.value),placeholder:"예: 조커, 해리포터, 혹은 '지친 회사원'",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-slate-500 transition-all outline-none",disabled:g})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-300",children:"상세 설명"}),e.jsxs("span",{className:`text-[10px] font-bold ${p.length>=300?"text-rose-500":"text-slate-500"}`,children:[p.length," / 300"]})]}),e.jsx("textarea",{id:"description",rows:4,maxLength:300,value:p,onChange:i=>x(i.target.value),placeholder:"캐릭터의 성격, 행동 양식, 혹은 특정 상황을 입력하면 더 정확한 분석이 가능합니다. (최대 300자)",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-600 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-white placeholder-slate-500 transition-all outline-none resize-none",disabled:g})]}),e.jsx("button",{type:"submit",disabled:g||!y.trim(),className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-violet-600 hover:from-indigo-500 hover:to-violet-500 text-white font-bold rounded-xl shadow-lg hover:shadow-indigo-500/25 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 group",children:g?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"animate-spin"}),"분석 중입니다..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"group-hover:scale-110 transition-transform",size:20}),"심리 분석 시작"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-slate-500",children:"Powered by Google Gemini 3 Flash"})})]})},ge=({onAnalyze:f,isLoading:g,savedCharacters:h,onSaveCharacter:y,narrativeLogs:k=[],initialSelections:p})=>{var I,O,M,T,a,m;const[x,b]=d.useState(null),[i,j]=d.useState(null),[R,E]=d.useState("select"),[B,F]=d.useState("select"),_=d.useRef(null),A=d.useRef(null),[N,U]=d.useState({isOpen:!1,title:"",message:"",type:"info"});d.useEffect(()=>{if(p&&p[0]&&p[1]){const r=h.find(s=>s.name===p[0]),t=h.find(s=>s.name===p[1]);r&&b({...r.analysisData,imageUrl:r.imageUrl,thumbnailUrl:r.thumbnailUrl}),t&&j({...t.analysisData,imageUrl:t.imageUrl,thumbnailUrl:t.thumbnailUrl})}},[p,h]);const z=(r,t)=>{var n;const s=(n=r.target.files)==null?void 0:n[0];if(!s)return;const l=new FileReader;l.onload=u=>{var v;try{const c=JSON.parse((v=u.target)==null?void 0:v.result);let o;if(c.id&&c.analysisData)o={...c.analysisData,imageUrl:c.imageUrl||null,thumbnailUrl:c.thumbnailUrl||null};else if(c.characterName&&c.mbti)o={...c,imageUrl:c.imageUrl||null,thumbnailUrl:c.thumbnailUrl||null};else throw new Error("Invalid Format");t===1?b(o):j(o),h.some(H=>H.name===o.characterName)||y(o)}catch{U({isOpen:!0,title:"오류",message:"유효하지 않은 파일 형식입니다.",type:"error"})}},l.readAsText(s),r.target.value=""},C=(r,t)=>{const s=r.target.value,l=h.find(n=>n.name===s);if(l){const n={...l.analysisData,imageUrl:l.imageUrl,thumbnailUrl:l.thumbnailUrl};t===1?b(n):j(n)}},D=r=>{r===1?b(null):j(null)},S=()=>{if(!x||!i)return;const r=[x.characterName,i.characterName].sort().join("_"),s=JSON.parse(localStorage.getItem("psychopersona_manual_relationship_types")||"{}")[r]||"";let l="";s&&(s.startsWith("custom:")?l=`사용자가 정의한 관계: ${s.replace("custom:","")}`:l=`사용자가 정의한 관계 유형: ${{friend:"친구",family:"가족",love:"사랑",enemy:"원수(적)",awkward:"어색한 사이"}[s]||s}`);const n=k.filter(c=>{var G;const o=((G=c.characters)==null?void 0:G.map(H=>H.name))||[];return o.includes(x.characterName)&&o.includes(i.characterName)}),u=n.length>0?`최근 서사 기록 요약:
`+n.map(c=>{var o;return`[${c.date}] ${(o=c.analysis)==null?void 0:o.summary}`}).join(`
`):"",v=[l,u].filter(Boolean).join(`

`);f(x,i,v)},w=!!(x&&i);return e.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-8 animate-fade-in pb-12",children:[e.jsx(q,{isOpen:N.isOpen,type:N.type,title:N.title,message:N.message,onConfirm:()=>U(r=>({...r,isOpen:!1})),onCancel:()=>U(r=>({...r,isOpen:!1}))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start relative",children:[1,2].map(r=>{var u,v,c;const t=r===1?x:i,s=r===1?E:F,l=r===1?R:B,n=r===1?_:A;return e.jsxs("div",{className:"relative flex-1 w-full",children:[!t&&e.jsxs("div",{className:"flex mb-4 p-1 rounded-xl border backdrop-blur-sm shadow-inner",style:{borderColor:"var(--glass-border)",backgroundColor:"rgba(0,0,0,0.1)"},children:[e.jsx("button",{onClick:()=>s("select"),className:`flex-1 py-2 text-xs font-black rounded-lg transition-all ${l==="select"?"shadow-md":"opacity-60 hover:opacity-100 hover:bg-white/5"}`,style:{backgroundColor:l==="select"?"var(--accent-primary)":"transparent",color:l==="select"?"var(--accent-text)":"var(--text-primary)"},children:"저장된 캐릭터"}),e.jsx("button",{onClick:()=>s("upload"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${l==="upload"?"shadow-md":"opacity-60 hover:opacity-100 hover:bg-white/5"}`,style:{backgroundColor:l==="upload"?"var(--accent-primary)":"transparent",color:l==="upload"?"var(--accent-text)":"var(--text-primary)"},children:"파일 업로드"})]}),t?e.jsxs("div",{className:"glass-panel p-8 rounded-3xl border-2 flex flex-col items-center gap-5 relative overflow-hidden group transition-all duration-500 animate-fade-in-up shadow-2xl bg-black/20",style:{borderColor:"var(--accent-primary)",opacity:.9},children:[e.jsx("button",{onClick:()=>D(r),className:"absolute top-4 right-4 p-2 rounded-full bg-black/10 hover:bg-red-500/20 hover:text-red-400 text-slate-400 z-10",children:e.jsx(te,{size:18})}),e.jsx("div",{className:"relative w-24 h-24 rounded-full flex items-center justify-center mb-1 shadow-inner overflow-hidden border-2",style:{borderColor:"var(--accent-primary)",backgroundColor:"rgba(0,0,0,0.2)"},children:t.thumbnailUrl||t.imageUrl?e.jsx("img",{src:t.thumbnailUrl||t.imageUrl,alt:t.characterName,className:"w-full h-full object-cover"}):e.jsx(pe,{size:36,style:{color:"var(--accent-primary)"}})}),e.jsxs("div",{className:"text-center space-y-4 w-full",children:[e.jsx("h3",{className:"text-2xl font-black",style:{color:"var(--text-primary)"},children:t.characterName}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsxs("div",{className:"px-3 py-1 rounded-lg bg-indigo-500/10 border border-indigo-500/20 text-[10px] font-black flex items-center gap-1.5 text-indigo-400",children:[e.jsx(ne,{size:12})," ",(u=t.mbti)==null?void 0:u.type]}),e.jsxs("div",{className:"px-3 py-1 rounded-lg bg-purple-500/10 border border-purple-500/20 text-[10px] font-black flex items-center gap-1.5 text-purple-400",children:[e.jsx(oe,{size:12})," ",(v=t.enneagram)==null?void 0:v.type]}),e.jsxs("div",{className:"px-3 py-1 rounded-lg bg-pink-500/10 border border-pink-500/20 text-[10px] font-black flex items-center gap-1.5 text-pink-400",children:[e.jsx(K,{size:12})," ",(c=t.archetype)==null?void 0:c.name]})]})]})]}):l==="select"?e.jsx("div",{className:"w-full h-80 border-2 border-dashed rounded-3xl flex flex-col items-center justify-center gap-6",style:{borderColor:"var(--glass-border)",backgroundColor:"rgba(0,0,0,0.02)"},children:e.jsxs("select",{onChange:o=>C(o,r),value:"",className:"p-4 rounded-xl border outline-none",style:{backgroundColor:"var(--glass-bg)",borderColor:"var(--glass-border)",color:"var(--text-primary)"},children:[e.jsx("option",{value:"",disabled:!0,children:"캐릭터 선택..."}),h.map(o=>e.jsx("option",{value:o.name,children:o.name},o.name))]})}):e.jsxs("button",{onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},className:"w-full h-80 border-2 border-dashed rounded-3xl flex flex-col items-center justify-center gap-6",style:{borderColor:"var(--glass-border)",backgroundColor:"rgba(0,0,0,0.02)"},children:[e.jsx(W,{size:40}),e.jsx("span",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:"JSON 파일 업로드"})]}),e.jsx("input",{type:"file",ref:n,onChange:o=>z(o,r),accept:".json",className:"hidden"})]},r)})}),w&&e.jsxs("div",{className:"animate-fade-in-up space-y-6 pt-4 border-t",style:{borderColor:"var(--glass-border)"},children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",style:{color:"var(--text-primary)"},children:[e.jsx(he,{size:20,style:{color:"var(--accent-primary)"}}),e.jsx("h3",{className:"text-lg font-black uppercase tracking-tighter",children:"심리 특성 비교"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"glass-panel p-4 rounded-[2rem] border",style:{borderColor:"var(--glass-border)"},children:e.jsx(re,{data:x.big5,label1:x.characterName,data2:i.big5,label2:i.characterName})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"glass-panel p-5 rounded-2xl flex items-center justify-between border",style:{borderColor:"var(--glass-border)"},children:[e.jsx("div",{style:{color:"var(--accent-primary)"},className:"font-black",children:((I=x.mbti)==null?void 0:I.type)||"N/A"}),e.jsxs("div",{className:"text-xs flex flex-col items-center gap-1 opacity-40 font-black",style:{color:"var(--text-primary)"},children:[e.jsx("span",{children:"MBTI"}),e.jsx(J,{size:14})]}),e.jsx("div",{style:{color:"var(--accent-primary)"},className:"font-black",children:((O=i.mbti)==null?void 0:O.type)||"N/A"})]}),e.jsxs("div",{className:"glass-panel p-5 rounded-2xl flex items-center justify-between border",style:{borderColor:"var(--glass-border)"},children:[e.jsx("div",{style:{color:"var(--accent-primary)"},className:"font-black",children:((M=x.enneagram)==null?void 0:M.type)||"N/A"}),e.jsxs("div",{className:"text-xs flex flex-col items-center gap-1 opacity-40 font-black",style:{color:"var(--text-primary)"},children:[e.jsx("span",{children:"에니어그램"}),e.jsx(J,{size:14})]}),e.jsx("div",{style:{color:"var(--accent-primary)"},className:"font-black",children:((T=i.mbti)==null?void 0:T.type)||"N/A"})]}),e.jsxs("div",{className:"glass-panel p-5 rounded-2xl flex items-center justify-between border",style:{borderColor:"var(--glass-border)"},children:[e.jsx("div",{style:{color:"var(--accent-primary)"},className:"text-sm w-1/3 text-center truncate font-black",children:((a=x.archetype)==null?void 0:a.name)||"N/A"}),e.jsxs("div",{className:"text-xs flex flex-col items-center gap-1 w-1/3 opacity-40 font-black",style:{color:"var(--text-primary)"},children:[e.jsx("span",{children:"융의 원형"}),e.jsx(J,{size:14})]}),e.jsx("div",{style:{color:"var(--accent-primary)"},className:"text-sm w-1/3 text-center truncate font-black",children:((m=i.archetype)==null?void 0:m.name)||"N/A"})]})]})]})]}),e.jsx("div",{className:"flex justify-center pt-8",children:e.jsxs("button",{onClick:S,disabled:!w||g,className:`flex items-center gap-3 px-10 py-4 font-black rounded-2xl shadow-xl transition-all text-lg ${w?"hover:opacity-90 text-white transform hover:scale-105 shadow-lg":"bg-black/10 text-slate-500 opacity-50"}`,style:{backgroundColor:w?"var(--accent-primary)":"transparent",boxShadow:w?"0 10px 20px -5px color-mix(in srgb, var(--accent-primary) 50%, transparent)":"none"},children:[g?e.jsx(V,{className:"animate-spin"}):e.jsx(L,{size:24}),g?"관계 분석 중...":"관계 분석 시작"]})})]})},ye=d.lazy(()=>Q(()=>import("./CharacterDetailModal-DrNM4Yex.js").then(f=>f.c),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url)),_e=({savedCharacters:f,savedRelationships:g,onSubmitAnalysis:h,isLoading:y,onSelectCharacter:k,onUpdateProfile:p,onDeleteProfile:x,activeTab:b,onTabChange:i,narrativeLogs:j,onAnalyzeRelationship:R,initialNameForNew:E="",preSelectedRelChars:B,onNavigateToRelLab:F})=>{const _=d.useRef(null),A=d.useRef(null),[N,U]=d.useState(null),[z,C]=d.useState(null),[D,S]=d.useState({isOpen:!1,id:"",name:""}),w=(a,m)=>{var r;a.stopPropagation(),U(m),(r=_.current)==null||r.click()},I=a=>{var t;const m=(t=a.target.files)==null?void 0:t[0];if(!m||!N)return;const r=new FileReader;r.onload=s=>{var u;const l=(u=s.target)==null?void 0:u.result,n=f.find(v=>v.name===N);n&&p({...n,thumbnailUrl:l})},r.readAsDataURL(m),a.target.value=""},O=a=>{var t;const m=(t=a.target.files)==null?void 0:t[0];if(!m)return;const r=new FileReader;r.onload=async s=>{var l;try{const n=JSON.parse((l=s.target)==null?void 0:l.result);let u;if(n.id&&n.analysisData)u=n;else if(n.characterName&&n.mbti)u={id:crypto.randomUUID(),name:n.characterName,aliases:[],analysisData:n,labels:[],biography:[]};else throw new Error("Invalid Format");await p(u)}catch{console.error("캐릭터 불러오기 실패")}},r.readAsText(m),a.target.value=""},M=a=>{const m=j.filter(r=>{var t;return(t=r.characters)==null?void 0:t.some(s=>s.name===a.name)}).sort((r,t)=>new Date(r.date).getTime()-new Date(t.date).getTime());h(a,m)},T=()=>{switch(b){case"new":return e.jsx("div",{className:"w-full flex flex-col items-center justify-center animate-fade-in py-8",children:e.jsx(fe,{onSubmit:M,isLoading:y,initialName:E})});case"relationship":return e.jsx("div",{className:"w-full animate-fade-in",children:e.jsx(ge,{onAnalyze:R,isLoading:y,savedCharacters:f,onSaveCharacter:a=>p({id:crypto.randomUUID(),name:a.characterName,aliases:[],analysisData:a,labels:[],biography:[]}),narrativeLogs:j,initialSelections:B})});case"list":return e.jsx("div",{className:"animate-fade-in w-full max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[f.map(a=>{var m,r,t;return e.jsxs("div",{onClick:()=>C(a),className:"glass-panel p-6 rounded-[2rem] border transition-all hover:-translate-y-2 hover:shadow-2xl cursor-pointer group flex flex-col items-center text-center relative overflow-hidden",style:{borderColor:"var(--glass-border)",backgroundColor:"color-mix(in srgb, var(--accent-primary) 10%, transparent)"},children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-purple-500 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"absolute top-3 right-3 flex gap-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),X.exportCharacter(a)},className:"p-2 rounded-full bg-black/40 text-indigo-400 hover:bg-indigo-500 hover:text-white transition-all",title:"내보내기",children:e.jsx(se,{size:14})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),S({isOpen:!0,id:a.id,name:a.name})},className:"p-2 rounded-full bg-black/40 text-rose-400 hover:bg-rose-500 hover:text-white transition-all",title:"삭제",children:e.jsx(le,{size:14})})]}),e.jsxs("div",{className:"w-28 h-28 rounded-full mb-5 overflow-hidden border-2 border-indigo-500/30 group-hover:border-indigo-500 transition-colors bg-black/20 flex items-center justify-center relative group/avatar",children:[a.thumbnailUrl?e.jsx("img",{src:a.thumbnailUrl,alt:a.name,className:"w-full h-full object-cover"}):e.jsx(ie,{size:56,className:"text-slate-400 opacity-30"}),e.jsx("div",{onClick:s=>w(s,a.name),className:"absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover/avatar:opacity-100 transition-opacity cursor-pointer",children:e.jsx(ae,{size:24,className:"text-white"})})]}),e.jsx("h3",{className:"text-xl font-black mb-1",style:{color:"var(--text-primary)"},children:a.name}),e.jsx("span",{className:"text-[10px] px-3 py-1 rounded-full bg-indigo-500/10 text-indigo-500 font-black mb-4 uppercase tracking-widest",children:((r=(m=a.analysisData)==null?void 0:m.mbti)==null?void 0:r.type)||"UNKNOWN"}),e.jsxs("p",{className:"text-xs opacity-60 line-clamp-2 leading-relaxed italic",style:{color:"var(--text-primary)"},children:['"',((t=a.analysisData)==null?void 0:t.oneLineSummary)||"",'"']}),e.jsxs("div",{className:"mt-5 pt-5 border-t w-full flex items-center justify-center gap-1 text-[10px] font-black text-indigo-400 opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0",style:{borderColor:"var(--glass-border)"},children:["캐릭터 정보 상세보기 ",e.jsx(ce,{size:12})]})]},a.id)}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("button",{onClick:()=>i("new"),className:"glass-panel p-6 rounded-[2.5rem] border border-dashed flex flex-col items-center justify-center gap-4 transition-all hover:bg-white/5 opacity-50 hover:opacity-100 flex-1 group",style:{borderColor:"var(--text-primary)"},children:[e.jsx("div",{className:"p-4 rounded-full bg-black/5 transition-transform group-hover:rotate-12",children:e.jsx(K,{size:32,style:{color:"var(--text-primary)"}})}),e.jsx("span",{className:"font-black text-sm uppercase tracking-widest",style:{color:"var(--text-primary)"},children:"새 캐릭터 등록"})]}),e.jsxs("button",{onClick:()=>{var a;return(a=A.current)==null?void 0:a.click()},className:"glass-panel p-6 rounded-[2.5rem] border border-dashed flex flex-col items-center justify-center gap-4 transition-all hover:bg-white/5 opacity-50 hover:opacity-100 flex-1 group",style:{borderColor:"var(--text-primary)"},children:[e.jsx("div",{className:"p-4 rounded-full bg-black/5 transition-transform group-hover:scale-110",children:e.jsx(W,{size:32,style:{color:"var(--text-primary)"}})}),e.jsx("span",{className:"font-black text-sm uppercase tracking-widest",style:{color:"var(--text-primary)"},children:"불러오기"})]})]})]})});case"map":return e.jsx("div",{className:"animate-fade-in w-full max-w-6xl mx-auto",children:e.jsx(ee,{profiles:f,relationships:g,onNavigateToRelLab:(a,m)=>{F?F(a,m):i("relationship")},narrativeLogs:j,onAnalyzeRelationship:R})})}};return e.jsxs("div",{className:"w-full min-h-full",children:[e.jsx("input",{type:"file",ref:_,onChange:I,accept:"image/*",className:"hidden"}),e.jsx("input",{type:"file",ref:A,onChange:O,accept:".json",className:"hidden"}),e.jsx(q,{isOpen:D.isOpen,type:"confirm",title:"캐릭터 삭제",message:`'${D.name}' 캐릭터 데이터를 정말로 삭제하시겠습니까?
이 작업은 되돌릴 수 없습니다.`,onConfirm:()=>{x(D.id),S({isOpen:!1,id:"",name:""})},onCancel:()=>S({isOpen:!1,id:"",name:""})}),e.jsx("div",{className:"flex justify-center mb-10",children:e.jsx("div",{className:"flex p-1 rounded-2xl backdrop-blur-xl border shadow-2xl",style:{backgroundColor:"var(--glass-bg)",borderColor:"var(--glass-border)"},children:[{id:"list",label:"캐릭터 목록",icon:e.jsx(Z,{size:16})},{id:"map",label:"인물 관계도",icon:e.jsx(be,{size:16})},{id:"relationship",label:"관계 연구소",icon:e.jsx(L,{size:16})}].map(a=>e.jsxs("button",{onClick:()=>i(a.id),className:`px-6 py-3 rounded-xl text-sm font-black transition-all flex items-center gap-2 ${b===a.id?"shadow-xl scale-[1.02]":"opacity-40 hover:opacity-100 hover:bg-black/5"}`,style:{backgroundColor:b===a.id?"var(--accent-primary)":"transparent",color:b===a.id?"var(--accent-text)":"var(--text-primary)"},children:[a.icon," ",e.jsx("span",{className:"hidden sm:inline",children:a.label})]},a.id))})}),T(),z&&e.jsx(d.Suspense,{fallback:null,children:e.jsx(ye,{character:z,isOpen:!!z,onClose:()=>C(null),onSave:a=>{p(a),C(null)},onDelete:a=>{x(a),C(null)},onGoToAnalysis:k})})]})};export{_e as default};
